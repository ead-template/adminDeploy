"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[698],{4201:(Ln,yi,G)=>{G.d(yi,{S:()=>Xh,C:()=>Kh});var T=G(5671),E=G(3144),k=G(4942),re=G(9329),fe=G(6814),W=G(4902),Re=G(1413),ne=G(7326),H=G(3237),U=G(1120),R=G(136),P=G(8486),pe=G(7685),B=G(7762);function Ze(i){return i+.5|0}var _e=function(t,n,r){return Math.max(Math.min(t,r),n)};function rt(i){return _e(Ze(2.55*i),0,255)}function Fe(i){return _e(Ze(255*i),0,255)}function Ce(i){return _e(Ze(i/2.55)/100,0,1)}function la(i){return _e(Ze(100*i),0,100)}var me={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},bi=(0,W.Z)("0123456789ABCDEF"),Tn=function(t){return bi[15&t]},En=function(t){return bi[(240&t)>>4]+bi[15&t]},Vt=function(t){return(240&t)>>4==(15&t)};var Bn=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ua(i,t,n){var r=t*Math.min(n,1-n),e=function(s){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(s+i/30)%12;return n-r*Math.max(Math.min(o-3,9-o,1),-1)};return[e(0),e(8),e(4)]}function zn(i,t,n){var r=function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(a+i/60)%6;return n-n*t*Math.max(Math.min(s,4-s,1),0)};return[r(5),r(3),r(1)]}function Vn(i,t,n){var e,r=ua(i,1,.5);for(t+n>1&&(t*=e=1/(t+n),n*=e),e=0;e<3;e++)r[e]*=1-t-n,r[e]+=t;return r}function _i(i){var l,u,h,n=i.r/255,r=i.g/255,e=i.b/255,a=Math.max(n,r,e),s=Math.min(n,r,e),o=(a+s)/2;return a!==s&&(h=a-s,u=o>.5?h/(2-a-s):h/(a+s),l=function Wn(i,t,n,r,e){return i===e?(t-n)/r+(t<n?6:0):t===e?(n-i)/r+2:(i-t)/r+4}(n,r,e,h,a),l=60*l+.5),[0|l,u||0,o]}function xi(i,t,n,r){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,n,r)).map(Fe)}function ki(i,t,n){return xi(ua,i,t,n)}function ha(i){return(i%360+360)%360}var Wt,fa={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},da={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};var Xn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Si=function(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},nt=function(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)};function Ht(i,t,n){if(i){var r=_i(i);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=ki(r),i.r=r[0],i.g=r[1],i.b=r[2]}}function ca(i,t){return i&&Object.assign(t||{},i)}function va(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Fe(i[3]))):(t=ca(i,{r:0,g:0,b:0,a:1})).a=Fe(t.a),t}function Jn(i){return"r"===i.charAt(0)?function Gn(i){var r,e,a,t=Xn.exec(i),n=255;if(t){if(t[7]!==r){var s=+t[7];n=t[8]?rt(s):_e(255*s,0,255)}return r=+t[1],e=+t[3],a=+t[5],{r:r=255&(t[2]?rt(r):_e(r,0,255)),g:e=255&(t[4]?rt(e):_e(e,0,255)),b:a=255&(t[6]?rt(a):_e(a,0,255)),a:n}}}(i):function jn(i){var r,t=Bn.exec(i),n=255;if(t){t[5]!==r&&(n=t[6]?rt(+t[5]):Fe(+t[5]));var e=ha(+t[2]),a=+t[3]/100,s=+t[4]/100;return r="hwb"===t[1]?function Hn(i,t,n){return xi(Vn,i,t,n)}(e,a,s):"hsv"===t[1]?function Nn(i,t,n){return xi(zn,i,t,n)}(e,a,s):ki(e,a,s),{r:r[0],g:r[1],b:r[2],a:n}}}(i)}var Mi=function(){function i(t){if((0,T.Z)(this,i),t instanceof i)return t;var r,n=typeof t;"object"===n?r=va(t):"string"===n&&(r=function Zn(i){var n,t=i.length;return"#"===i[0]&&(4===t||5===t?n={r:255&17*me[i[1]],g:255&17*me[i[2]],b:255&17*me[i[3]],a:5===t?17*me[i[4]]:255}:(7===t||9===t)&&(n={r:me[i[1]]<<4|me[i[2]],g:me[i[3]]<<4|me[i[4]],b:me[i[5]]<<4|me[i[6]],a:9===t?me[i[7]]<<4|me[i[8]]:255})),n}(t)||function Kn(i){Wt||(Wt=function Yn(){var r,e,a,s,o,i={},t=Object.keys(da),n=Object.keys(fa);for(r=0;r<t.length;r++){for(s=o=t[r],e=0;e<n.length;e++)o=o.replace(a=n[e],fa[a]);a=parseInt(da[s],16),i[o]=[a>>16&255,a>>8&255,255&a]}return i}(),Wt.transparent=[0,0,0,0]);var t=Wt[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||Jn(t)),this._rgb=r,this._valid=!!r}return(0,E.Z)(i,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var n=ca(this._rgb);return n&&(n.a=Ce(n.a)),n},set:function(n){this._rgb=va(n)}},{key:"rgbString",value:function(){return this._valid?function qn(i){return i&&(i.a<255?"rgba(".concat(i.r,", ").concat(i.g,", ").concat(i.b,", ").concat(Ce(i.a),")"):"rgb(".concat(i.r,", ").concat(i.g,", ").concat(i.b,")"))}(this._rgb):void 0}},{key:"hexString",value:function(){return this._valid?function In(i){var t=function(t){return Vt(t.r)&&Vt(t.g)&&Vt(t.b)&&Vt(t.a)}(i)?Tn:En;return i?"#"+t(i.r)+t(i.g)+t(i.b)+function(t,n){return t<255?n(t):""}(i.a,t):void 0}(this._rgb):void 0}},{key:"hslString",value:function(){return this._valid?function $n(i){if(i){var t=_i(i),n=t[0],r=la(t[1]),e=la(t[2]);return i.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(e,"%, ").concat(Ce(i.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(e,"%)")}}(this._rgb):void 0}},{key:"mix",value:function(n,r){if(n){var s,e=this.rgb,a=n.rgb,o=r===s?.5:r,l=2*o-1,u=e.a-a.a,h=((l*u==-1?l:(l+u)/(1+l*u))+1)/2;e.r=255&h*e.r+(s=1-h)*a.r+.5,e.g=255&h*e.g+s*a.g+.5,e.b=255&h*e.b+s*a.b+.5,e.a=o*e.a+(1-o)*a.a,this.rgb=e}return this}},{key:"interpolate",value:function(n,r){return n&&(this._rgb=function Qn(i,t,n){var r=nt(Ce(i.r)),e=nt(Ce(i.g)),a=nt(Ce(i.b));return{r:Fe(Si(r+n*(nt(Ce(t.r))-r))),g:Fe(Si(e+n*(nt(Ce(t.g))-e))),b:Fe(Si(a+n*(nt(Ce(t.b))-a))),a:i.a+n*(t.a-i.a)}}(this._rgb,n._rgb,r)),this}},{key:"clone",value:function(){return new i(this.rgb)}},{key:"alpha",value:function(n){return this._rgb.a=Fe(n),this}},{key:"clearer",value:function(n){return this._rgb.a*=1-n,this}},{key:"greyscale",value:function(){var n=this._rgb,r=Ze(.3*n.r+.59*n.g+.11*n.b);return n.r=n.g=n.b=r,this}},{key:"opaquer",value:function(n){return this._rgb.a*=1+n,this}},{key:"negate",value:function(){var n=this._rgb;return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,this}},{key:"lighten",value:function(n){return Ht(this._rgb,2,n),this}},{key:"darken",value:function(n){return Ht(this._rgb,2,-n),this}},{key:"saturate",value:function(n){return Ht(this._rgb,1,n),this}},{key:"desaturate",value:function(n){return Ht(this._rgb,1,-n),this}},{key:"rotate",value:function(n){return function Un(i,t){var n=_i(i);n[0]=ha(n[0]+t),n=ki(n),i.r=n[0],i.g=n[1],i.b=n[2]}(this._rgb,n),this}}]),i}();function De(){}var i,es=(i=0,function(){return i++});function V(i){return null===i||typeof i>"u"}function Y(i){if(Array.isArray&&Array.isArray(i))return!0;var t=Object.prototype.toString.call(i);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function z(i){return null!==i&&"[object Object]"===Object.prototype.toString.call(i)}function q(i){return("number"==typeof i||i instanceof Number)&&isFinite(+i)}function de(i,t){return q(i)?i:t}function F(i,t){return typeof i>"u"?t:i}var ga=function(t,n){return"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*n:+t};function $(i,t,n){if(i&&"function"==typeof i.call)return i.apply(n,t)}function j(i,t,n,r){var e,a,s;if(Y(i))if(a=i.length,r)for(e=a-1;e>=0;e--)t.call(n,i[e],e);else for(e=0;e<a;e++)t.call(n,i[e],e);else if(z(i))for(a=(s=Object.keys(i)).length,e=0;e<a;e++)t.call(n,i[s[e]],s[e])}function Nt(i,t){var n,r,e,a;if(!i||!t||i.length!==t.length)return!1;for(n=0,r=i.length;n<r;++n)if((e=i[n]).datasetIndex!==(a=t[n]).datasetIndex||e.index!==a.index)return!1;return!0}function jt(i){if(Y(i))return i.map(jt);if(z(i)){for(var t=Object.create(null),n=Object.keys(i),r=n.length,e=0;e<r;++e)t[n[e]]=jt(i[n[e]]);return t}return i}function pa(i){return-1===["__proto__","prototype","constructor"].indexOf(i)}function is(i,t,n,r){if(pa(i)){var e=t[i],a=n[i];z(e)&&z(a)?ct(e,a,r):t[i]=jt(a)}}function ct(i,t,n){var r=Y(t)?t:[t],e=r.length;if(!z(i))return i;for(var s,a=(n=n||{}).merger||is,o=0;o<e;++o)if(z(s=r[o]))for(var l=Object.keys(s),u=0,h=l.length;u<h;++u)a(l[u],i,s,n);return i}function vt(i,t){return ct(i,t,{merger:as})}function as(i,t,n){if(pa(i)){var r=t[i],e=n[i];z(r)&&z(e)?vt(r,e):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=jt(e))}}var ma={"":function(t){return t},x:function(t){return t.x},y:function(t){return t.y}};function Ie(i,t){return(ma[t]||(ma[t]=function ns(i){var t=function rs(i){var a,t=i.split("."),n=[],r="",e=(0,B.Z)(t);try{for(e.s();!(a=e.n()).done;)(r+=a.value).endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="")}catch(o){e.e(o)}finally{e.f()}return n}(i);return function(n){var e,r=(0,B.Z)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;if(""===a)break;n=n&&n[a]}}catch(s){r.e(s)}finally{r.f()}return n}}(t)))(i)}function wi(i){return i.charAt(0).toUpperCase()+i.slice(1)}var gt=function(t){return typeof t<"u"},Be=function(t){return"function"==typeof t},ya=function(t,n){if(t.size!==n.size)return!1;var e,r=(0,B.Z)(t);try{for(r.s();!(e=r.n()).done;)if(!n.has(e.value))return!1}catch(s){r.e(s)}finally{r.f()}return!0},X=Math.PI,K=2*X,os=K+X,Ut=Number.POSITIVE_INFINITY,ls=X/180,Q=X/2,Ye=X/4,ba=2*X/3,ze=Math.log10,Se=Math.sign;function pt(i,t,n){return Math.abs(i-t)<n}function _a(i){var t=Math.round(i);i=pt(i,t,i/1e3)?t:i;var n=Math.pow(10,Math.floor(ze(i))),r=i/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function st(i){return!isNaN(parseFloat(i))&&isFinite(i)}function xa(i,t,n){var r,e,a;for(r=0,e=i.length;r<e;r++)a=i[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function xe(i){return i*(X/180)}function Ci(i){return i*(180/X)}function ka(i){if(q(i)){for(var t=1,n=0;Math.round(i*t)/t!==i;)t*=10,n++;return n}}function Sa(i,t){var n=t.x-i.x,r=t.y-i.y,e=Math.sqrt(n*n+r*r),a=Math.atan2(r,n);return a<-.5*X&&(a+=K),{angle:a,distance:e}}function Di(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function fs(i,t){return(i-t+os)%K-X}function ce(i){return(i%K+K)%K}function mt(i,t,n,r){var e=ce(i),a=ce(t),s=ce(n),o=ce(a-e),l=ce(s-e),u=ce(e-a),h=ce(e-s);return e===a||e===s||r&&a===s||o>l&&u<h}function ie(i,t,n){return Math.max(t,Math.min(n,i))}function Pe(i,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return i>=Math.min(t,n)-r&&i<=Math.max(t,n)+r}function Pi(i,t,n){n=n||function(s){return i[s]<t};for(var a,r=i.length-1,e=0;r-e>1;)n(a=e+r>>1)?e=a:r=a;return{lo:e,hi:r}}var Oe=function(t,n,r,e){return Pi(t,r,e?function(a){var s=t[a][n];return s<r||s===r&&t[a+1][n]===r}:function(a){return t[a][n]<r})},cs=function(t,n,r){return Pi(t,r,function(e){return t[e][n]>=r})},Ma=["push","pop","shift","splice","unshift"];function wa(i,t){var n=i._chartjs;if(n){var r=n.listeners,e=r.indexOf(t);-1!==e&&r.splice(e,1),!(r.length>0)&&(Ma.forEach(function(a){delete i[a]}),delete i._chartjs)}}function Ca(i){var t=new Set(i);return t.size===i.length?i:Array.from(t)}var Da=typeof window>"u"?function(i){return i()}:window.requestAnimationFrame;function Pa(i,t){var n=[],r=!1;return function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];n=a,r||(r=!0,Da.call(window,function(){r=!1,i.apply(t,n)}))}}var Oi=function(t){return"start"===t?"left":"end"===t?"right":"center"},se=function(t,n,r){return"start"===t?n:"end"===t?r:(n+r)/2};function Oa(i,t,n){var r=t.length,e=0,a=r;if(i._sorted){var s=i.iScale,o=i._parsed,l=s.axis,u=s.getUserBounds(),h=u.min,f=u.max,c=u.maxDefined;u.minDefined&&(e=ie(Math.min(Oe(o,l,h).lo,n?r:Oe(t,l,s.getPixelForValue(h)).lo),0,r-1)),a=c?ie(Math.max(Oe(o,s.axis,f,!0).hi+1,n?0:Oe(t,l,s.getPixelForValue(f),!0).hi+1),e,r)-e:r-e}return{start:e,count:a}}function Aa(i){var t=i.xScale,n=i.yScale,r=i._scaleRanges,e={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return i._scaleRanges=e,!0;var a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,e),a}var $t=function(t){return 0===t||1===t},La=function(t,n,r){return-Math.pow(2,10*(t-=1))*Math.sin((t-n)*K/r)},Ta=function(t,n,r){return Math.pow(2,-10*t)*Math.sin((t-n)*K/r)+1},yt={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*Q)},easeOutSine:function(t){return Math.sin(t*Q)},easeInOutSine:function(t){return-.5*(Math.cos(X*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return $t(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1)))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){return $t(t)?t:La(t,.075,.3)},easeOutElastic:function(t){return $t(t)?t:Ta(t,.075,.3)},easeInOutElastic:function(t){var n=.1125;return $t(t)?t:t<.5?.5*La(2*t,n,.45):.5+.5*Ta(2*t-1,n,.45)},easeInBack:function(t){var n=1.70158;return t*t*((n+1)*t-n)},easeOutBack:function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},easeInOutBack:function(t){var n=1.70158;return(t/=.5)<1?t*t*((1+(n*=1.525))*t-n)*.5:.5*((t-=2)*t*((1+(n*=1.525))*t+n)+2)},easeInBounce:function(t){return 1-yt.easeOutBounce(1-t)},easeOutBounce:function(t){var n=7.5625,r=2.75;return t<1/r?n*t*t:t<2/r?n*(t-=1.5/r)*t+.75:t<2.5/r?n*(t-=2.25/r)*t+.9375:n*(t-=2.625/r)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*yt.easeInBounce(2*t):.5*yt.easeOutBounce(2*t-1)+.5}};function Ai(i){if(i&&"object"==typeof i){var t=i.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ea(i){return Ai(i)?i:new Mi(i)}function Li(i){return Ai(i)?i:new Mi(i).saturate(.5).darken(.1).hexString()}var ys=["x","y","borderWidth","radius","tension"],bs=["color","borderColor","backgroundColor"],Ra=new Map;function bt(i,t,n){return function ks(i,t){t=t||{};var n=i+JSON.stringify(t),r=Ra.get(n);return r||(r=new Intl.NumberFormat(i,t),Ra.set(n,r)),r}(t,n).format(i)}var Za={values:function(t){return Y(t)?t:""+t},numeric:function(t,n,r){if(0===t)return"0";var a,e=this.chart.options.locale,s=t;if(r.length>1){var o=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(o<1e-4||o>1e15)&&(a="scientific"),s=function Ss(i,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&i!==Math.floor(i)&&(n=i-Math.floor(i)),n}(t,r)}var l=ze(Math.abs(s)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:a,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),bt(t,e,h)},logarithmic:function(t,n,r){if(0===t)return"0";var e=r[n].significand||t/Math.pow(10,Math.floor(ze(t)));return[1,2,3,5,10,15].includes(e)||n>.8*r.length?Za.numeric.call(this,t,n,r):""}},Yt={formatters:Za},Ke=Object.create(null),Ti=Object.create(null);function _t(i,t){if(!t)return i;for(var n=t.split("."),r=0,e=n.length;r<e;++r){var a=n[r];i=i[a]||(i[a]=Object.create(null))}return i}function Ei(i,t,n){return"string"==typeof t?ct(_t(i,t),n):ct(_t(i,""),t)}var ws=function(){function i(t,n){(0,T.Z)(this,i),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(r){return r.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(r,e){return Li(e.backgroundColor)},this.hoverBorderColor=function(r,e){return Li(e.borderColor)},this.hoverColor=function(r,e){return Li(e.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}return(0,E.Z)(i,[{key:"set",value:function(n,r){return Ei(this,n,r)}},{key:"get",value:function(n){return _t(this,n)}},{key:"describe",value:function(n,r){return Ei(Ti,n,r)}},{key:"override",value:function(n,r){return Ei(Ke,n,r)}},{key:"route",value:function(n,r,e,a){var s,o=_t(this,n),l=_t(this,e),u="_"+r;Object.defineProperties(o,((0,k.Z)(s={},u,{value:o[r],writable:!0}),(0,k.Z)(s,r,{enumerable:!0,get:function(){var f=this[u],d=l[a];return z(f)?Object.assign({},d,f):F(f,d)},set:function(f){this[u]=f}}),s))}},{key:"apply",value:function(n){var r=this;n.forEach(function(e){return e(r)})}}]),i}(),J=new ws({_scriptable:function(t){return!t.startsWith("on")},_indexable:function(t){return"events"!==t},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function _s(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(n){return"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}}),i.set("animations",{colors:{type:"color",properties:bs},numbers:{type:"number",properties:ys}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(n){return 0|n}}}}})},function xs(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Ms(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(n,r){return r.lineWidth},tickColor:function(n,r){return r.color},offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yt.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:function(n){return!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n},_indexable:function(n){return"borderDash"!==n&&"tickBorderDash"!==n&&"dash"!==n}}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:function(n){return"backdropPadding"!==n&&"callback"!==n},_indexable:function(n){return"backdropPadding"!==n}})}]);function Kt(i,t,n,r,e){var a=t[e];return a||(a=t[e]=i.measureText(e).width,n.push(e)),a>r&&(r=a),r}function Ds(i,t,n,r){var e=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(e=r.data={},a=r.garbageCollect=[],r.font=t),i.save(),i.font=t;var l,u,h,f,d,s=0,o=n.length;for(l=0;l<o;l++)if(null==(f=n[l])||Y(f)){if(Y(f))for(u=0,h=f.length;u<h;u++)null!=(d=f[u])&&!Y(d)&&(s=Kt(i,e,a,s,d))}else s=Kt(i,e,a,s,f);i.restore();var c=a.length/2;if(c>n.length){for(l=0;l<c;l++)delete e[a[l]];a.splice(0,c)}return s}function Xe(i,t,n){var r=i.currentDevicePixelRatio,e=0!==n?Math.max(n/2,.5):0;return Math.round((t-e)*r)/r+e}function Fa(i,t){(t=t||i.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore()}function Ri(i,t,n,r){Ia(i,t,n,r,null)}function Ia(i,t,n,r,e){var a,s,o,l,u,h,f,d,c=t.pointStyle,v=t.rotation,g=t.radius,p=(v||0)*ls;if(c&&"object"==typeof c&&("[object HTMLImageElement]"===(a=c.toString())||"[object HTMLCanvasElement]"===a))return i.save(),i.translate(n,r),i.rotate(p),i.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void i.restore();if(!(isNaN(g)||g<=0)){switch(i.beginPath(),c){default:e?i.ellipse(n,r,e/2,g,0,0,K):i.arc(n,r,g,0,K),i.closePath();break;case"triangle":h=e?e/2:g,i.moveTo(n+Math.sin(p)*h,r-Math.cos(p)*g),p+=ba,i.lineTo(n+Math.sin(p)*h,r-Math.cos(p)*g),p+=ba,i.lineTo(n+Math.sin(p)*h,r-Math.cos(p)*g),i.closePath();break;case"rectRounded":l=g-(u=.516*g),s=Math.cos(p+Ye)*l,f=Math.cos(p+Ye)*(e?e/2-u:l),o=Math.sin(p+Ye)*l,d=Math.sin(p+Ye)*(e?e/2-u:l),i.arc(n-f,r-o,u,p-X,p-Q),i.arc(n+d,r-s,u,p-Q,p),i.arc(n+f,r+o,u,p,p+Q),i.arc(n-d,r+s,u,p+Q,p+X),i.closePath();break;case"rect":if(!v){l=Math.SQRT1_2*g,i.rect(n-(h=e?e/2:l),r-l,2*h,2*l);break}p+=Ye;case"rectRot":f=Math.cos(p)*(e?e/2:g),s=Math.cos(p)*g,o=Math.sin(p)*g,d=Math.sin(p)*(e?e/2:g),i.moveTo(n-f,r-o),i.lineTo(n+d,r-s),i.lineTo(n+f,r+o),i.lineTo(n-d,r+s),i.closePath();break;case"crossRot":p+=Ye;case"cross":f=Math.cos(p)*(e?e/2:g),s=Math.cos(p)*g,o=Math.sin(p)*g,d=Math.sin(p)*(e?e/2:g),i.moveTo(n-f,r-o),i.lineTo(n+f,r+o),i.moveTo(n+d,r-s),i.lineTo(n-d,r+s);break;case"star":f=Math.cos(p)*(e?e/2:g),s=Math.cos(p)*g,o=Math.sin(p)*g,d=Math.sin(p)*(e?e/2:g),i.moveTo(n-f,r-o),i.lineTo(n+f,r+o),i.moveTo(n+d,r-s),i.lineTo(n-d,r+s),p+=Ye,f=Math.cos(p)*(e?e/2:g),s=Math.cos(p)*g,o=Math.sin(p)*g,d=Math.sin(p)*(e?e/2:g),i.moveTo(n-f,r-o),i.lineTo(n+f,r+o),i.moveTo(n+d,r-s),i.lineTo(n-d,r+s);break;case"line":s=e?e/2:Math.cos(p)*g,o=Math.sin(p)*g,i.moveTo(n-s,r-o),i.lineTo(n+s,r+o);break;case"dash":i.moveTo(n,r),i.lineTo(n+Math.cos(p)*(e?e/2:g),r+Math.sin(p)*g);break;case!1:i.closePath()}i.fill(),t.borderWidth>0&&i.stroke()}}function Ae(i,t,n){return n=n||.5,!t||i&&i.x>t.left-n&&i.x<t.right+n&&i.y>t.top-n&&i.y<t.bottom+n}function Xt(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Gt(i){i.restore()}function Ps(i,t,n,r,e){if(!t)return i.lineTo(n.x,n.y);if("middle"===e){var a=(t.x+n.x)/2;i.lineTo(a,t.y),i.lineTo(a,n.y)}else"after"===e!=!!r?i.lineTo(t.x,n.y):i.lineTo(n.x,t.y);i.lineTo(n.x,n.y)}function Os(i,t,n,r){if(!t)return i.lineTo(n.x,n.y);i.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Ls(i,t,n,r,e){if(e.strikethrough||e.underline){var a=i.measureText(r),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,u=n+a.actualBoundingBoxDescent,h=e.strikethrough?(n-a.actualBoundingBoxAscent+u)/2:u;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=e.decorationWidth||2,i.moveTo(s,h),i.lineTo(o,h),i.stroke()}}function Ts(i,t){var n=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=n}function Ge(i,t,n,r,e){var l,u,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=Y(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;for(i.save(),i.font=e.string,function As(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),V(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}(i,a),l=0;l<s.length;++l)u=s[l],a.backdrop&&Ts(i,a.backdrop),o&&(a.strokeColor&&(i.strokeStyle=a.strokeColor),V(a.strokeWidth)||(i.lineWidth=a.strokeWidth),i.strokeText(u,n,r,a.maxWidth)),i.fillText(u,n,r,a.maxWidth),Ls(i,n,r,u,a),r+=Number(e.lineHeight);i.restore()}function xt(i,t){var n=t.x,r=t.y,e=t.w,a=t.h,s=t.radius;i.arc(n+s.topLeft,r+s.topLeft,s.topLeft,-Q,X,!0),i.lineTo(n,r+a-s.bottomLeft),i.arc(n+s.bottomLeft,r+a-s.bottomLeft,s.bottomLeft,X,Q,!0),i.lineTo(n+e-s.bottomRight,r+a),i.arc(n+e-s.bottomRight,r+a-s.bottomRight,s.bottomRight,Q,0,!0),i.lineTo(n+e,r+s.topRight),i.arc(n+e-s.topRight,r+s.topRight,s.topRight,0,-Q,!0),i.lineTo(n+s.topLeft,r)}var Es=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Rs=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Zs(i,t){var n=(""+i).match(Es);if(!n||"normal"===n[1])return 1.2*t;switch(i=+n[2],n[3]){case"px":return i;case"%":i/=100}return t*i}var Fs=function(t){return+t||0};function Zi(i,t){var o,n={},r=z(t),e=r?Object.keys(t):t,a=z(i)?r?function(u){return F(i[u],i[t[u]])}:function(u){return i[u]}:function(){return i},s=(0,B.Z)(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;n[l]=Fs(a(l))}}catch(u){s.e(u)}finally{s.f()}return n}function Ba(i){return Zi(i,{top:"y",right:"x",bottom:"y",left:"x"})}function qe(i){return Zi(i,["topLeft","topRight","bottomLeft","bottomRight"])}function oe(i){var t=Ba(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ee(i,t){var n=F((i=i||{}).size,(t=t||J.font).size);"string"==typeof n&&(n=parseInt(n,10));var r=F(i.style,t.style);r&&!(""+r).match(Rs)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);var e={family:F(i.family,t.family),lineHeight:Zs(F(i.lineHeight,t.lineHeight),n),size:n,style:r,weight:F(i.weight,t.weight),string:""};return e.string=function Cs(i){return!i||V(i.size)||V(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}(e),e}function kt(i,t,n,r){var a,s,o,e=!0;for(a=0,s=i.length;a<s;++a)if(void 0!==(o=i[a])&&(void 0!==t&&"function"==typeof o&&(o=o(t),e=!1),void 0!==n&&Y(o)&&(o=o[n%o.length],e=!1),void 0!==o))return r&&!e&&(r.cacheable=!1),o}function Ve(i,t){return Object.assign(Object.create(i),t)}function Fi(i){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],e=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return i[0]},s=(arguments.length>2?arguments[2]:void 0)||i;typeof e>"u"&&(e=Na("_fallback",i));var o=((0,k.Z)(t={},Symbol.toStringTag,"Object"),(0,k.Z)(t,"_cacheable",!0),(0,k.Z)(t,"_scopes",i),(0,k.Z)(t,"_rootScopes",s),(0,k.Z)(t,"_fallback",e),(0,k.Z)(t,"_getTarget",a),(0,k.Z)(t,"override",function(u){return Fi([u].concat((0,W.Z)(i)),n,s,e)}),t);return new Proxy(o,{deleteProperty:function(u,h){return delete u[h],delete u._keys,delete i[0][h],!0},get:function(u,h){return Va(u,h,function(){return function Us(i,t,n,r){var e,s,a=(0,B.Z)(t);try{for(a.s();!(s=a.n()).done;)if(typeof(e=Na(Bs(s.value,i),n))<"u")return Ii(i,e)?Bi(n,r,i,e):e}catch(l){a.e(l)}finally{a.f()}}(h,n,i,u)})},getOwnPropertyDescriptor:function(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf:function(){return Reflect.getPrototypeOf(i[0])},has:function(u,h){return ja(u).includes(h)},ownKeys:function(u){return ja(u)},set:function(u,h,f){var d=u._storage||(u._storage=a());return u[h]=d[h]=f,delete u._keys,!0}})}function ot(i,t,n,r){var e={_cacheable:!1,_proxy:i,_context:t,_subProxy:n,_stack:new Set,_descriptors:za(i,r),setContext:function(s){return ot(i,s,n,r)},override:function(s){return ot(i.override(s),t,n,r)}};return new Proxy(e,{deleteProperty:function(s,o){return delete s[o],delete i[o],!0},get:function(s,o,l){return Va(s,o,function(){return function zs(i,t,n){var e=i._context,a=i._subProxy,s=i._descriptors,o=i._proxy[t];return Be(o)&&s.isScriptable(t)&&(o=function Vs(i,t,n,r){var e=n._proxy,a=n._context,s=n._subProxy,o=n._stack;if(o.has(i))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+i);o.add(i);var l=t(a,s||r);return o.delete(i),Ii(i,l)&&(l=Bi(e._scopes,e,i,l)),l}(t,o,i,n)),Y(o)&&o.length&&(o=function Ws(i,t,n,r){var e=n._proxy,a=n._context,s=n._subProxy,o=n._descriptors;if(typeof a.index<"u"&&r(i))return t[a.index%t.length];if(z(t[0])){var l=t,u=e._scopes.filter(function(v){return v!==l});t=[];var f,h=(0,B.Z)(l);try{for(h.s();!(f=h.n()).done;){var c=Bi(u,e,i,f.value);t.push(ot(c,a,s&&s[i],o))}}catch(v){h.e(v)}finally{h.f()}}return t}(t,o,i,s.isIndexable)),Ii(t,o)&&(o=ot(o,e,a&&a[t],s)),o}(s,o,l)})},getOwnPropertyDescriptor:function(s,o){return s._descriptors.allKeys?Reflect.has(i,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,o)},getPrototypeOf:function(){return Reflect.getPrototypeOf(i)},has:function(s,o){return Reflect.has(i,o)},ownKeys:function(){return Reflect.ownKeys(i)},set:function(s,o,l){return i[o]=l,delete s[o],!0}})}function za(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=i._scriptable,r=void 0===n?t.scriptable:n,e=i._indexable,a=void 0===e?t.indexable:e,s=i._allKeys;return{allKeys:void 0===s?t.allKeys:s,scriptable:r,indexable:a,isScriptable:Be(r)?r:function(){return r},isIndexable:Be(a)?a:function(){return a}}}var Bs=function(t,n){return t?t+wi(n):n},Ii=function(t,n){return z(n)&&"adapters"!==t&&(null===Object.getPrototypeOf(n)||n.constructor===Object)};function Va(i,t,n){if(Object.prototype.hasOwnProperty.call(i,t))return i[t];var r=n();return i[t]=r,r}function Wa(i,t,n){return Be(i)?i(t,n):i}var Hs=function(t,n){return!0===t?n:"string"==typeof t?Ie(n,t):void 0};function Ns(i,t,n,r,e){var s,a=(0,B.Z)(t);try{for(a.s();!(s=a.n()).done;){var l=Hs(n,s.value);if(l){i.add(l);var u=Wa(l._fallback,n,e);if(typeof u<"u"&&u!==n&&u!==r)return u}else if(!1===l&&typeof r<"u"&&n!==r)return null}}catch(h){a.e(h)}finally{a.f()}return!1}function Bi(i,t,n,r){var e=t._rootScopes,a=Wa(t._fallback,n,r),s=[].concat((0,W.Z)(i),(0,W.Z)(e)),o=new Set;o.add(r);var l=Ha(o,s,n,a||n,r);return!(null===l||typeof a<"u"&&a!==n&&(l=Ha(o,s,a,l,r),null===l))&&Fi(Array.from(o),[""],e,a,function(){return function js(i,t,n){var r=i._getTarget();t in r||(r[t]={});var e=r[t];return Y(e)&&z(n)?n:e||{}}(t,n,r)})}function Ha(i,t,n,r,e){for(;n;)n=Ns(i,t,n,r,e);return n}function Na(i,t){var r,n=(0,B.Z)(t);try{for(n.s();!(r=n.n()).done;){var e=r.value;if(e){var a=e[i];if(typeof a<"u")return a}}}catch(s){n.e(s)}finally{n.f()}}function ja(i){var t=i._keys;return t||(t=i._keys=function $s(i){var r,t=new Set,n=(0,B.Z)(i);try{for(n.s();!(r=n.n()).done;){var s,a=(0,B.Z)(Object.keys(r.value).filter(function(l){return!l.startsWith("_")}));try{for(a.s();!(s=a.n()).done;)t.add(s.value)}catch(l){a.e(l)}finally{a.f()}}}catch(l){n.e(l)}finally{n.f()}return Array.from(t)}(i._scopes)),t}function Ua(i,t,n,r){var l,u,h,e=i.iScale,a=this._parsing.key,s=void 0===a?"r":a,o=new Array(r);for(l=0,u=r;l<u;++l)o[l]={r:e.parse(Ie(t[h=l+n],s),h)};return o}var Ys=Number.EPSILON||1e-14,lt=function(t,n){return n<t.length&&!t[n].skip&&t[n]},$a=function(t){return"x"===t?"y":"x"};function Ks(i,t,n,r){var e=i.skip?t:i,a=t,s=n.skip?t:n,o=Di(a,e),l=Di(s,a),u=o/(o+l),h=l/(o+l),f=r*(u=isNaN(u)?0:u),d=r*(h=isNaN(h)?0:h);return{previous:{x:a.x-f*(s.x-e.x),y:a.y-f*(s.y-e.y)},next:{x:a.x+d*(s.x-e.x),y:a.y+d*(s.y-e.y)}}}function qt(i,t,n){return Math.max(Math.min(i,n),t)}function Js(i,t,n,r,e){var a,s,o,l;if(t.spanGaps&&(i=i.filter(function(h){return!h.skip})),"monotone"===t.cubicInterpolationMode)!function qs(i){var s,o,l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=$a(t),r=i.length,e=Array(r).fill(0),a=Array(r),u=lt(i,0);for(s=0;s<r;++s)if(o=l,l=u,u=lt(i,s+1),l){if(u){var h=u[t]-l[t];e[s]=0!==h?(u[n]-l[n])/h:0}a[s]=o?u?Se(e[s-1])!==Se(e[s])?0:(e[s-1]+e[s])/2:e[s-1]:e[s]}(function Xs(i,t,n){for(var e,a,s,o,l,r=i.length,u=lt(i,0),h=0;h<r-1;++h)if(l=u,u=lt(i,h+1),l&&u){if(pt(t[h],0,Ys)){n[h]=n[h+1]=0;continue}e=n[h]/t[h],a=n[h+1]/t[h],!((o=Math.pow(e,2)+Math.pow(a,2))<=9)&&(s=3/Math.sqrt(o),n[h]=e*s*t[h],n[h+1]=a*s*t[h])}})(i,e,a),function Gs(i,t){for(var a,s,o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",r=$a(n),e=i.length,l=lt(i,0),u=0;u<e;++u)if(s=o,o=l,l=lt(i,u+1),o){var h=o[n],f=o[r];s&&(a=(h-s[n])/3,o["cp1".concat(n)]=h-a,o["cp1".concat(r)]=f-a*t[u]),l&&(a=(l[n]-h)/3,o["cp2".concat(n)]=h+a,o["cp2".concat(r)]=f+a*t[u])}}(i,a,t)}(i,e);else{var u=r?i[i.length-1]:i[0];for(a=0,s=i.length;a<s;++a)l=Ks(u,o=i[a],i[Math.min(a+1,s-(r?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}t.capBezierPoints&&function Qs(i,t){var n,r,e,a,s,o=Ae(i[0],t);for(n=0,r=i.length;n<r;++n)s=a,a=o,o=n<r-1&&Ae(i[n+1],t),a&&(e=i[n],s&&(e.cp1x=qt(e.cp1x,t.left,t.right),e.cp1y=qt(e.cp1y,t.top,t.bottom)),o&&(e.cp2x=qt(e.cp2x,t.left,t.right),e.cp2y=qt(e.cp2y,t.top,t.bottom)))}(i,n)}function Ya(){return typeof window<"u"&&typeof document<"u"}function zi(i){var t=i.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Qt(i,t,n){var r;return"string"==typeof i?(r=parseInt(i,10),-1!==i.indexOf("%")&&(r=r/100*t.parentNode[n])):r=i,r}var Jt=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},to=["top","right","bottom","left"];function Qe(i,t,n){var r={};n=n?"-"+n:"";for(var e=0;e<4;e++){var a=to[e];r[a]=parseFloat(i[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var io=function(t,n,r){return(t>0||n>0)&&(!r||!r.shadowRoot)};function Je(i,t){if("native"in i)return i;var n=t.canvas,r=t.currentDevicePixelRatio,e=Jt(n),a="border-box"===e.boxSizing,s=Qe(e,"padding"),o=Qe(e,"border","width"),l=function ao(i,t){var o,l,n=i.touches,r=n&&n.length?n[0]:i,e=r.offsetX,a=r.offsetY,s=!1;if(io(e,a,i.target))o=e,l=a;else{var u=t.getBoundingClientRect();o=r.clientX-u.left,l=r.clientY-u.top,s=!0}return{x:o,y:l,box:s}}(i,n),h=l.y,f=l.box,c=s.top+(f&&o.top),v=t.width,g=t.height;return a&&(v-=s.width+o.width,g-=s.height+o.height),{x:Math.round((l.x-(s.left+(f&&o.left)))/v*n.width/r),y:Math.round((h-c)/g*n.height/r)}}var ei=function(t){return Math.round(10*t)/10};function Ka(i,t,n){var r=t||1,e=Math.floor(i.height*r),a=Math.floor(i.width*r);i.height=Math.floor(i.height),i.width=Math.floor(i.width);var s=i.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height="".concat(i.height,"px"),s.style.width="".concat(i.width,"px")),(i.currentDevicePixelRatio!==r||s.height!==e||s.width!==a)&&(i.currentDevicePixelRatio=r,s.height=e,s.width=a,i.ctx.setTransform(r,0,0,r,0,0),!0)}var so=function(){var i=!1;try{var t={get passive(){return i=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return i}();function Xa(i,t){var n=function eo(i,t){return Jt(i).getPropertyValue(t)}(i,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function et(i,t,n,r){return{x:i.x+n*(t.x-i.x),y:i.y+n*(t.y-i.y)}}function oo(i,t,n,r){return{x:i.x+n*(t.x-i.x),y:"middle"===r?n<.5?i.y:t.y:"after"===r?n<1?i.y:t.y:n>0?t.y:i.y}}function lo(i,t,n,r){var e={x:i.cp2x,y:i.cp2y},a={x:t.cp1x,y:t.cp1y},s=et(i,e,n),o=et(e,a,n),l=et(a,t,n),u=et(s,o,n),h=et(o,l,n);return et(u,h,n)}function ut(i,t,n){return i?function(t,n){return{x:function(e){return t+t+n-e},setWidth:function(e){n=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,a){return e-a},leftForLtr:function(e,a){return e-a}}}(t,n):{x:function(n){return n},setWidth:function(n){},textAlign:function(n){return n},xPlus:function(n,r){return n+r},leftForLtr:function(n,r){return n}}}function Ga(i,t){var n,r;("ltr"===t||"rtl"===t)&&(r=[(n=i.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),i.prevTextDirection=r)}function qa(i,t){void 0!==t&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function Qa(i){return"angle"===i?{between:mt,compare:fs,normalize:ce}:{between:Pe,compare:function(n,r){return n-r},normalize:function(n){return n}}}function Ja(i){var t=i.start,n=i.end,r=i.count;return{start:t%r,end:n%r,loop:i.loop&&(n-t+1)%r==0,style:i.style}}function er(i,t,n){if(!n)return[i];for(var _,x,b,r=n.property,e=n.start,a=n.end,s=t.length,o=Qa(r),l=o.compare,u=o.between,h=o.normalize,f=function fo(i,t,n){var c,v,r=n.property,e=n.start,a=n.end,s=Qa(r),o=s.between,l=s.normalize,u=t.length,h=i.start,f=i.end,d=i.loop;if(d){for(h+=u,f+=u,c=0,v=u;c<v&&o(l(t[h%u][r]),e,a);++c)h--,f--;h%=u,f%=u}return f<h&&(f+=u),{start:h,end:f,loop:d,style:i.style}}(i,t,n),d=f.start,c=f.end,v=f.loop,g=f.style,p=[],y=!1,m=null,D=d,O=d;D<=c;++D)!(x=t[D%s]).skip&&(_=h(x[r]))!==b&&(y=u(_,e,a),null===m&&(y||u(e,b,_)&&0!==l(e,b))&&(m=0===l(_,e)?D:O),null!==m&&(!y||0===l(a,_)||u(a,b,_))&&(p.push(Ja({start:m,end:D,loop:v,count:s,style:g})),m=null),O=D,b=_);return null!==m&&p.push(Ja({start:m,end:c,loop:v,count:s,style:g})),p}function tr(i,t){for(var n=[],r=i.segments,e=0;e<r.length;e++){var a=er(r[e],i.points,t);a.length&&n.push.apply(n,(0,W.Z)(a))}return n}function ar(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function mo(i,t){if(!t)return!1;var n=[],r=function(a,s){return Ai(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(i,r)!==JSON.stringify(t,r)}var yo=function(){function i(){(0,T.Z)(this,i),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return(0,E.Z)(i,[{key:"_notify",value:function(n,r,e,a){var o=r.duration;r.listeners[a].forEach(function(l){return l({chart:n,initial:r.initial,numSteps:o,currentStep:Math.min(e-r.start,o)})})}},{key:"_refresh",value:function(){var n=this;this._request||(this._running=!0,this._request=Da.call(window,function(){n._update(),n._request=null,n._running&&n._refresh()}))}},{key:"_update",value:function(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(function(a,s){if(a.running&&a.items.length){for(var h,o=a.items,l=o.length-1,u=!1;l>=0;--l)(h=o[l])._active?(h._total>a.duration&&(a.duration=h._total),h.tick(r),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),n._notify(s,a,r,"progress")),o.length||(a.running=!1,n._notify(s,a,r,"complete"),a.initial=!1),e+=o.length}}),this._lastDate=r,0===e&&(this._running=!1)}},{key:"_getAnims",value:function(n){var r=this._charts,e=r.get(n);return e||r.set(n,e={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}}),e}},{key:"listen",value:function(n,r,e){this._getAnims(n).listeners[r].push(e)}},{key:"add",value:function(n,r){var e;!r||!r.length||(e=this._getAnims(n).items).push.apply(e,(0,W.Z)(r))}},{key:"has",value:function(n){return this._getAnims(n).items.length>0}},{key:"start",value:function(n){var r=this._charts.get(n);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce(function(e,a){return Math.max(e,a._duration)},0),this._refresh())}},{key:"running",value:function(n){if(!this._running)return!1;var r=this._charts.get(n);return!(!r||!r.running||!r.items.length)}},{key:"stop",value:function(n){var r=this._charts.get(n);if(r&&r.items.length){for(var e=r.items,a=e.length-1;a>=0;--a)e[a].cancel();r.items=[],this._notify(n,r,Date.now(),"complete")}}},{key:"remove",value:function(n){return this._charts.delete(n)}}]),i}(),Le=new yo,rr="transparent",bo={boolean:function(t,n,r){return r>.5?n:t},color:function(t,n,r){var e=Ea(t||rr),a=e.valid&&Ea(n||rr);return a&&a.valid?a.mix(e,r).hexString():n},number:function(t,n,r){return t+(n-t)*r}},_o=function(){function i(t,n,r,e){(0,T.Z)(this,i);var a=n[r];e=kt([t.to,e,a,t.from]);var s=kt([t.from,a,e]);this._active=!0,this._fn=t.fn||bo[t.type||typeof s],this._easing=yt[t.easing]||yt.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=s,this._to=e,this._promises=void 0}return(0,E.Z)(i,[{key:"active",value:function(){return this._active}},{key:"update",value:function(n,r,e){if(this._active){this._notify(!1);var a=this._target[this._prop],s=e-this._start,o=this._duration-s;this._start=e,this._duration=Math.floor(Math.max(o,n.duration)),this._total+=s,this._loop=!!n.loop,this._to=kt([n.to,r,a,n.from]),this._from=kt([n.from,a,r])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(n){var u,r=n-this._start,e=this._duration,a=this._prop,s=this._from,o=this._loop,l=this._to;if(this._active=s!==l&&(o||r<e),!this._active)return this._target[a]=l,void this._notify(!0);r<0?this._target[a]=s:(u=r/e%2,u=o&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[a]=this._fn(s,l,u))}},{key:"wait",value:function(){var n=this._promises||(this._promises=[]);return new Promise(function(r,e){n.push({res:r,rej:e})})}},{key:"_notify",value:function(n){for(var r=n?"res":"rej",e=this._promises||[],a=0;a<e.length;a++)e[a][r]()}}]),i}(),nr=function(){function i(t,n){(0,T.Z)(this,i),this._chart=t,this._properties=new Map,this.configure(n)}return(0,E.Z)(i,[{key:"configure",value:function(n){if(z(n)){var r=Object.keys(J.animation),e=this._properties;Object.getOwnPropertyNames(n).forEach(function(a){var s=n[a];if(z(s)){for(var o={},l=0,u=r;l<u.length;l++){var h=u[l];o[h]=s[h]}(Y(s.properties)&&s.properties||[a]).forEach(function(f){(f===a||!e.has(f))&&e.set(f,o)})}})}}},{key:"_animateOptions",value:function(n,r){var e=r.options,a=function ko(i,t){if(t){var n=i.options;return n?(n.$shared&&(i.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n):void(i.options=t)}}(n,e);if(!a)return[];var s=this._createAnimations(a,e);return e.$shared&&function xo(i,t){for(var n=[],r=Object.keys(t),e=0;e<r.length;e++){var a=i[r[e]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}(n.options.$animations,e).then(function(){n.options=e},function(){}),s}},{key:"_createAnimations",value:function(n,r){var u,e=this._properties,a=[],s=n.$animations||(n.$animations={}),o=Object.keys(r),l=Date.now();for(u=o.length-1;u>=0;--u){var h=o[u];if("$"!==h.charAt(0)){if("options"===h){a.push.apply(a,(0,W.Z)(this._animateOptions(n,r)));continue}var f=r[h],d=s[h],c=e.get(h);if(d){if(c&&d.active()){d.update(c,f,l);continue}d.cancel()}if(!c||!c.duration){n[h]=f;continue}s[h]=d=new _o(c,n,h,f),a.push(d)}}return a}},{key:"update",value:function(n,r){if(0!==this._properties.size){var e=this._createAnimations(n,r);return e.length?(Le.add(this._chart,e),!0):void 0}Object.assign(n,r)}}]),i}();function sr(i,t){var n=i&&i.options||{},r=n.reverse,e=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:e,end:r?e:a}}function or(i,t){var e,a,n=[],r=i._getSortedDatasetMetas(t);for(e=0,a=r.length;e<a;++e)n.push(r[e].index);return n}function lr(i,t,n){var s,o,l,u,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},e=i.keys,a="single"===r.mode;if(null!==t){for(s=0,o=e.length;s<o;++s){if((l=+e[s])===n){if(r.all)continue;break}q(u=i.values[l])&&(a||0===t||Se(t)===Se(u))&&(t+=u)}return t}}function ur(i,t){var n=i&&i.options.stacked;return n||void 0===n&&void 0!==t.stack}function Po(i,t,n){var r=i[t]||(i[t]={});return r[n]||(r[n]={})}function hr(i,t,n,r){var a,e=(0,B.Z)(t.getMatchingVisibleMetas(r).reverse());try{for(e.s();!(a=e.n()).done;){var s=a.value,o=i[s.index];if(n&&o>0||!n&&o<0)return s.index}}catch(l){e.e(l)}finally{e.f()}return null}function fr(i,t){for(var d,n=i.chart,r=i._cachedMeta,e=n._stacks||(n._stacks={}),a=r.iScale,s=r.vScale,o=r.index,l=a.axis,u=s.axis,h=function Co(i,t,n){return"".concat(i.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,s,r),f=t.length,c=0;c<f;++c){var v=t[c],g=v[l],p=v[u];(d=(v._stacks||(v._stacks={}))[u]=Po(e,h,g))[o]=p,d._top=hr(d,s,!0,r.type),d._bottom=hr(d,s,!1,r.type),(d._visualValues||(d._visualValues={}))[o]=p}}function Vi(i,t){var n=i.scales;return Object.keys(n).filter(function(r){return n[r].axis===t}).shift()}function St(i,t){var n=i.controller.index,r=i.vScale&&i.vScale.axis;if(r){var a,e=(0,B.Z)(t=t||i._parsed);try{for(e.s();!(a=e.n()).done;){var o=a.value._stacks;if(!o||void 0===o[r]||void 0===o[r][n])return;delete o[r][n],void 0!==o[r]._visualValues&&void 0!==o[r]._visualValues[n]&&delete o[r]._visualValues[n]}}catch(l){e.e(l)}finally{e.f()}}}var Wi=function(t){return"reset"===t||"none"===t},dr=function(t,n){return n?t:Object.assign({},t)},We=function(){var i=function(){function t(n,r){(0,T.Z)(this,t),this.chart=n,this._ctx=n.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=(this instanceof t?this.constructor:void 0).datasetElementType,this.dataElementType=(this instanceof t?this.constructor:void 0).dataElementType,this.initialize()}return(0,E.Z)(t,[{key:"initialize",value:function(){var r=this._cachedMeta;this.configure(),this.linkScales(),r._stacked=ur(r.vScale,r),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}},{key:"updateIndex",value:function(r){this.index!==r&&St(this._cachedMeta),this.index=r}},{key:"linkScales",value:function(){var r=this.chart,e=this._cachedMeta,a=this.getDataset(),s=function(v,g,p,y){return"x"===v?g:"r"===v?y:p},o=e.xAxisID=F(a.xAxisID,Vi(r,"x")),l=e.yAxisID=F(a.yAxisID,Vi(r,"y")),u=e.rAxisID=F(a.rAxisID,Vi(r,"r")),h=e.indexAxis,f=e.iAxisID=s(h,o,l,u),d=e.vAxisID=s(h,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(d)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(r){return this.chart.scales[r]}},{key:"_getOtherScale",value:function(r){var e=this._cachedMeta;return r===e.iScale?e.vScale:e.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var r=this._cachedMeta;this._data&&wa(this._data,this),r._stacked&&St(r)}},{key:"_dataCheck",value:function(){var r=this.getDataset(),e=r.data||(r.data=[]),a=this._data;if(z(e))this._data=function wo(i){var r,e,a,t=Object.keys(i),n=new Array(t.length);for(r=0,e=t.length;r<e;++r)n[r]={x:a=t[r],y:i[a]};return n}(e);else if(a!==e){if(a){wa(a,this);var s=this._cachedMeta;St(s),s._parsed=[]}e&&Object.isExtensible(e)&&function gs(i,t){i._chartjs?i._chartjs.listeners.push(t):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Ma.forEach(function(n){var r="_onData"+wi(n),e=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value:function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=e.apply(this,o);return i._chartjs.listeners.forEach(function(h){"function"==typeof h[r]&&h[r].apply(h,o)}),u}})}))}(e,this),this._syncList=[],this._data=e}}},{key:"addElements",value:function(){var r=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(r.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(r){var e=this._cachedMeta,a=this.getDataset(),s=!1;this._dataCheck();var o=e._stacked;e._stacked=ur(e.vScale,e),e.stack!==a.stack&&(s=!0,St(e),e.stack=a.stack),this._resyncElements(r),(s||o!==e._stacked)&&fr(this,e._parsed)}},{key:"configure",value:function(){var r=this.chart.config,e=r.datasetScopeKeys(this._type),a=r.getOptionScopes(this.getDataset(),e,!0);this.options=r.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(r,e){var d,c,v,a=this._cachedMeta,s=this._data,l=a._stacked,u=a.iScale.axis,h=0===r&&e===s.length||a._sorted,f=r>0&&a._parsed[r-1];if(!1===this._parsing)a._parsed=s,a._sorted=!0,v=s;else{for(v=Y(s[r])?this.parseArrayData(a,s,r,e):z(s[r])?this.parseObjectData(a,s,r,e):this.parsePrimitiveData(a,s,r,e),d=0;d<e;++d)a._parsed[d+r]=c=v[d],h&&((null===c[u]||f&&c[u]<f[u])&&(h=!1),f=c);a._sorted=h}l&&fr(this,v)}},{key:"parsePrimitiveData",value:function(r,e,a,s){var v,g,p,o=r.iScale,l=r.vScale,u=o.axis,h=l.axis,f=o.getLabels(),d=o===l,c=new Array(s);for(v=0,g=s;v<g;++v){var y;p=v+a,c[v]=((0,k.Z)(y={},u,d||o.parse(f[p],p)),(0,k.Z)(y,h,l.parse(e[p],p)),y)}return c}},{key:"parseArrayData",value:function(r,e,a,s){var h,f,d,c,o=r.xScale,l=r.yScale,u=new Array(s);for(h=0,f=s;h<f;++h)u[h]={x:o.parse((c=e[d=h+a])[0],d),y:l.parse(c[1],d)};return u}},{key:"parseObjectData",value:function(r,e,a,s){var g,p,y,m,o=r.xScale,l=r.yScale,u=this._parsing,h=u.xAxisKey,f=void 0===h?"x":h,d=u.yAxisKey,c=void 0===d?"y":d,v=new Array(s);for(g=0,p=s;g<p;++g)v[g]={x:o.parse(Ie(m=e[y=g+a],f),y),y:l.parse(Ie(m,c),y)};return v}},{key:"getParsed",value:function(r){return this._cachedMeta._parsed[r]}},{key:"getDataElement",value:function(r){return this._cachedMeta.data[r]}},{key:"applyStack",value:function(r,e,a){var o=this._cachedMeta,l=e[r.axis];return lr({keys:or(this.chart,!0),values:e._stacks[r.axis]._visualValues},l,o.index,{mode:a})}},{key:"updateRangeFromParsed",value:function(r,e,a,s){var o=a[e.axis],l=null===o?NaN:o,u=s&&a._stacks[e.axis];s&&u&&(s.values=u,l=lr(s,o,this._cachedMeta.index)),r.min=Math.min(r.min,l),r.max=Math.max(r.max,l)}},{key:"getMinMax",value:function(r,e){var g,p,a=this._cachedMeta,s=a._parsed,o=a._sorted&&r===a.iScale,l=s.length,u=this._getOtherScale(r),h=function(t,n,r){return t&&!n.hidden&&n._stacked&&{keys:or(r,!0),values:null}}(e,a,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},d=function Do(i){var t=i.getUserBounds();return{min:t.minDefined?t.min:Number.NEGATIVE_INFINITY,max:t.maxDefined?t.max:Number.POSITIVE_INFINITY}}(u),c=d.min,v=d.max;function y(){var m=(p=s[g])[u.axis];return!q(p[r.axis])||c>m||v<m}for(g=0;g<l&&(y()||(this.updateRangeFromParsed(f,r,p,h),!o));++g);if(o)for(g=l-1;g>=0;--g)if(!y()){this.updateRangeFromParsed(f,r,p,h);break}return f}},{key:"getAllParsedValues",value:function(r){var s,o,l,e=this._cachedMeta._parsed,a=[];for(s=0,o=e.length;s<o;++s)q(l=e[s][r.axis])&&a.push(l);return a}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(r){var e=this._cachedMeta,a=e.iScale,s=e.vScale,o=this.getParsed(r);return{label:a?""+a.getLabelForValue(o[a.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}},{key:"_update",value:function(r){var e=this._cachedMeta;this.update(r||"default"),e._clip=function Mo(i){var t,n,r,e;return z(i)?(t=i.top,n=i.right,r=i.bottom,e=i.left):t=n=r=e=i,{top:t,right:n,bottom:r,left:e,disabled:!1===i}}(F(this.options.clip,function So(i,t,n){if(!1===n)return!1;var r=sr(i,n),e=sr(t,n);return{top:e.end,right:r.end,bottom:e.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}},{key:"update",value:function(r){}},{key:"draw",value:function(){var d,r=this._ctx,a=this._cachedMeta,s=a.data||[],o=this.chart.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||s.length-u,f=this.options.drawActiveElementsOnTop;for(a.dataset&&a.dataset.draw(r,o,u,h),d=u;d<u+h;++d){var c=s[d];c.hidden||(c.active&&f?l.push(c):c.draw(r,o))}for(d=0;d<l.length;++d)l[d].draw(r,o)}},{key:"getStyle",value:function(r,e){var a=e?"active":"default";return void 0===r&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(r||0,a)}},{key:"getContext",value:function(r,e,a){var o,s=this.getDataset();if(r>=0&&r<this._cachedMeta.data.length){var l=this._cachedMeta.data[r];o=l.$context||(l.$context=function Ao(i,t,n){return Ve(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),r,l)),o.parsed=this.getParsed(r),o.raw=s.data[r],o.index=o.dataIndex=r}else o=this.$context||(this.$context=function Oo(i,t){return Ve(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=a,o}},{key:"resolveDatasetElementOptions",value:function(r){return this._resolveElementOptions(this.datasetElementType.id,r)}},{key:"resolveDataElementOptions",value:function(r,e){return this._resolveElementOptions(this.dataElementType.id,e,r)}},{key:"_resolveElementOptions",value:function(r){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",s=arguments.length>2?arguments[2]:void 0,o="active"===a,l=this._cachedDataOpts,u=r+"-"+a,h=l[u],f=this.enableOptionSharing&&gt(s);if(h)return dr(h,f);var d=this.chart.config,c=d.datasetElementScopeKeys(this._type,r),v=o?["".concat(r,"Hover"),"hover",r,""]:[r,""],g=d.getOptionScopes(this.getDataset(),c),p=Object.keys(J.elements[r]),m=d.resolveNamedOptions(g,p,function(){return e.getContext(s,o,a)},v);return m.$shared&&(m.$shared=f,l[u]=Object.freeze(dr(m,f))),m}},{key:"_resolveAnimations",value:function(r,e,a){var h,s=this.chart,o=this._cachedDataOpts,l="animation-".concat(e),u=o[l];if(u)return u;if(!1!==s.options.animation){var f=this.chart.config,d=f.datasetAnimationScopeKeys(this._type,e),c=f.getOptionScopes(this.getDataset(),d);h=f.createResolver(c,this.getContext(r,a,e))}var v=new nr(s,h&&h.animations);return h&&h._cacheable&&(o[l]=Object.freeze(v)),v}},{key:"getSharedOptions",value:function(r){if(r.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},r))}},{key:"includeOptions",value:function(r,e){return!e||Wi(r)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(r,e){var a=this.resolveDataElementOptions(r,e),s=this._sharedOptions,o=this.getSharedOptions(a),l=this.includeOptions(e,o)||o!==s;return this.updateSharedOptions(o,e,a),{sharedOptions:o,includeOptions:l}}},{key:"updateElement",value:function(r,e,a,s){Wi(s)?Object.assign(r,a):this._resolveAnimations(e,s).update(r,a)}},{key:"updateSharedOptions",value:function(r,e,a){r&&!Wi(e)&&this._resolveAnimations(void 0,e).update(r,a)}},{key:"_setStyle",value:function(r,e,a,s){r.active=s;var o=this.getStyle(e,s);this._resolveAnimations(e,a,s).update(r,{options:!s&&this.getSharedOptions(o)||o})}},{key:"removeHoverStyle",value:function(r,e,a){this._setStyle(r,a,"active",!1)}},{key:"setHoverStyle",value:function(r,e,a){this._setStyle(r,a,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!0)}},{key:"_resyncElements",value:function(r){var o,e=this._data,a=this._cachedMeta.data,s=(0,B.Z)(this._syncList);try{for(s.s();!(o=s.n()).done;){var l=(0,pe.Z)(o.value,3);this[l[0]](l[1],l[2])}}catch(g){s.e(g)}finally{s.f()}this._syncList=[];var d=a.length,c=e.length,v=Math.min(c,d);v&&this.parse(0,v),c>d?this._insertElements(d,c-d,r):c<d&&this._removeElements(c,d-c)}},{key:"_insertElements",value:function(r,e){var u,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=this._cachedMeta,o=s.data,l=r+e,h=function(d){for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(h(o),u=r;u<l;++u)o[u]=new this.dataElementType;this._parsing&&h(s._parsed),this.parse(r,e),a&&this.updateElements(o,r,e,"reset")}},{key:"updateElements",value:function(r,e,a,s){}},{key:"_removeElements",value:function(r,e){var a=this._cachedMeta;if(this._parsing){var s=a._parsed.splice(r,e);a._stacked&&St(a,s)}a.data.splice(r,e)}},{key:"_sync",value:function(r){if(this._parsing)this._syncList.push(r);else{var e=(0,pe.Z)(r,3);this[e[0]](e[1],e[2])}this.chart._dataChanges.push([this.index].concat((0,W.Z)(r)))}},{key:"_onDataPush",value:function(){var r=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-r,r])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(r,e){e&&this._sync(["_removeElements",r,e]);var a=arguments.length-2;a&&this._sync(["_insertElements",r,a])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),t}();return(0,k.Z)(i,"defaults",{}),(0,k.Z)(i,"datasetElementType",null),(0,k.Z)(i,"dataElementType",null),i}();function Eo(i){var e,a,s,o,t=i.iScale,n=function To(i,t){if(!i._cache.$bar){for(var n=i.getMatchingVisibleMetas(t),r=[],e=0,a=n.length;e<a;e++)r=r.concat(n[e].controller.getAllParsedValues(i));i._cache.$bar=Ca(r.sort(function(s,o){return s-o}))}return i._cache.$bar}(t,i.type),r=t._length,l=function(){32767===s||-32768===s||(gt(o)&&(r=Math.min(r,Math.abs(s-o)||r)),o=s)};for(e=0,a=n.length;e<a;++e)s=t.getPixelForValue(n[e]),l();for(o=void 0,e=0,a=t.ticks.length;e<a;++e)s=t.getPixelForTick(e),l();return r}function cr(i,t,n,r){return Y(i)?function Fo(i,t,n,r){var e=n.parse(i[0],r),a=n.parse(i[1],r),s=Math.min(e,a),o=Math.max(e,a),l=s,u=o;Math.abs(s)>Math.abs(o)&&(l=o,u=s),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:e,end:a,min:s,max:o}}(i,t,n,r):t[n.axis]=n.parse(i,r),t}function vr(i,t,n,r){var u,h,f,d,e=i.iScale,a=i.vScale,s=e.getLabels(),o=e===a,l=[];for(u=n,h=n+r;u<h;++u)d=t[u],(f={})[e.axis]=o||e.parse(s[u],u),l.push(cr(d,f,a,u));return l}function Hi(i){return i&&void 0!==i.barStart&&void 0!==i.barEnd}function zo(i,t,n,r){var e=t.borderSkipped,a={};if(e)if(!0!==e){var s=function Bo(i){var t,n,r,e,a;return i.horizontal?(t=i.base>i.x,n="left",r="right"):(t=i.base<i.y,n="bottom",r="top"),t?(e="end",a="start"):(e="start",a="end"),{start:n,end:r,reverse:t,top:e,bottom:a}}(i),o=s.start,l=s.end,u=s.reverse,h=s.top,f=s.bottom;"middle"===e&&n&&(i.enableBorderRadius=!0,(n._top||0)===r?e=h:(n._bottom||0)===r?e=f:(a[gr(f,o,l,u)]=!0,e=h)),a[gr(e,o,l,u)]=!0,i.borderSkipped=a}else i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};else i.borderSkipped=a}function gr(i,t,n,r){return r?(i=function Vo(i,t,n){return i===t?n:i===n?t:i}(i,t,n),i=pr(i,n,t)):i=pr(i,t,n),i}function pr(i,t,n){return"start"===i?t:"end"===i?n:i}function Wo(i,t,n){var r=t.inflateAmount;i.inflateAmount="auto"===r?1===n?.33:0:r}var Ho=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(){return(0,T.Z)(this,r),n.apply(this,arguments)}return(0,E.Z)(r,[{key:"parsePrimitiveData",value:function(a,s,o,l){return vr(a,s,o,l)}},{key:"parseArrayData",value:function(a,s,o,l){return vr(a,s,o,l)}},{key:"parseObjectData",value:function(a,s,o,l){var _,x,b,S,u=a.iScale,h=a.vScale,f=this._parsing,d=f.xAxisKey,c=void 0===d?"x":d,v=f.yAxisKey,g=void 0===v?"y":v,p="x"===u.axis?c:g,y="x"===h.axis?c:g,m=[];for(_=o,x=o+l;_<x;++_)(b={})[u.axis]=u.parse(Ie(S=s[_],p),_),m.push(cr(Ie(S,y),b,h,_));return m}},{key:"updateRangeFromParsed",value:function(a,s,o,l){(0,H.Z)((0,U.Z)(r.prototype),"updateRangeFromParsed",this).call(this,a,s,o,l);var u=o._custom;u&&s===this._cachedMeta.vScale&&(a.min=Math.min(a.min,u.min),a.max=Math.max(a.max,u.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(a){var s=this._cachedMeta,o=s.iScale,l=s.vScale,u=this.getParsed(a),h=u._custom,f=Hi(h)?"["+h.start+", "+h.end+"]":""+l.getLabelForValue(u[l.axis]);return{label:""+o.getLabelForValue(u[o.axis]),value:f}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,(0,H.Z)((0,U.Z)(r.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(a){var s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,a)}},{key:"updateElements",value:function(a,s,o,l){for(var u="reset"===l,h=this.index,f=this._cachedMeta.vScale,d=f.getBasePixel(),c=f.isHorizontal(),v=this._getRuler(),g=this._getSharedOptions(s,l),p=g.sharedOptions,y=g.includeOptions,m=s;m<s+o;m++){var _=this.getParsed(m),x=u||V(_[f.axis])?{base:d,head:d}:this._calculateBarValuePixels(m),b=this._calculateBarIndexPixels(m,v),S=(_._stacks||{})[f.axis],M={horizontal:c,base:x.base,enableBorderRadius:!S||Hi(_._custom)||h===S._top||h===S._bottom,x:c?x.head:b.center,y:c?b.center:x.head,height:c?b.size:Math.abs(x.size),width:c?Math.abs(x.size):b.size};y&&(M.options=p||this.resolveDataElementOptions(m,a[m].active?"active":l));var w=M.options||a[m].options;zo(M,w,S,h),Wo(M,w,v.ratio),this.updateElement(a[m],m,M,l)}}},{key:"_getStacks",value:function(a,s){var c,o=this._cachedMeta.iScale,l=o.getMatchingVisibleMetas(this._type).filter(function(g){return g.controller.options.grouped}),u=o.options.stacked,h=[],f=function(p){var y=p.controller.getParsed(s),m=y&&y[p.vScale.axis];if(V(m)||isNaN(m))return!0},d=(0,B.Z)(l);try{for(d.s();!(c=d.n()).done;){var v=c.value;if((void 0===s||!f(v))&&((!1===u||-1===h.indexOf(v.stack)||void 0===u&&void 0===v.stack)&&h.push(v.stack),v.index===a))break}}catch(g){d.e(g)}finally{d.f()}return h.length||h.push(void 0),h}},{key:"_getStackCount",value:function(a){return this._getStacks(void 0,a).length}},{key:"_getStackIndex",value:function(a,s,o){var l=this._getStacks(a,o),u=void 0!==s?l.indexOf(s):-1;return-1===u?l.length-1:u}},{key:"_getRuler",value:function(){var u,h,a=this.options,s=this._cachedMeta,o=s.iScale,l=[];for(u=0,h=s.data.length;u<h;++u)l.push(o.getPixelForValue(this.getParsed(u)[o.axis],u));var f=a.barThickness;return{min:f||Eo(s),pixels:l,start:o._startPixel,end:o._endPixel,stackCount:this._getStackCount(),scale:o,grouped:a.grouped,ratio:f?1:a.categoryPercentage*a.barPercentage}}},{key:"_calculateBarValuePixels",value:function(a){var x,b,s=this._cachedMeta,o=s.vScale,l=s._stacked,u=s.index,h=this.options,f=h.base,d=h.minBarLength,c=f||0,v=this.getParsed(a),g=v._custom,p=Hi(g),y=v[o.axis],m=0,_=l?this.applyStack(o,v,l):y;_!==y&&(m=_-y,_=y),p&&(_=g.barEnd-g.barStart,0!==(y=g.barStart)&&Se(y)!==Se(g.barEnd)&&(m=0),m+=y);var S=V(f)||p?m:f,M=o.getPixelForValue(S);if(b=(x=this.chart.getDataVisibility(a)?o.getPixelForValue(m+_):M)-M,Math.abs(b)<d){b=function Io(i,t,n){return 0!==i?Se(i):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(b,o,c)*d,y===c&&(M-=b/2);var w=o.getPixelForDecimal(0),C=o.getPixelForDecimal(1),D=Math.min(w,C),O=Math.max(w,C);x=(M=Math.max(Math.min(M,O),D))+b,l&&!p&&(v._stacks[o.axis]._visualValues[u]=o.getValueForPixel(x)-o.getValueForPixel(M))}if(M===o.getPixelForValue(c)){var A=Se(b)*o.getLineWidthForValue(c)/2;M+=A,b-=A}return{size:b,base:M,head:x,center:x+b/2}}},{key:"_calculateBarIndexPixels",value:function(a,s){var f,d,o=s.scale,l=this.options,u=l.skipNull,h=F(l.maxBarThickness,1/0);if(s.grouped){var c=u?this._getStackCount(a):s.stackCount,v="flex"===l.barThickness?function Zo(i,t,n,r){var e=t.pixels,a=e[i],s=i>0?e[i-1]:null,o=i<e.length-1?e[i+1]:null,l=n.categoryPercentage;null===s&&(s=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-s);var u=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/r,ratio:n.barPercentage,start:u}}(a,s,l,c):function Ro(i,t,n,r){var a,s,e=n.barThickness;return V(e)?(a=t.min*n.categoryPercentage,s=n.barPercentage):(a=e*r,s=1),{chunk:a/r,ratio:s,start:t.pixels[i]-a/2}}(a,s,l,c),g=this._getStackIndex(this.index,this._cachedMeta.stack,u?a:void 0);f=v.start+v.chunk*g+v.chunk/2,d=Math.min(h,v.chunk*v.ratio)}else f=o.getPixelForValue(this.getParsed(a)[o.axis],a),d=Math.min(h,s.min*s.ratio);return{base:f-d/2,head:f+d/2,center:f,size:d}}},{key:"draw",value:function(){for(var a=this._cachedMeta,s=a.vScale,o=a.data,l=o.length,u=0;u<l;++u)null!==this.getParsed(u)[s.axis]&&o[u].draw(this._ctx)}}]),r}(We);return(0,k.Z)(i,"id","bar"),(0,k.Z)(i,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,k.Z)(i,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),i}(),No=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(){return(0,T.Z)(this,r),n.apply(this,arguments)}return(0,E.Z)(r,[{key:"initialize",value:function(){this.enableOptionSharing=!0,(0,H.Z)((0,U.Z)(r.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(a,s,o,l){for(var u=(0,H.Z)((0,U.Z)(r.prototype),"parsePrimitiveData",this).call(this,a,s,o,l),h=0;h<u.length;h++)u[h]._custom=this.resolveDataElementOptions(h+o).radius;return u}},{key:"parseArrayData",value:function(a,s,o,l){for(var u=(0,H.Z)((0,U.Z)(r.prototype),"parseArrayData",this).call(this,a,s,o,l),h=0;h<u.length;h++)u[h]._custom=F(s[o+h][2],this.resolveDataElementOptions(h+o).radius);return u}},{key:"parseObjectData",value:function(a,s,o,l){for(var u=(0,H.Z)((0,U.Z)(r.prototype),"parseObjectData",this).call(this,a,s,o,l),h=0;h<u.length;h++){var f=s[o+h];u[h]._custom=F(f&&f.r&&+f.r,this.resolveDataElementOptions(h+o).radius)}return u}},{key:"getMaxOverflow",value:function(){for(var a=this._cachedMeta.data,s=0,o=a.length-1;o>=0;--o)s=Math.max(s,a[o].size(this.resolveDataElementOptions(o))/2);return s>0&&s}},{key:"getLabelAndValue",value:function(a){var s=this._cachedMeta,o=this.chart.data.labels||[],l=s.xScale,u=s.yScale,h=this.getParsed(a),f=l.getLabelForValue(h.x),d=u.getLabelForValue(h.y),c=h._custom;return{label:o[a]||"",value:"("+f+", "+d+(c?", "+c:"")+")"}}},{key:"update",value:function(a){var s=this._cachedMeta.data;this.updateElements(s,0,s.length,a)}},{key:"updateElements",value:function(a,s,o,l){for(var u="reset"===l,h=this._cachedMeta,f=h.iScale,d=h.vScale,c=this._getSharedOptions(s,l),v=c.sharedOptions,g=c.includeOptions,p=f.axis,y=d.axis,m=s;m<s+o;m++){var _=a[m],x=!u&&this.getParsed(m),b={},S=b[p]=u?f.getPixelForDecimal(.5):f.getPixelForValue(x[p]),M=b[y]=u?d.getBasePixel():d.getPixelForValue(x[y]);b.skip=isNaN(S)||isNaN(M),g&&(b.options=v||this.resolveDataElementOptions(m,_.active?"active":l),u&&(b.options.radius=0)),this.updateElement(_,m,b,l)}}},{key:"resolveDataElementOptions",value:function(a,s){var o=this.getParsed(a),l=(0,H.Z)((0,U.Z)(r.prototype),"resolveDataElementOptions",this).call(this,a,s);l.$shared&&(l=Object.assign({},l,{$shared:!1}));var u=l.radius;return"active"!==s&&(l.radius=0),l.radius+=F(o&&o._custom,u),l}}]),r}(We);return(0,k.Z)(i,"id","bubble"),(0,k.Z)(i,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,k.Z)(i,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}}),i}(),Ni=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(e,a){var s;return(0,T.Z)(this,r),(s=n.call(this,e,a)).enableOptionSharing=!0,s.innerRadius=void 0,s.outerRadius=void 0,s.offsetX=void 0,s.offsetY=void 0,s}return(0,E.Z)(r,[{key:"linkScales",value:function(){}},{key:"parse",value:function(a,s){var o=this.getDataset().data,l=this._cachedMeta;if(!1===this._parsing)l._parsed=o;else{var d,c,u=function(g){return+o[g]};if(z(o[a])){var h=this._parsing.key,f=void 0===h?"value":h;u=function(g){return+Ie(o[g],f)}}for(d=a,c=a+s;d<c;++d)l._parsed[d]=u(d)}}},{key:"_getRotation",value:function(){return xe(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return xe(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var a=K,s=-K,o=0;o<this.chart.data.datasets.length;++o)if(this.chart.isDatasetVisible(o)&&this.chart.getDatasetMeta(o).type===this._type){var l=this.chart.getDatasetMeta(o).controller,u=l._getRotation(),h=l._getCircumference();a=Math.min(a,u),s=Math.max(s,u+h)}return{rotation:a,circumference:s-a}}},{key:"update",value:function(a){var o=this.chart.chartArea,l=this._cachedMeta,u=l.data,h=this.getMaxBorderWidth()+this.getMaxOffset(u)+this.options.spacing,f=Math.max((Math.min(o.width,o.height)-h)/2,0),d=Math.min(function(t,n){return"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/n}(this.options.cutout,f),1),c=this._getRingWeight(this.index),v=this._getRotationExtents(),y=function jo(i,t,n){var r=1,e=1,a=0,s=0;if(t<K){var o=i,l=o+t,u=Math.cos(o),h=Math.sin(o),f=Math.cos(l),d=Math.sin(l),c=function(x,b,S){return mt(x,o,l,!0)?1:Math.max(b,b*n,S,S*n)},v=function(x,b,S){return mt(x,o,l,!0)?-1:Math.min(b,b*n,S,S*n)},g=c(0,u,f),p=c(Q,h,d),y=v(X,u,f),m=v(X+Q,h,d);r=(g-y)/2,e=(p-m)/2,a=-(g+y)/2,s=-(p+m)/2}return{ratioX:r,ratioY:e,offsetX:a,offsetY:s}}(v.rotation,v.circumference,d),x=y.offsetX,b=y.offsetY,w=Math.max(Math.min((o.width-h)/y.ratioX,(o.height-h)/y.ratioY)/2,0),C=ga(this.options.radius,w),O=(C-Math.max(C*d,0))/this._getVisibleDatasetWeightTotal();this.offsetX=x*C,this.offsetY=b*C,l.total=this.calculateTotal(),this.outerRadius=C-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*c,0),this.updateElements(u,0,u.length,a)}},{key:"_circumference",value:function(a,s){var o=this.options,l=this._cachedMeta,u=this._getCircumference();return s&&o.animation.animateRotate||!this.chart.getDataVisibility(a)||null===l._parsed[a]||l.data[a].hidden?0:this.calculateCircumference(l._parsed[a]*u/K)}},{key:"updateElements",value:function(a,s,o,l){var M,u="reset"===l,h=this.chart,f=h.chartArea,v=(f.left+f.right)/2,g=(f.top+f.bottom)/2,p=u&&h.options.animation.animateScale,y=p?0:this.innerRadius,m=p?0:this.outerRadius,_=this._getSharedOptions(s,l),x=_.sharedOptions,b=_.includeOptions,S=this._getRotation();for(M=0;M<s;++M)S+=this._circumference(M,u);for(M=s;M<s+o;++M){var w=this._circumference(M,u),C=a[M],D={x:v+this.offsetX,y:g+this.offsetY,startAngle:S,endAngle:S+w,circumference:w,outerRadius:m,innerRadius:y};b&&(D.options=x||this.resolveDataElementOptions(M,C.active?"active":l)),S+=w,this.updateElement(C,M,D,l)}}},{key:"calculateTotal",value:function(){var l,a=this._cachedMeta,s=a.data,o=0;for(l=0;l<s.length;l++){var u=a._parsed[l];null!==u&&!isNaN(u)&&this.chart.getDataVisibility(l)&&!s[l].hidden&&(o+=Math.abs(u))}return o}},{key:"calculateCircumference",value:function(a){var s=this._cachedMeta.total;return s>0&&!isNaN(a)?K*(Math.abs(a)/s):0}},{key:"getLabelAndValue",value:function(a){var o=this.chart,l=o.data.labels||[],u=bt(this._cachedMeta._parsed[a],o.options.locale);return{label:l[a]||"",value:u}}},{key:"getMaxBorderWidth",value:function(a){var l,u,h,f,d,s=0,o=this.chart;if(!a)for(l=0,u=o.data.datasets.length;l<u;++l)if(o.isDatasetVisible(l)){a=(h=o.getDatasetMeta(l)).data,f=h.controller;break}if(!a)return 0;for(l=0,u=a.length;l<u;++l)"inner"!==(d=f.resolveDataElementOptions(l)).borderAlign&&(s=Math.max(s,d.borderWidth||0,d.hoverBorderWidth||0));return s}},{key:"getMaxOffset",value:function(a){for(var s=0,o=0,l=a.length;o<l;++o){var u=this.resolveDataElementOptions(o);s=Math.max(s,u.offset||0,u.hoverOffset||0)}return s}},{key:"_getRingWeightOffset",value:function(a){for(var s=0,o=0;o<a;++o)this.chart.isDatasetVisible(o)&&(s+=this._getRingWeight(o));return s}},{key:"_getRingWeight",value:function(a){return Math.max(F(this.chart.data.datasets[a].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),r}(We);return(0,k.Z)(i,"id","doughnut"),(0,k.Z)(i,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,k.Z)(i,"descriptors",{_scriptable:function(n){return"spacing"!==n},_indexable:function(n){return"spacing"!==n&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")}}),(0,k.Z)(i,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(n){var r=n.data;if(r.labels.length&&r.datasets.length){var e=n.legend.options.labels,a=e.pointStyle,s=e.color;return r.labels.map(function(o,l){var h=n.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:a,hidden:!n.getDataVisibility(l),index:l}})}return[]}},onClick:function(n,r,e){e.chart.toggleDataVisibility(r.index),e.chart.update()}}}}),i}(),Uo=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(){return(0,T.Z)(this,r),n.apply(this,arguments)}return(0,E.Z)(r,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,(0,H.Z)((0,U.Z)(r.prototype),"initialize",this).call(this)}},{key:"update",value:function(a){var s=this._cachedMeta,o=s.dataset,l=s.data,u=void 0===l?[]:l,h=s._dataset,f=this.chart._animationsDisabled,d=Oa(s,u,f),c=d.start,v=d.count;this._drawStart=c,this._drawCount=v,Aa(s)&&(c=0,v=u.length),o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!h._decimated,o.points=u.slice(Math.max(this._drawStart-1,0),this._drawStart+this._drawCount);var g=this.resolveDatasetElementOptions(a);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(o,void 0,{animated:!f,options:g},a),this.updateElements(u,c,v,a)}},{key:"updateElements",value:function(a,s,o,l){for(var u="reset"===l,h=this._cachedMeta,f=h.iScale,d=h.vScale,c=h._stacked,v=h._dataset,g=this._getSharedOptions(s,l),p=g.sharedOptions,y=g.includeOptions,m=f.axis,_=d.axis,x=this.options,b=x.spanGaps,S=x.segment,M=st(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||u||"none"===l,C=s+o,D=a.length,O=s>0&&this.getParsed(s-1),A=0;A<D;++A){var Z=a[A],L=w?Z:{};if(A<s||A>=C)L.skip=!0;else{var I=this.getParsed(A),N=V(I[_]),te=L[m]=f.getPixelForValue(I[m],A),ve=L[_]=u||N?d.getBasePixel():d.getPixelForValue(c?this.applyStack(d,I,c):I[_],A);L.skip=isNaN(te)||isNaN(ve)||N,L.stop=A>0&&Math.abs(I[m]-O[m])>M,S&&(L.parsed=I,L.raw=v.data[A]),y&&(L.options=p||this.resolveDataElementOptions(A,Z.active?"active":l)),w||this.updateElement(Z,A,L,l),O=I}}}},{key:"getMaxOverflow",value:function(){var a=this._cachedMeta,s=a.dataset,o=s.options&&s.options.borderWidth||0,l=a.data||[];if(!l.length)return o;var u=l[0].size(this.resolveDataElementOptions(0)),h=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(o,u,h)/2}},{key:"draw",value:function(){var a=this._cachedMeta;a.dataset.updateControlPoints(this.chart.chartArea,a.iScale.axis),(0,H.Z)((0,U.Z)(r.prototype),"draw",this).call(this)}}]),r}(We);return(0,k.Z)(i,"id","line"),(0,k.Z)(i,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,k.Z)(i,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),i}(),mr=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(e,a){var s;return(0,T.Z)(this,r),(s=n.call(this,e,a)).innerRadius=void 0,s.outerRadius=void 0,s}return(0,E.Z)(r,[{key:"getLabelAndValue",value:function(a){var o=this.chart,l=o.data.labels||[],u=bt(this._cachedMeta._parsed[a].r,o.options.locale);return{label:l[a]||"",value:u}}},{key:"parseObjectData",value:function(a,s,o,l){return Ua.bind(this)(a,s,o,l)}},{key:"update",value:function(a){var s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,a)}},{key:"getMinMax",value:function(){var a=this,o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach(function(l,u){var h=a.getParsed(u).r;!isNaN(h)&&a.chart.getDataVisibility(u)&&(h<o.min&&(o.min=h),h>o.max&&(o.max=h))}),o}},{key:"_updateRadius",value:function(){var a=this.chart,s=a.chartArea,o=a.options,l=Math.min(s.right-s.left,s.bottom-s.top),u=Math.max(l/2,0),f=(u-Math.max(o.cutoutPercentage?u/100*o.cutoutPercentage:1,0))/a.getVisibleDatasetCount();this.outerRadius=u-f*this.index,this.innerRadius=this.outerRadius-f}},{key:"updateElements",value:function(a,s,o,l){var m,u="reset"===l,h=this.chart,d=h.options.animation,c=this._cachedMeta.rScale,v=c.xCenter,g=c.yCenter,p=c.getIndexAngle(0)-.5*X,y=p,_=360/this.countVisibleElements();for(m=0;m<s;++m)y+=this._computeAngle(m,l,_);for(m=s;m<s+o;m++){var x=a[m],b=y,S=y+this._computeAngle(m,l,_),M=h.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;y=S,u&&(d.animateScale&&(M=0),d.animateRotate&&(b=S=p));var w={x:v,y:g,innerRadius:0,outerRadius:M,startAngle:b,endAngle:S,options:this.resolveDataElementOptions(m,x.active?"active":l)};this.updateElement(x,m,w,l)}}},{key:"countVisibleElements",value:function(){var a=this,o=0;return this._cachedMeta.data.forEach(function(l,u){!isNaN(a.getParsed(u).r)&&a.chart.getDataVisibility(u)&&o++}),o}},{key:"_computeAngle",value:function(a,s,o){return this.chart.getDataVisibility(a)?xe(this.resolveDataElementOptions(a,s).angle||o):0}}]),r}(We);return(0,k.Z)(i,"id","polarArea"),(0,k.Z)(i,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,k.Z)(i,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(n){var r=n.data;if(r.labels.length&&r.datasets.length){var e=n.legend.options.labels,a=e.pointStyle,s=e.color;return r.labels.map(function(o,l){var h=n.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:h.backgroundColor,strokeStyle:h.borderColor,fontColor:s,lineWidth:h.borderWidth,pointStyle:a,hidden:!n.getDataVisibility(l),index:l}})}return[]}},onClick:function(n,r,e){e.chart.toggleDataVisibility(r.index),e.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),i}(),$o=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(){return(0,T.Z)(this,r),n.apply(this,arguments)}return(0,E.Z)(r)}(Ni);return(0,k.Z)(i,"id","pie"),(0,k.Z)(i,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),i}(),Yo=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(){return(0,T.Z)(this,r),n.apply(this,arguments)}return(0,E.Z)(r,[{key:"getLabelAndValue",value:function(a){var s=this._cachedMeta.vScale,o=this.getParsed(a);return{label:s.getLabels()[a],value:""+s.getLabelForValue(o[s.axis])}}},{key:"parseObjectData",value:function(a,s,o,l){return Ua.bind(this)(a,s,o,l)}},{key:"update",value:function(a){var s=this._cachedMeta,o=s.dataset,l=s.data||[],u=s.iScale.getLabels();if(o.points=l,"resize"!==a){var h=this.resolveDatasetElementOptions(a);this.options.showLine||(h.borderWidth=0),this.updateElement(o,void 0,{_loop:!0,_fullLoop:u.length===l.length,options:h},a)}this.updateElements(l,0,l.length,a)}},{key:"updateElements",value:function(a,s,o,l){for(var u=this._cachedMeta.rScale,h="reset"===l,f=s;f<s+o;f++){var d=a[f],c=this.resolveDataElementOptions(f,d.active?"active":l),v=u.getPointPositionForValue(f,this.getParsed(f).r),g=h?u.xCenter:v.x,p=h?u.yCenter:v.y,y={x:g,y:p,angle:v.angle,skip:isNaN(g)||isNaN(p),options:c};this.updateElement(d,f,y,l)}}}]),r}(We);return(0,k.Z)(i,"id","radar"),(0,k.Z)(i,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,k.Z)(i,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),i}(),Ko=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(){return(0,T.Z)(this,r),n.apply(this,arguments)}return(0,E.Z)(r,[{key:"getLabelAndValue",value:function(a){var s=this._cachedMeta,o=this.chart.data.labels||[],l=s.xScale,u=s.yScale,h=this.getParsed(a),f=l.getLabelForValue(h.x),d=u.getLabelForValue(h.y);return{label:o[a]||"",value:"("+f+", "+d+")"}}},{key:"update",value:function(a){var s=this._cachedMeta,o=s.data,l=void 0===o?[]:o,u=this.chart._animationsDisabled,h=Oa(s,l,u),f=h.start,d=h.count;if(this._drawStart=f,this._drawCount=d,Aa(s)&&(f=0,d=l.length),this.options.showLine){this.datasetElementType||this.addElements();var c=s.dataset,v=s._dataset;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!v._decimated,c.points=l;var g=this.resolveDatasetElementOptions(a);g.segment=this.options.segment,this.updateElement(c,void 0,{animated:!u,options:g},a)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(l,f,d,a)}},{key:"addElements",value:function(){!this.datasetElementType&&this.options.showLine&&(this.datasetElementType=this.chart.registry.getElement("line")),(0,H.Z)((0,U.Z)(r.prototype),"addElements",this).call(this)}},{key:"updateElements",value:function(a,s,o,l){for(var u="reset"===l,h=this._cachedMeta,f=h.iScale,d=h.vScale,c=h._stacked,v=h._dataset,g=this.resolveDataElementOptions(s,l),p=this.getSharedOptions(g),y=this.includeOptions(l,p),m=f.axis,_=d.axis,x=this.options,b=x.spanGaps,S=x.segment,M=st(b)?b:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||u||"none"===l,C=s>0&&this.getParsed(s-1),D=s;D<s+o;++D){var O=a[D],A=this.getParsed(D),Z=w?O:{},L=V(A[_]),I=Z[m]=f.getPixelForValue(A[m],D),N=Z[_]=u||L?d.getBasePixel():d.getPixelForValue(c?this.applyStack(d,A,c):A[_],D);Z.skip=isNaN(I)||isNaN(N)||L,Z.stop=D>0&&Math.abs(A[m]-C[m])>M,S&&(Z.parsed=A,Z.raw=v.data[D]),y&&(Z.options=p||this.resolveDataElementOptions(D,O.active?"active":l)),w||this.updateElement(O,D,Z,l),C=A}this.updateSharedOptions(p,l,g)}},{key:"getMaxOverflow",value:function(){var a=this._cachedMeta,s=a.data||[];if(!this.options.showLine){for(var o=0,l=s.length-1;l>=0;--l)o=Math.max(o,s[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}var u=a.dataset,h=u.options&&u.options.borderWidth||0;if(!s.length)return h;var f=s[0].size(this.resolveDataElementOptions(0)),d=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(h,f,d)/2}}]),r}(We);return(0,k.Z)(i,"id","scatter"),(0,k.Z)(i,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,k.Z)(i,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),i}(),Xo=Object.freeze({__proto__:null,BarController:Ho,BubbleController:No,DoughnutController:Ni,LineController:Uo,PieController:$o,PolarAreaController:mr,RadarController:Yo,ScatterController:Ko});function tt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Go=function(){function i(t){(0,T.Z)(this,i),(0,k.Z)(this,"options",void 0),this.options=t||{}}return(0,E.Z)(i,[{key:"init",value:function(){}},{key:"formats",value:function(){return tt()}},{key:"parse",value:function(){return tt()}},{key:"format",value:function(){return tt()}},{key:"add",value:function(){return tt()}},{key:"diff",value:function(){return tt()}},{key:"startOf",value:function(){return tt()}},{key:"endOf",value:function(){return tt()}}],[{key:"override",value:function(n){Object.assign(i.prototype,n)}}]),i}(),qo={_date:Go};function Qo(i,t,n,r){var e=i.controller,a=i.data,o=e._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&i._sorted&&a.length){var l=o._reversePixels?cs:Oe;if(!r)return l(a,t,n);if(e._sharedOptions){var u=a[0],h="function"==typeof u.getRange&&u.getRange(t);if(h){var f=l(a,t,n-h),d=l(a,t,n+h);return{lo:f.lo,hi:d.hi}}}}return{lo:0,hi:a.length-1}}function Mt(i,t,n,r,e){for(var a=i.getSortedVisibleDatasetMetas(),s=n[t],o=0,l=a.length;o<l;++o)for(var u=a[o],h=u.index,f=u.data,d=Qo(a[o],t,s,e),v=d.hi,g=d.lo;g<=v;++g){var p=f[g];p.skip||r(p,h,g)}}function ji(i,t,n,r,e){var a=[];return e||i.isPointInArea(t)?(Mt(i,n,t,function(l,u,h){!e&&!Ae(l,i.chartArea,0)||l.inRange(t.x,t.y,r)&&a.push({element:l,datasetIndex:u,index:h})},!0),a):a}function Ui(i,t,n,r,e,a){return a||i.isPointInArea(t)?"r"!==n||r?function tl(i,t,n,r,e,a){var s=[],o=function Jo(i){var t=-1!==i.indexOf("x"),n=-1!==i.indexOf("y");return function(r,e){var a=t?Math.abs(r.x-e.x):0,s=n?Math.abs(r.y-e.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}(n),l=Number.POSITIVE_INFINITY;return Mt(i,n,t,function u(h,f,d){var c=h.inRange(t.x,t.y,e);if(!r||c){var v=h.getCenterPoint(e);if(a||i.isPointInArea(v)||c){var p=o(t,v);p<l?(s=[{element:h,datasetIndex:f,index:d}],l=p):p===l&&s.push({element:h,datasetIndex:f,index:d})}}}),s}(i,t,n,r,e,a):function el(i,t,n,r){var e=[];return Mt(i,n,t,function a(s,o,l){var u=s.getProps(["startAngle","endAngle"],r),h=u.startAngle,f=u.endAngle;mt(Sa(s,{x:t.x,y:t.y}).angle,h,f)&&e.push({element:s,datasetIndex:o,index:l})}),e}(i,t,n,e):[]}function yr(i,t,n,r,e){var a=[],s="x"===n?"inXRange":"inYRange",o=!1;return Mt(i,n,t,function(l,u,h){l[s](t[n],e)&&(a.push({element:l,datasetIndex:u,index:h}),o=o||l.inRange(t.x,t.y,e))}),r&&!o?[]:a}var il={evaluateInteractionItems:Mt,modes:{index:function(t,n,r,e){var a=Je(n,t),s=r.axis||"x",o=r.includeInvisible||!1,l=r.intersect?ji(t,a,s,e,o):Ui(t,a,s,!1,e,o),u=[];return l.length?(t.getSortedVisibleDatasetMetas().forEach(function(h){var f=l[0].index,d=h.data[f];d&&!d.skip&&u.push({element:d,datasetIndex:h.index,index:f})}),u):[]},dataset:function(t,n,r,e){var a=Je(n,t),s=r.axis||"xy",o=r.includeInvisible||!1,l=r.intersect?ji(t,a,s,e,o):Ui(t,a,s,!1,e,o);if(l.length>0){var u=l[0].datasetIndex,h=t.getDatasetMeta(u).data;l=[];for(var f=0;f<h.length;++f)l.push({element:h[f],datasetIndex:u,index:f})}return l},point:function(t,n,r,e){return ji(t,Je(n,t),r.axis||"xy",e,r.includeInvisible||!1)},nearest:function(t,n,r,e){return Ui(t,Je(n,t),r.axis||"xy",r.intersect,e,r.includeInvisible||!1)},x:function(t,n,r,e){return yr(t,Je(n,t),"x",r.intersect,e)},y:function(t,n,r,e){return yr(t,Je(n,t),"y",r.intersect,e)}}},br=["left","top","right","bottom"];function wt(i,t){return i.filter(function(n){return n.pos===t})}function _r(i,t){return i.filter(function(n){return-1===br.indexOf(n.pos)&&n.box.axis===t})}function Ct(i,t){return i.sort(function(n,r){var e=t?r:n,a=t?n:r;return e.weight===a.weight?e.index-a.index:e.weight-a.weight})}function xr(i,t,n,r){return Math.max(i[n],t[n])+Math.max(i[r],t[r])}function kr(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function ol(i,t,n,r){var e=n.pos,a=n.box,s=i.maxPadding;if(!z(e)){n.size&&(i[e]-=n.size);var o=r[n.stack]||{size:0,count:1};o.size=Math.max(o.size,n.horizontal?a.height:a.width),n.size=o.size/o.count,i[e]+=n.size}a.getPadding&&kr(s,a.getPadding());var l=Math.max(0,t.outerWidth-xr(s,i,"left","right")),u=Math.max(0,t.outerHeight-xr(s,i,"top","bottom")),h=l!==i.w,f=u!==i.h;return i.w=l,i.h=u,n.horizontal?{same:h,other:f}:{same:f,other:h}}function ul(i,t){var n=t.maxPadding;return function r(e){var a={left:0,top:0,right:0,bottom:0};return e.forEach(function(s){a[s]=Math.max(t[s],n[s])}),a}(i?["left","right"]:["top","bottom"])}function Dt(i,t,n,r){var a,s,o,l,u,h,e=[];for(a=0,s=i.length,u=0;a<s;++a){(l=(o=i[a]).box).update(o.width||t.w,o.height||t.h,ul(o.horizontal,t));var f=ol(t,n,o,r);u|=f.same&&e.length,h=h||f.other,l.fullSize||e.push(o)}return u&&Dt(e,t,n,r)||h}function ti(i,t,n,r,e){i.top=n,i.left=t,i.right=t+r,i.bottom=n+e,i.width=r,i.height=e}function Sr(i,t,n,r){var l,e=n.padding,a=t.x,s=t.y,o=(0,B.Z)(i);try{for(o.s();!(l=o.n()).done;){var u=l.value,h=u.box,f=r[u.stack]||{count:1,placed:0,weight:1},d=u.stackWeight/f.weight||1;if(u.horizontal){var c=t.w*d,v=f.size||h.height;gt(f.start)&&(s=f.start),h.fullSize?ti(h,e.left,s,n.outerWidth-e.right-e.left,v):ti(h,t.left+f.placed,s,c,v),f.start=s,f.placed+=c,s=h.bottom}else{var g=t.h*d,p=f.size||h.width;gt(f.start)&&(a=f.start),h.fullSize?ti(h,a,e.top,p,n.outerHeight-e.bottom-e.top):ti(h,a,t.top+f.placed,p,g),f.start=a,f.placed+=g,a=h.right}}}catch(y){o.e(y)}finally{o.f()}t.x=a,t.y=s}var le_addBox=function(t,n){t.boxes||(t.boxes=[]),n.fullSize=n.fullSize||!1,n.position=n.position||"top",n.weight=n.weight||0,n._layers=n._layers||function(){return[{z:0,draw:function(e){n.draw(e)}}]},t.boxes.push(n)},le_removeBox=function(t,n){var r=t.boxes?t.boxes.indexOf(n):-1;-1!==r&&t.boxes.splice(r,1)},le_configure=function(t,n,r){n.fullSize=r.fullSize,n.position=r.position,n.weight=r.weight},le_update=function(t,n,r,e){if(t){var a=oe(t.options.layout.padding),s=Math.max(n-a.width,0),o=Math.max(r-a.height,0),l=function sl(i){var t=function al(i){var n,r,e,a,s,o,t=[];for(n=0,r=(i||[]).length;n<r;++n){var u=(e=i[n]).options;s=u.stack;var h=u.stackWeight;o=void 0===h?1:h,t.push({index:n,box:e,pos:a=e.position,horizontal:e.isHorizontal(),weight:e.weight,stack:s&&a+s,stackWeight:o})}return t}(i),n=Ct(t.filter(function(u){return u.box.fullSize}),!0),r=Ct(wt(t,"left"),!0),e=Ct(wt(t,"right")),a=Ct(wt(t,"top"),!0),s=Ct(wt(t,"bottom")),o=_r(t,"x"),l=_r(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:e.concat(l).concat(s).concat(o),chartArea:wt(t,"chartArea"),vertical:r.concat(e).concat(l),horizontal:a.concat(s).concat(o)}}(t.boxes),u=l.vertical,h=l.horizontal;j(t.boxes,function(p){"function"==typeof p.beforeLayout&&p.beforeLayout()});var f=u.reduce(function(p,y){return y.box.options&&!1===y.box.options.display?p:p+1},0)||1,d=Object.freeze({outerWidth:n,outerHeight:r,padding:a,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/f,hBoxMaxHeight:o/2}),c=Object.assign({},a);kr(c,oe(e));var v=Object.assign({maxPadding:c,w:s,h:o,x:a.left,y:a.top},a),g=function nl(i,t){var a,s,o,n=function rl(i){var r,t={},n=(0,B.Z)(i);try{for(n.s();!(r=n.n()).done;){var e=r.value,a=e.stack,o=e.stackWeight;if(a&&br.includes(e.pos)){var l=t[a]||(t[a]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}}}catch(u){n.e(u)}finally{n.f()}return t}(i),r=t.vBoxMaxWidth,e=t.hBoxMaxHeight;for(a=0,s=i.length;a<s;++a){var l=(o=i[a]).box.fullSize,u=n[o.stack],h=u&&o.stackWeight/u.weight;o.horizontal?(o.width=h?h*r:l&&t.availableWidth,o.height=e):(o.width=r,o.height=h?h*e:l&&t.availableHeight)}return n}(u.concat(h),d);Dt(l.fullSize,v,d,g),Dt(u,v,d,g),Dt(h,v,d,g)&&Dt(u,v,d,g),function ll(i){var t=i.maxPadding;function n(r){var e=Math.max(t[r]-i[r],0);return i[r]+=e,e}i.y+=n("top"),i.x+=n("left"),n("right"),n("bottom")}(v),Sr(l.leftAndTop,v,d,g),v.x+=v.w,v.y+=v.h,Sr(l.rightAndBottom,v,d,g),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},j(l.chartArea,function(p){var y=p.box;Object.assign(y,t.chartArea),y.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}},Mr=function(){function i(){(0,T.Z)(this,i)}return(0,E.Z)(i,[{key:"acquireContext",value:function(n,r){}},{key:"releaseContext",value:function(n){return!1}},{key:"addEventListener",value:function(n,r,e){}},{key:"removeEventListener",value:function(n,r,e){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(n,r,e,a){return r=Math.max(0,r||n.width),e=e||n.height,{width:r,height:Math.max(0,a?Math.floor(r/a):e)}}},{key:"isAttached",value:function(n){return!0}},{key:"updateConfig",value:function(n){}}]),i}(),hl=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(){return(0,T.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}]),n}(Mr),ii="$chartjs",fl={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wr=function(t){return null===t||""===t},Cr=!!so&&{passive:!0};function vl(i,t,n){i.canvas.removeEventListener(t,n,Cr)}function ai(i,t){var r,n=(0,B.Z)(i);try{for(n.s();!(r=n.n()).done;){var e=r.value;if(e===t||e.contains(t))return!0}}catch(a){n.e(a)}finally{n.f()}}function pl(i,t,n){var r=i.canvas,e=new MutationObserver(function(a){var l,s=!1,o=(0,B.Z)(a);try{for(o.s();!(l=o.n()).done;){var u=l.value;s=(s=s||ai(u.addedNodes,r))&&!ai(u.removedNodes,r)}}catch(h){o.e(h)}finally{o.f()}s&&n()});return e.observe(document,{childList:!0,subtree:!0}),e}function ml(i,t,n){var r=i.canvas,e=new MutationObserver(function(a){var l,s=!1,o=(0,B.Z)(a);try{for(o.s();!(l=o.n()).done;){var u=l.value;s=(s=s||ai(u.removedNodes,r))&&!ai(u.addedNodes,r)}}catch(h){o.e(h)}finally{o.f()}s&&n()});return e.observe(document,{childList:!0,subtree:!0}),e}var Pt=new Map,Dr=0;function Pr(){var i=window.devicePixelRatio;i!==Dr&&(Dr=i,Pt.forEach(function(t,n){n.currentDevicePixelRatio!==i&&t()}))}function _l(i,t,n){var r=i.canvas,e=r&&zi(r);if(e){var a=Pa(function(o,l){var u=e.clientWidth;n(o,l),u<e.clientWidth&&n()},window),s=new ResizeObserver(function(o){var l=o[0],u=l.contentRect.width,h=l.contentRect.height;0===u&&0===h||a(u,h)});return s.observe(e),function yl(i,t){Pt.size||window.addEventListener("resize",Pr),Pt.set(i,t)}(i,a),s}}function $i(i,t,n){n&&n.disconnect(),"resize"===t&&function bl(i){Pt.delete(i),Pt.size||window.removeEventListener("resize",Pr)}(i)}function xl(i,t,n){var r=i.canvas,e=Pa(function(a){null!==i.ctx&&n(function gl(i,t){var n=fl[i.type]||i.type,r=Je(i,t),e=r.x,a=r.y;return{type:n,chart:t,native:i,x:void 0!==e?e:null,y:void 0!==a?a:null}}(a,i))},i);return function cl(i,t,n){i.addEventListener(t,n,Cr)}(r,t,e),e}var kl=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(){return(0,T.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n,[{key:"acquireContext",value:function(e,a){var s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(function dl(i,t){var n=i.style,r=i.getAttribute("height"),e=i.getAttribute("width");if(i[ii]={initial:{height:r,width:e,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",wr(e)){var a=Xa(i,"width");void 0!==a&&(i.width=a)}if(wr(r))if(""===i.style.height)i.height=i.width/(t||2);else{var s=Xa(i,"height");void 0!==s&&(i.height=s)}}(e,a),s):null}},{key:"releaseContext",value:function(e){var a=e.canvas;if(!a[ii])return!1;var s=a[ii].initial;["height","width"].forEach(function(l){var u=s[l];V(u)?a.removeAttribute(l):a.setAttribute(l,u)});var o=s.style||{};return Object.keys(o).forEach(function(l){a.style[l]=o[l]}),a.width=a.width,delete a[ii],!0}},{key:"addEventListener",value:function(e,a,s){this.removeEventListener(e,a),(e.$proxies||(e.$proxies={}))[a]=({attach:pl,detach:ml,resize:_l}[a]||xl)(e,a,s)}},{key:"removeEventListener",value:function(e,a){var s=e.$proxies||(e.$proxies={}),o=s[a];o&&(({attach:$i,detach:$i,resize:$i}[a]||vl)(e,a,o),s[a]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(e,a,s,o){return function no(i,t,n,r){var e=Jt(i),a=Qe(e,"margin"),s=Qt(e.maxWidth,i,"clientWidth")||Ut,o=Qt(e.maxHeight,i,"clientHeight")||Ut,l=function ro(i,t,n){var r,e;if(void 0===t||void 0===n){var a=zi(i);if(a){var s=a.getBoundingClientRect(),o=Jt(a),l=Qe(o,"border","width"),u=Qe(o,"padding");t=s.width-u.width-l.width,n=s.height-u.height-l.height,r=Qt(o.maxWidth,a,"clientWidth"),e=Qt(o.maxHeight,a,"clientHeight")}else t=i.clientWidth,n=i.clientHeight}return{width:t,height:n,maxWidth:r||Ut,maxHeight:e||Ut}}(i,t,n),u=l.width,h=l.height;if("content-box"===e.boxSizing){var f=Qe(e,"border","width"),d=Qe(e,"padding");u-=d.width+f.width,h-=d.height+f.height}return u=Math.max(0,u-a.width),h=Math.max(0,r?u/r:h-a.height),u=ei(Math.min(u,s,l.maxWidth)),h=ei(Math.min(h,o,l.maxHeight)),u&&!h&&(h=ei(u/2)),(void 0!==t||void 0!==n)&&r&&l.height&&h>l.height&&(h=l.height,u=ei(Math.floor(h*r))),{width:u,height:h}}(e,a,s,o)}},{key:"isAttached",value:function(e){var a=zi(e);return!(!a||!a.isConnected)}}]),n}(Mr),ke=function(){function i(){(0,T.Z)(this,i),(0,k.Z)(this,"x",void 0),(0,k.Z)(this,"y",void 0),(0,k.Z)(this,"active",!1),(0,k.Z)(this,"options",void 0),(0,k.Z)(this,"$animations",void 0)}return(0,E.Z)(i,[{key:"tooltipPosition",value:function(n){var r=this.getProps(["x","y"],n);return{x:r.x,y:r.y}}},{key:"hasValue",value:function(){return st(this.x)&&st(this.y)}},{key:"getProps",value:function(n,r){var e=this,a=this.$animations;if(!r||!a)return this;var s={};return n.forEach(function(o){s[o]=a[o]&&a[o].active()?a[o]._to:e[o]}),s}}]),i}();function ri(i,t,n,r,e){var l,u,h,a=F(r,0),s=Math.min(F(e,i.length),i.length),o=0;for(n=Math.ceil(n),e&&(n=(l=e-r)/Math.floor(l/n)),h=a;h<0;)o++,h=Math.round(a+o*n);for(u=Math.max(a,0);u<s;u++)u===h&&(t.push(i[u]),o++,h=Math.round(a+o*n))}(0,k.Z)(ke,"defaults",{}),(0,k.Z)(ke,"defaultRoutes",void 0);var Or=function(t,n,r){return"top"===n||"left"===n?t[n]+r:t[n]-r},Ar=function(t,n){return Math.min(n||t,t)};function Lr(i,t){for(var n=[],r=i.length/t,e=i.length,a=0;a<e;a+=r)n.push(i[Math.floor(a)]);return n}function Ll(i,t,n){var u,r=i.ticks.length,e=Math.min(t,r-1),a=i._startPixel,s=i._endPixel,o=1e-6,l=i.getPixelForTick(e);if(!(n&&(u=1===r?Math.max(l-a,s-l):0===t?(i.getPixelForTick(1)-l)/2:(l-i.getPixelForTick(e-1))/2,l+=e<t?u:-u,l<a-o||l>s+o)))return l}function Ot(i){return i.drawTicks?i.tickLength:0}function Tr(i,t){if(!i.display)return 0;var n=ee(i.font,t),r=oe(i.padding);return(Y(i.text)?i.text.length:1)*n.lineHeight+r.height}function Zl(i,t,n){var r=Oi(i);return(n&&"right"!==t||!n&&"right"===t)&&(r=function(t){return"left"===t?"right":"right"===t?"left":t}(r)),r}var At=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(r){var e;return(0,T.Z)(this,n),(e=t.call(this)).id=r.id,e.type=r.type,e.options=void 0,e.ctx=r.ctx,e.chart=r.chart,e.top=void 0,e.bottom=void 0,e.left=void 0,e.right=void 0,e.width=void 0,e.height=void 0,e._margins={left:0,right:0,top:0,bottom:0},e.maxWidth=void 0,e.maxHeight=void 0,e.paddingTop=void 0,e.paddingBottom=void 0,e.paddingLeft=void 0,e.paddingRight=void 0,e.axis=void 0,e.labelRotation=void 0,e.min=void 0,e.max=void 0,e._range=void 0,e.ticks=[],e._gridLineItems=null,e._labelItems=null,e._labelSizes=null,e._length=0,e._maxLength=0,e._longestTextCache={},e._startPixel=void 0,e._endPixel=void 0,e._reversePixels=!1,e._userMax=void 0,e._userMin=void 0,e._suggestedMax=void 0,e._suggestedMin=void 0,e._ticksLength=0,e._borderValue=0,e._cache={},e._dataLimitsCached=!1,e.$context=void 0,e}return(0,E.Z)(n,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e,a){return e}},{key:"getUserBounds",value:function(){var e=this._userMin,a=this._userMax,s=this._suggestedMin,o=this._suggestedMax;return e=de(e,Number.POSITIVE_INFINITY),a=de(a,Number.NEGATIVE_INFINITY),s=de(s,Number.POSITIVE_INFINITY),o=de(o,Number.NEGATIVE_INFINITY),{min:de(e,s),max:de(a,o),minDefined:q(e),maxDefined:q(a)}}},{key:"getMinMax",value:function(e){var h,a=this.getUserBounds(),s=a.min,o=a.max,l=a.minDefined,u=a.maxDefined;if(l&&u)return{min:s,max:o};for(var f=this.getMatchingVisibleMetas(),d=0,c=f.length;d<c;++d)h=f[d].controller.getMinMax(this,e),l||(s=Math.min(s,h.min)),u||(o=Math.max(o,h.max));return{min:de(s=u&&s>o?o:s,de(o=l&&s>o?s:o,s)),max:de(o,de(s,o))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"getLabelItems",value:function(){return this._labelItems||(this._labelItems=this._computeLabelItems(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea))}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){$(this.options.beforeUpdate,[this])}},{key:"update",value:function(e,a,s){var o=this.options,l=o.beginAtZero,u=o.grace,h=o.ticks,f=h.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=a,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Is(i,t,n){var r=i.min,e=i.max,a=ga(t,(e-r)/2),s=function(l,u){return n&&0===l?0:l+u};return{min:s(r,-Math.abs(a)),max:s(e,a)}}(this,u,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var d=f<this.ticks.length;this._convertTicksToLabels(d?Lr(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),h.display&&(h.autoSkip||"auto"===h.source)&&(this.ticks=function Ml(i,t){var n=i.options.ticks,r=function wl(i){var t=i.options.offset,n=i._tickSize();return Math.floor(Math.min(i._length/n+(t?0:1),i._maxLength/n))}(i),e=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?function Dl(i){var n,r,t=[];for(n=0,r=i.length;n<r;n++)i[n].major&&t.push(n);return t}(t):[],s=a.length,o=a[0],l=a[s-1],u=[];if(s>e)return function Pl(i,t,n,r){var s,e=0,a=n[0];for(r=Math.ceil(r),s=0;s<i.length;s++)s===a&&(t.push(i[s]),a=n[++e*r])}(t,u,a,s/e),u;var h=function Cl(i,t,n){var r=function Ol(i){var n,r,t=i.length;if(t<2)return!1;for(r=i[0],n=1;n<t;++n)if(i[n]-i[n-1]!==r)return!1;return r}(i),e=t.length/n;if(!r)return Math.max(e,1);for(var a=function us(i){var r,t=[],n=Math.sqrt(i);for(r=1;r<n;r++)i%r==0&&(t.push(r),t.push(i/r));return n===(0|n)&&t.push(n),t.sort(function(e,a){return e-a}).pop(),t}(r),s=0,o=a.length-1;s<o;s++){var l=a[s];if(l>e)return l}return Math.max(e,1)}(a,t,e);if(s>0){var f,d,c=s>1?Math.round((l-o)/(s-1)):null;for(ri(t,u,h,V(c)?0:o-c,o),f=0,d=s-1;f<d;f++)ri(t,u,h,a[f],a[f+1]);return ri(t,u,h,l,V(c)?t.length:l+c),u}return ri(t,u,h),u}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var a,s,e=this.options.reverse;this.isHorizontal()?(a=this.left,s=this.right):(a=this.top,s=this.bottom,e=!e),this._startPixel=a,this._endPixel=s,this._reversePixels=e,this._length=s-a,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){$(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){$(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){$(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),$(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){$(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(e){var s,o,l,a=this.options.ticks;for(s=0,o=e.length;s<o;s++)(l=e[s]).label=$(a.callback,[l.value,s,e],this)}},{key:"afterTickToLabelConversion",value:function(){$(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){$(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var h,f,d,e=this.options,a=e.ticks,s=Ar(this.ticks.length,e.ticks.maxTicksLimit),o=a.minRotation||0,l=a.maxRotation,u=o;if(!this._isVisible()||!a.display||o>=l||s<=1||!this.isHorizontal())this.labelRotation=o;else{var c=this._getLabelSizes(),v=c.widest.width,g=c.highest.height,p=ie(this.chart.width-v,0,this.maxWidth);v+6>(h=e.offset?this.maxWidth/s:p/(s-1))&&(h=p/(s-(e.offset?.5:1)),f=this.maxHeight-Ot(e.grid)-a.padding-Tr(e.title,this.chart.options.font),d=Math.sqrt(v*v+g*g),u=Ci(Math.min(Math.asin(ie((c.highest.height+6)/h,-1,1)),Math.asin(ie(f/d,-1,1))-Math.asin(ie(g/d,-1,1)))),u=Math.max(o,Math.min(l,u))),this.labelRotation=u}}},{key:"afterCalculateLabelRotation",value:function(){$(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){$(this.options.beforeFit,[this])}},{key:"fit",value:function(){var e={width:0,height:0},a=this.chart,s=this.options,o=s.ticks,l=s.title,u=s.grid,h=this._isVisible(),f=this.isHorizontal();if(h){var d=Tr(l,a.options.font);if(f?(e.width=this.maxWidth,e.height=Ot(u)+d):(e.height=this.maxHeight,e.width=Ot(u)+d),o.display&&this.ticks.length){var c=this._getLabelSizes(),v=c.first,g=c.last,p=c.widest,y=c.highest,m=2*o.padding,_=xe(this.labelRotation),x=Math.cos(_),b=Math.sin(_);f?e.height=Math.min(this.maxHeight,e.height+(o.mirror?0:b*p.width+x*y.height)+m):e.width=Math.min(this.maxWidth,e.width+(o.mirror?0:x*p.width+b*y.height)+m),this._calculatePadding(v,g,b,x)}}this._handleMargins(),f?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(e,a,s,o){var l=this.options,u=l.ticks,h=u.align,f=u.padding,c=0!==this.labelRotation,v="top"!==l.position&&"x"===this.axis;if(this.isHorizontal()){var g=this.getPixelForTick(0)-this.left,p=this.right-this.getPixelForTick(this.ticks.length-1),y=0,m=0;c?v?(y=o*e.width,m=s*a.height):(y=s*e.height,m=o*a.width):"start"===h?m=a.width:"end"===h?y=e.width:"inner"!==h&&(y=e.width/2,m=a.width/2),this.paddingLeft=Math.max((y-g+f)*this.width/(this.width-g),0),this.paddingRight=Math.max((m-p+f)*this.width/(this.width-p),0)}else{var _=a.height/2,x=e.height/2;"start"===h?(_=0,x=e.height):"end"===h&&(_=a.height,x=0),this.paddingTop=_+f,this.paddingBottom=x+f}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){$(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var e=this.options,s=e.position;return"top"===s||"bottom"===s||"x"===e.axis}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(e){var a,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),a=0,s=e.length;a<s;a++)V(e[a].label)&&(e.splice(a,1),s--,a--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var e=this._labelSizes;if(!e){var a=this.options.ticks.sampleSize,s=this.ticks;a<s.length&&(s=Lr(s,a)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}},{key:"_computeLabelSizes",value:function(e,a,s){var v,g,p,y,m,_,x,b,S,M,w,o=this.ctx,l=this._longestTextCache,u=[],h=[],f=Math.floor(a/Ar(a,s)),d=0,c=0;for(v=0;v<a;v+=f){if(y=e[v].label,m=this._resolveTickFontOptions(v),o.font=_=m.string,x=l[_]=l[_]||{data:{},gc:[]},b=m.lineHeight,S=M=0,V(y)||Y(y)){if(Y(y))for(g=0,p=y.length;g<p;++g)!V(w=y[g])&&!Y(w)&&(S=Kt(o,x.data,x.gc,S,w),M+=b)}else S=Kt(o,x.data,x.gc,S,y),M=b;u.push(S),h.push(M),d=Math.max(S,d),c=Math.max(M,c)}!function Tl(i,t){j(i,function(n){var a,r=n.gc,e=r.length/2;if(e>t){for(a=0;a<e;++a)delete n.data[r[a]];r.splice(0,e)}})}(l,a);var C=u.indexOf(d),D=h.indexOf(c),O=function(Z){return{width:u[Z]||0,height:h[Z]||0}};return{first:O(0),last:O(a-1),widest:O(C),highest:O(D),widths:u,heights:h}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(e,a){return NaN}},{key:"getValueForPixel",value:function(e){}},{key:"getPixelForTick",value:function(e){var a=this.ticks;return e<0||e>a.length-1?null:this.getPixelForValue(a[e].value)}},{key:"getPixelForDecimal",value:function(e){this._reversePixels&&(e=1-e);var a=this._startPixel+e*this._length;return function ds(i){return ie(i,-32768,32767)}(this._alignToPixels?Xe(this.chart,a,0):a)}},{key:"getDecimalForPixel",value:function(e){var a=(e-this._startPixel)/this._length;return this._reversePixels?1-a:a}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var e=this.min,a=this.max;return e<0&&a<0?a:e>0&&a>0?e:0}},{key:"getContext",value:function(e){var a=this.ticks||[];if(e>=0&&e<a.length){var s=a[e];return s.$context||(s.$context=function Rl(i,t,n){return Ve(i,{tick:n,index:t,type:"tick"})}(this.getContext(),e,s))}return this.$context||(this.$context=function El(i,t){return Ve(i,{scale:t,type:"scale"})}(this.chart.getContext(),this))}},{key:"_tickSize",value:function(){var e=this.options.ticks,a=xe(this.labelRotation),s=Math.abs(Math.cos(a)),o=Math.abs(Math.sin(a)),l=this._getLabelSizes(),u=e.autoSkipPadding||0,h=l?l.widest.width+u:0,f=l?l.highest.height+u:0;return this.isHorizontal()?f*s>h*o?h/s:f/o:f*o<h*s?f/s:h/o}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(e){var b,S,M,w,C,D,O,A,Z,L,I,N,a=this.axis,s=this.chart,o=this.options,l=o.grid,u=o.position,h=o.border,f=l.offset,d=this.isHorizontal(),v=this.ticks.length+(f?1:0),g=Ot(l),p=[],y=h.setContext(this.getContext()),m=y.display?y.width:0,_=m/2,x=function(zt){return Xe(s,zt,m)};if("top"===u)b=x(this.bottom),D=this.bottom-g,A=b-_,L=x(e.top)+_,N=e.bottom;else if("bottom"===u)b=x(this.top),L=e.top,N=x(e.bottom)-_,D=b+_,A=this.top+g;else if("left"===u)b=x(this.right),C=this.right-g,O=b-_,Z=x(e.left)+_,I=e.right;else if("right"===u)b=x(this.left),Z=e.left,I=x(e.right)-_,C=b+_,O=this.left+g;else if("x"===a){if("center"===u)b=x((e.top+e.bottom)/2+.5);else if(z(u)){var te=Object.keys(u)[0];b=x(this.chart.scales[te].getPixelForValue(u[te]))}L=e.top,N=e.bottom,A=(D=b+_)+g}else if("y"===a){if("center"===u)b=x((e.left+e.right)/2);else if(z(u)){var ge=Object.keys(u)[0];b=x(this.chart.scales[ge].getPixelForValue(u[ge]))}O=(C=b-_)-g,Z=e.left,I=e.right}var we=F(o.ticks.maxTicksLimit,v),Ne=Math.max(1,Math.ceil(v/we));for(S=0;S<v;S+=Ne){var be=this.getContext(S),ae=l.setContext(be),je=h.setContext(be),at=ae.lineWidth,ft=ae.color,Ft=je.dash||[],Ue=je.dashOffset,dt=ae.tickWidth,$e=ae.tickColor,It=ae.tickBorderDash||[],Bt=ae.tickBorderDashOffset;void 0!==(M=Ll(this,S,f))&&(w=Xe(s,M,at),d?C=O=Z=I=w:D=A=L=N=w,p.push({tx1:C,ty1:D,tx2:O,ty2:A,x1:Z,y1:L,x2:I,y2:N,width:at,color:ft,borderDash:Ft,borderDashOffset:Ue,tickWidth:dt,tickColor:$e,tickBorderDash:It,tickBorderDashOffset:Bt}))}return this._ticksLength=v,this._borderValue=b,p}},{key:"_computeLabelItems",value:function(e){var x,b,M,w,C,D,O,A,Z,L,I,a=this.axis,s=this.options,o=s.position,l=s.ticks,u=this.isHorizontal(),h=this.ticks,f=l.align,d=l.crossAlign,c=l.padding,v=l.mirror,g=Ot(s.grid),p=g+c,y=v?-c:p,m=-xe(this.labelRotation),_=[],N="middle";if("top"===o)C=this.bottom-y,D=this._getXAxisLabelAlignment();else if("bottom"===o)C=this.top+y,D=this._getXAxisLabelAlignment();else if("left"===o){var te=this._getYAxisLabelAlignment(g);D=te.textAlign,w=te.x}else if("right"===o){var ve=this._getYAxisLabelAlignment(g);D=ve.textAlign,w=ve.x}else if("x"===a){if("center"===o)C=(e.top+e.bottom)/2+p;else if(z(o)){var ge=Object.keys(o)[0];C=this.chart.scales[ge].getPixelForValue(o[ge])+p}D=this._getXAxisLabelAlignment()}else if("y"===a){if("center"===o)w=(e.left+e.right)/2-p;else if(z(o)){var we=Object.keys(o)[0];w=this.chart.scales[we].getPixelForValue(o[we])}D=this._getYAxisLabelAlignment(g).textAlign}"y"===a&&("start"===f?N="top":"end"===f&&(N="bottom"));var be=this._getLabelSizes();for(x=0,b=h.length;x<b;++x){M=h[x].label;var ae=l.setContext(this.getContext(x));O=this.getPixelForTick(x)+l.labelOffset,Z=(A=this._resolveTickFontOptions(x)).lineHeight;var je=(L=Y(M)?M.length:1)/2,at=ae.color,ft=ae.textStrokeColor,Ft=ae.textStrokeWidth,Ue=D;u?(w=O,"inner"===D&&(Ue=x===b-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),I="top"===o?"near"===d||0!==m?-L*Z+Z/2:"center"===d?-be.highest.height/2-je*Z+Z:Z/2-be.highest.height:"near"===d||0!==m?Z/2:"center"===d?be.highest.height/2-je*Z:be.highest.height-L*Z,v&&(I*=-1),0!==m&&!ae.showLabelBackdrop&&(w+=Z/2*Math.sin(m))):(C=O,I=(1-L)*Z/2);var dt=void 0;if(ae.showLabelBackdrop){var $e=oe(ae.backdropPadding),It=be.heights[x],Bt=be.widths[x],mi=I-$e.top,zt=0-$e.left;switch(N){case"middle":mi-=It/2;break;case"bottom":mi-=It}switch(D){case"center":zt-=Bt/2;break;case"right":zt-=Bt}dt={left:zt,top:mi,width:Bt+$e.width,height:It+$e.height,color:ae.backdropColor}}_.push({label:M,font:A,textOffset:I,options:{rotation:m,color:at,strokeColor:ft,strokeWidth:Ft,textAlign:Ue,textBaseline:N,translation:[w,C],backdrop:dt}})}return _}},{key:"_getXAxisLabelAlignment",value:function(){var e=this.options,a=e.position,s=e.ticks;if(-xe(this.labelRotation))return"top"===a?"left":"right";var l="center";return"start"===s.align?l="left":"end"===s.align?l="right":"inner"===s.align&&(l="inner"),l}},{key:"_getYAxisLabelAlignment",value:function(e){var v,g,a=this.options,s=a.position,o=a.ticks,l=o.crossAlign,u=o.mirror,h=o.padding,d=e+h,c=this._getLabelSizes().widest.width;return"left"===s?u?(g=this.right+h,"near"===l?v="left":"center"===l?(v="center",g+=c/2):(v="right",g+=c)):(g=this.right-d,"near"===l?v="right":"center"===l?(v="center",g-=c/2):(v="left",g=this.left)):"right"===s?u?(g=this.left+h,"near"===l?v="right":"center"===l?(v="center",g-=c/2):(v="left",g-=c)):(g=this.left+d,"near"===l?v="left":"center"===l?(v="center",g+=c/2):(v="right",g=this.right)):v="right",{textAlign:v,x:g}}},{key:"_computeLabelArea",value:function(){if(!this.options.ticks.mirror){var e=this.chart,a=this.options.position;if("left"===a||"right"===a)return{top:0,left:this.left,bottom:e.height,right:this.right};if("top"===a||"bottom"===a)return{top:this.top,left:0,bottom:this.bottom,right:e.width}}}},{key:"drawBackground",value:function(){var e=this.ctx,a=this.options.backgroundColor,s=this.left,o=this.top,l=this.width,u=this.height;a&&(e.save(),e.fillStyle=a,e.fillRect(s,o,l,u),e.restore())}},{key:"getLineWidthForValue",value:function(e){var a=this.options.grid;if(!this._isVisible()||!a.display)return 0;var o=this.ticks.findIndex(function(u){return u.value===e});return o>=0?a.setContext(this.getContext(o)).lineWidth:0}},{key:"drawGrid",value:function(e){var l,u,a=this.options.grid,s=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),h=function(c,v,g){!g.width||!g.color||(s.save(),s.lineWidth=g.width,s.strokeStyle=g.color,s.setLineDash(g.borderDash||[]),s.lineDashOffset=g.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(v.x,v.y),s.stroke(),s.restore())};if(a.display)for(l=0,u=o.length;l<u;++l){var f=o[l];a.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),a.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var e=this.chart,a=this.ctx,s=this.options,o=s.border,l=s.grid,u=o.setContext(this.getContext()),h=o.display?u.width:0;if(h){var c,v,g,p,f=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;this.isHorizontal()?(c=Xe(e,this.left,h)-h/2,v=Xe(e,this.right,f)+f/2,g=p=d):(g=Xe(e,this.top,h)-h/2,p=Xe(e,this.bottom,f)+f/2,c=v=d),a.save(),a.lineWidth=u.width,a.strokeStyle=u.color,a.beginPath(),a.moveTo(c,g),a.lineTo(v,p),a.stroke(),a.restore()}}},{key:"drawLabels",value:function(e){if(this.options.ticks.display){var s=this.ctx,o=this._computeLabelArea();o&&Xt(s,o);var h,l=this.getLabelItems(e),u=(0,B.Z)(l);try{for(u.s();!(h=u.n()).done;){var f=h.value;Ge(s,f.label,0,f.textOffset,f.font,f.options)}}catch(p){u.e(p)}finally{u.f()}o&&Gt(s)}}},{key:"drawTitle",value:function(){var e=this.ctx,a=this.options,s=a.position,o=a.title,l=a.reverse;if(o.display){var u=ee(o.font),h=oe(o.padding),f=o.align,d=u.lineHeight/2;"bottom"===s||"center"===s||z(s)?(d+=h.bottom,Y(o.text)&&(d+=u.lineHeight*(o.text.length-1))):d+=h.top;var c=function Fl(i,t,n,r){var d,c,v,e=i.top,a=i.left,s=i.bottom,o=i.right,l=i.chart,u=l.chartArea,h=l.scales,f=0,g=s-e,p=o-a;if(i.isHorizontal()){if(c=se(r,a,o),z(n)){var y=Object.keys(n)[0];v=h[y].getPixelForValue(n[y])+g-t}else v="center"===n?(u.bottom+u.top)/2+g-t:Or(i,n,t);d=o-a}else{if(z(n)){var _=Object.keys(n)[0];c=h[_].getPixelForValue(n[_])-p+t}else c="center"===n?(u.left+u.right)/2-p+t:Or(i,n,t);v=se(r,s,e),f="left"===n?-Q:Q}return{titleX:c,titleY:v,maxWidth:d,rotation:f}}(this,d,s,f),v=c.titleX,g=c.titleY;Ge(e,o.text,0,0,u,{color:o.color,maxWidth:c.maxWidth,rotation:c.rotation,textAlign:Zl(f,s,l),textBaseline:"middle",translation:[v,g]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var e=this,a=this.options,s=a.ticks&&a.ticks.z||0,o=F(a.grid&&a.grid.z,-1),l=F(a.border&&a.border.z,0);return this._isVisible()&&this.draw===n.prototype.draw?[{z:o,draw:function(h){e.drawBackground(),e.drawGrid(h),e.drawTitle()}},{z:l,draw:function(){e.drawBorder()}},{z:s,draw:function(h){e.drawLabels(h)}}]:[{z:s,draw:function(h){e.draw(h)}}]}},{key:"getMatchingVisibleMetas",value:function(e){var l,u,a=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",o=[];for(l=0,u=a.length;l<u;++l){var h=a[l];h[s]===this.id&&(!e||h.type===e)&&o.push(h)}return o}},{key:"_resolveTickFontOptions",value:function(e){return ee(this.options.ticks.setContext(this.getContext(e)).font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}]),n}(ke),ni=function(){function i(t,n,r){(0,T.Z)(this,i),this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}return(0,E.Z)(i,[{key:"isForType",value:function(n){return Object.prototype.isPrototypeOf.call(this.type.prototype,n.prototype)}},{key:"register",value:function(n){var e,r=Object.getPrototypeOf(n);(function zl(i){return"id"in i&&"defaults"in i})(r)&&(e=this.register(r));var a=this.items,s=n.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+n);return s in a||(a[s]=n,function Il(i,t,n){var r=ct(Object.create(null),[n?J.get(n):{},J.get(t),i.defaults]);J.set(t,r),i.defaultRoutes&&function Bl(i,t){Object.keys(t).forEach(function(n){var r=n.split("."),e=r.pop(),a=[i].concat(r).join("."),s=t[n].split("."),o=s.pop(),l=s.join(".");J.route(a,e,l,o)})}(t,i.defaultRoutes),i.descriptors&&J.describe(t,i.descriptors)}(n,o,e),this.override&&J.override(n.id,n.overrides)),o}},{key:"get",value:function(n){return this.items[n]}},{key:"unregister",value:function(n){var r=this.items,e=n.id,a=this.scope;e in r&&delete r[e],a&&e in J[a]&&(delete J[a][e],this.override&&delete Ke[e])}}]),i}(),Vl=function(){function i(){(0,T.Z)(this,i),this.controllers=new ni(We,"datasets",!0),this.elements=new ni(ke,"elements"),this.plugins=new ni(Object,"plugins"),this.scales=new ni(At,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return(0,E.Z)(i,[{key:"add",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("register",r)}},{key:"remove",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("unregister",r)}},{key:"addControllers",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("register",r,this.controllers)}},{key:"addElements",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("register",r,this.elements)}},{key:"addPlugins",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("register",r,this.plugins)}},{key:"addScales",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("register",r,this.scales)}},{key:"getController",value:function(n){return this._get(n,this.controllers,"controller")}},{key:"getElement",value:function(n){return this._get(n,this.elements,"element")}},{key:"getPlugin",value:function(n){return this._get(n,this.plugins,"plugin")}},{key:"getScale",value:function(n){return this._get(n,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("unregister",r,this.controllers)}},{key:"removeElements",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("unregister",r,this.elements)}},{key:"removePlugins",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("unregister",r,this.plugins)}},{key:"removeScales",value:function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];this._each("unregister",r,this.scales)}},{key:"_each",value:function(n,r,e){var a=this;(0,W.Z)(r).forEach(function(s){var o=e||a._getRegistryForType(s);e||o.isForType(s)||o===a.plugins&&s.id?a._exec(n,o,s):j(s,function(l){var u=e||a._getRegistryForType(l);a._exec(n,u,l)})})}},{key:"_exec",value:function(n,r,e){var a=wi(n);$(e["before"+a],[],e),r[n](e),$(e["after"+a],[],e)}},{key:"_getRegistryForType",value:function(n){for(var r=0;r<this._typedRegistries.length;r++){var e=this._typedRegistries[r];if(e.isForType(n))return e}return this.plugins}},{key:"_get",value:function(n,r,e){var a=r.get(n);if(void 0===a)throw new Error('"'+n+'" is not a registered '+e+".");return a}}]),i}(),ye=new Vl,Wl=function(){function i(){(0,T.Z)(this,i),this._init=[]}return(0,E.Z)(i,[{key:"notify",value:function(n,r,e,a){"beforeInit"===r&&(this._init=this._createDescriptors(n,!0),this._notify(this._init,n,"install"));var s=a?this._descriptors(n).filter(a):this._descriptors(n),o=this._notify(s,n,r,e);return"afterDestroy"===r&&(this._notify(s,n,"stop"),this._notify(this._init,n,"uninstall")),o}},{key:"_notify",value:function(n,r,e,a){a=a||{};var o,s=(0,B.Z)(n);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=l.plugin;if(!1===$(u[e],[r,a,l.options],u)&&a.cancelable)return!1}}catch(d){s.e(d)}finally{s.f()}return!0}},{key:"invalidate",value:function(){V(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(n){if(this._cache)return this._cache;var r=this._cache=this._createDescriptors(n);return this._notifyStateChanges(n),r}},{key:"_createDescriptors",value:function(n,r){var e=n&&n.config,a=F(e.options&&e.options.plugins,{}),s=function Hl(i){for(var t={},n=[],r=Object.keys(ye.plugins.items),e=0;e<r.length;e++)n.push(ye.getPlugin(r[e]));for(var a=i.plugins||[],s=0;s<a.length;s++){var o=a[s];-1===n.indexOf(o)&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}(e);return!1!==a||r?function jl(i,t,n,r){var u,e=t.plugins,a=t.localIds,s=[],o=i.getContext(),l=(0,B.Z)(e);try{for(l.s();!(u=l.n()).done;){var h=u.value,f=h.id,d=Nl(n[f],r);null!==d&&s.push({plugin:h,options:Ul(i.config,{plugin:h,local:a[f]},d,o)})}}catch(c){l.e(c)}finally{l.f()}return s}(n,s,a,r):[]}},{key:"_notifyStateChanges",value:function(n){var r=this._oldCache||[],e=this._cache,a=function(o,l){return o.filter(function(u){return!l.some(function(h){return u.plugin.id===h.plugin.id})})};this._notify(a(r,e),n,"stop"),this._notify(a(e,r),n,"start")}}]),i}();function Nl(i,t){return t||!1!==i?!0===i?{}:i:null}function Ul(i,t,n,r){var e=t.plugin,a=t.local,s=i.pluginScopeKeys(e),o=i.getOptionScopes(n,s);return a&&e.defaults&&o.push(e.defaults),i.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yi(i,t){return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||(J.datasets[i]||{}).indexAxis||"x"}function Er(i){if("x"===i||"y"===i||"r"===i)return i}function Kl(i){return"top"===i||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0}function Ki(i){if(Er(i))return i;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var e=0,a=n;e<a.length;e++){var s=a[e],o=s.axis||Kl(s.position)||i.length>1&&Er(i[0].toLowerCase());if(o)return o}throw new Error("Cannot determine type of '".concat(i,"' axis. Please provide 'axis' or 'position' option."))}function Rr(i,t,n){if(n[t+"AxisID"]===i)return{axis:t}}function Zr(i){var t=i.options||(i.options={});t.plugins=F(t.plugins,{}),t.scales=function Gl(i,t){var n=Ke[i.type]||{scales:{}},r=t.scales||{},e=Yi(i.type,t),a=Object.create(null);return Object.keys(r).forEach(function(s){var o=r[s];if(!z(o))return console.error("Invalid scale configuration for scale: ".concat(s));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(s));var l=Ki(s,o,function Xl(i,t){if(t.data&&t.data.datasets){var n=t.data.datasets.filter(function(r){return r.xAxisID===i||r.yAxisID===i});if(n.length)return Rr(i,"x",n[0])||Rr(i,"y",n[0])}return{}}(s,i),J.scales[o.type]),u=function Yl(i,t){return i===t?"_index_":"_value_"}(l,e),h=n.scales||{};a[s]=vt(Object.create(null),[{axis:l},o,h[l],h[u]])}),i.data.datasets.forEach(function(s){var o=s.type||i.type,l=s.indexAxis||Yi(o,t),h=(Ke[o]||{}).scales||{};Object.keys(h).forEach(function(f){var d=function $l(i,t){var n=i;return"_index_"===i?n=t:"_value_"===i&&(n="x"===t?"y":"x"),n}(f,l),c=s[d+"AxisID"]||d;a[c]=a[c]||Object.create(null),vt(a[c],[{axis:d},r[c],h[f]])})}),Object.keys(a).forEach(function(s){var o=a[s];vt(o,[J.scales[o.type],J.scale])}),a}(i,t)}function Fr(i){return(i=i||{}).datasets=i.datasets||[],i.labels=i.labels||[],i}var Ir=new Map,Br=new Set;function si(i,t){var n=Ir.get(i);return n||(n=t(),Ir.set(i,n),Br.add(n)),n}var Lt=function(t,n,r){var e=Ie(n,r);void 0!==e&&t.add(e)},Ql=function(){function i(t){(0,T.Z)(this,i),this._config=function ql(i){return(i=i||{}).data=Fr(i.data),Zr(i),i}(t),this._scopeCache=new Map,this._resolverCache=new Map}return(0,E.Z)(i,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(n){this._config.type=n}},{key:"data",get:function(){return this._config.data},set:function(n){this._config.data=Fr(n)}},{key:"options",get:function(){return this._config.options},set:function(n){this._config.options=n}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var n=this._config;this.clearCache(),Zr(n)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(n){return si(n,function(){return[["datasets.".concat(n),""]]})}},{key:"datasetAnimationScopeKeys",value:function(n,r){return si("".concat(n,".transition.").concat(r),function(){return[["datasets.".concat(n,".transitions.").concat(r),"transitions.".concat(r)],["datasets.".concat(n),""]]})}},{key:"datasetElementScopeKeys",value:function(n,r){return si("".concat(n,"-").concat(r),function(){return[["datasets.".concat(n,".elements.").concat(r),"datasets.".concat(n),"elements.".concat(r),""]]})}},{key:"pluginScopeKeys",value:function(n){var r=n.id;return si("".concat(this.type,"-plugin-").concat(r),function(){return[["plugins.".concat(r)].concat((0,W.Z)(n.additionalOptionScopes||[]))]})}},{key:"_cachedScopes",value:function(n,r){var e=this._scopeCache,a=e.get(n);return(!a||r)&&e.set(n,a=new Map),a}},{key:"getOptionScopes",value:function(n,r,e){var a=this.options,s=this.type,o=this._cachedScopes(n,e),l=o.get(r);if(l)return l;var u=new Set;r.forEach(function(f){n&&(u.add(n),f.forEach(function(d){return Lt(u,n,d)})),f.forEach(function(d){return Lt(u,a,d)}),f.forEach(function(d){return Lt(u,Ke[s]||{},d)}),f.forEach(function(d){return Lt(u,J,d)}),f.forEach(function(d){return Lt(u,Ti,d)})});var h=Array.from(u);return 0===h.length&&h.push(Object.create(null)),Br.has(r)&&o.set(r,h),h}},{key:"chartOptionScopes",value:function(){var r=this.type;return[this.options,Ke[r]||{},J.datasets[r]||{},{type:r},J,Ti]}},{key:"resolveNamedOptions",value:function(n,r,e){var s={$shared:!0},o=zr(this._resolverCache,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""]),l=o.resolver,u=o.subPrefixes,h=l;(function eu(i,t){var s,n=za(i),r=n.isScriptable,e=n.isIndexable,a=(0,B.Z)(t);try{for(a.s();!(s=a.n()).done;){var o=s.value,l=r(o),u=e(o),h=(u||l)&&i[o];if(l&&(Be(h)||Jl(h))||u&&Y(h))return!0}}catch(f){a.e(f)}finally{a.f()}return!1})(l,r)&&(s.$shared=!1,h=ot(l,e=Be(e)?e():e,this.createResolver(n,e,u)));var c,d=(0,B.Z)(r);try{for(d.s();!(c=d.n()).done;){var v=c.value;s[v]=h[v]}}catch(g){d.e(g)}finally{d.f()}return s}},{key:"createResolver",value:function(n,r){var a=arguments.length>3?arguments[3]:void 0,o=zr(this._resolverCache,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""]).resolver;return z(r)?ot(o,r,void 0,a):o}}]),i}();function zr(i,t,n){var r=i.get(t);r||i.set(t,r=new Map);var e=n.join(),a=r.get(e);return a||(a={resolver:Fi(t,n),subPrefixes:n.filter(function(o){return!o.toLowerCase().includes("hover")})},r.set(e,a)),a}var Jl=function(t){return z(t)&&Object.getOwnPropertyNames(t).reduce(function(n,r){return n||Be(t[r])},!1)},iu=["top","bottom","left","right","chartArea"];function Vr(i,t){return"top"===i||"bottom"===i||-1===iu.indexOf(i)&&"x"===t}function Wr(i,t){return function(n,r){return n[i]===r[i]?n[t]-r[t]:n[i]-r[i]}}function Hr(i){var t=i.chart,n=t.options.animation;t.notifyPlugins("afterRender"),$(n&&n.onComplete,[i],t)}function au(i){var t=i.chart,n=t.options.animation;$(n&&n.onProgress,[i],t)}function Nr(i){return Ya()&&"string"==typeof i?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}var oi={},jr=function(t){var n=Nr(t);return Object.values(oi).filter(function(r){return r.canvas===n}).pop()};function ru(i,t,n){for(var e=0,a=Object.keys(i);e<a.length;e++){var s=a[e],o=+s;if(o>=t){var l=i[s];delete i[s],(n>0||o>t)&&(i[o+n]=l)}}}var li=function(){var i=function(){function t(n,r){var e=this;(0,T.Z)(this,t);var a=this.config=new Ql(r),s=Nr(n),o=jr(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");var l=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||function Sl(i){return!Ya()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?hl:kl}(s)),this.platform.updateConfig(a);var u=this.platform.acquireContext(s,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,d=h&&h.width;this.id=es(),this.ctx=u,this.canvas=h,this.width=d,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Wl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function ps(i,t){var n;return function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(i,t,e)):i.apply(this,e),t}}(function(c){return e.update(c)},l.resizeDelay||0),this._dataChanges=[],oi[this.id]=this,u&&h?(Le.listen(this,"complete",Hr),Le.listen(this,"progress",au),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return(0,E.Z)(t,[{key:"aspectRatio",get:function(){var r=this.options,e=r.aspectRatio,a=r.maintainAspectRatio,s=this.width,o=this.height,l=this._aspectRatio;return V(e)?a&&l?l:o?s/o:null:e}},{key:"data",get:function(){return this.config.data},set:function(r){this.config.data=r}},{key:"options",get:function(){return this._options},set:function(r){this.config.options=r}},{key:"registry",get:function(){return ye}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ka(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return Fa(this.canvas,this.ctx),this}},{key:"stop",value:function(){return Le.stop(this),this}},{key:"resize",value:function(r,e){Le.running(this)?this._resizeBeforeDraw={width:r,height:e}:this._resize(r,e)}},{key:"_resize",value:function(r,e){var a=this.options,l=this.platform.getMaximumSize(this.canvas,r,e,a.maintainAspectRatio&&this.aspectRatio),u=a.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Ka(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),$(a.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){j(this.options.scales||{},function(a,s){a.id=s})}},{key:"buildOrUpdateScales",value:function(){var r=this,e=this.options,a=e.scales,s=this.scales,o=Object.keys(s).reduce(function(u,h){return u[h]=!1,u},{}),l=[];a&&(l=l.concat(Object.keys(a).map(function(u){var h=a[u],f=Ki(u,h),d="r"===f,c="x"===f;return{options:h,dposition:d?"chartArea":c?"bottom":"left",dtype:d?"radialLinear":c?"category":"linear"}}))),j(l,function(u){var h=u.options,f=h.id,d=Ki(f,h),c=F(h.type,u.dtype);(void 0===h.position||Vr(h.position,d)!==Vr(u.dposition))&&(h.position=u.dposition),o[f]=!0;var v=null;f in s&&s[f].type===c?v=s[f]:(v=new(ye.getScale(c))({id:f,type:c,ctx:r.ctx,chart:r}),s[v.id]=v),v.init(h,e)}),j(o,function(u,h){u||delete s[h]}),j(s,function(u){le_configure(0,u,u.options),le_addBox(r,u)})}},{key:"_updateMetasets",value:function(){var r=this._metasets,e=this.data.datasets.length,a=r.length;if(r.sort(function(o,l){return o.index-l.index}),a>e){for(var s=e;s<a;++s)this._destroyDatasetMeta(s);r.splice(e,a-e)}this._sortedMetasets=r.slice(0).sort(Wr("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var r=this,e=this._metasets,a=this.data.datasets;e.length>a.length&&delete this._stacks,e.forEach(function(s,o){0===a.filter(function(l){return l===s._dataset}).length&&r._destroyDatasetMeta(o)})}},{key:"buildOrUpdateControllers",value:function(){var a,s,r=[],e=this.data.datasets;for(this._removeUnreferencedMetasets(),a=0,s=e.length;a<s;a++){var o=e[a],l=this.getDatasetMeta(a),u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(a),l=this.getDatasetMeta(a)),l.type=u,l.indexAxis=o.indexAxis||Yi(u,this.options),l.order=o.order||0,l.index=a,l.label=""+o.label,l.visible=this.isDatasetVisible(a),l.controller)l.controller.updateIndex(a),l.controller.linkScales();else{var h=ye.getController(u),f=J.datasets[u],d=f.datasetElementType;Object.assign(h,{dataElementType:ye.getElement(f.dataElementType),datasetElementType:d&&ye.getElement(d)}),l.controller=new h(this,a),r.push(l.controller)}}return this._updateMetasets(),r}},{key:"_resetElements",value:function(){var r=this;j(this.data.datasets,function(e,a){r.getDatasetMeta(a).controller.reset()},this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(r){var e=this.config;e.update();var a=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:r,cancelable:!0})){var o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var l=0,u=0,h=this.data.datasets.length;u<h;u++){var d=this.getDatasetMeta(u).controller,c=!s&&-1===o.indexOf(d);d.buildOrUpdateElements(c),l=Math.max(+d.getMaxOverflow(),l)}l=this._minPadding=a.layout.autoPadding?l:0,this._updateLayout(l),s||j(o,function(p){p.reset()}),this._updateDatasets(r),this.notifyPlugins("afterUpdate",{mode:r}),this._layers.sort(Wr("z","_idx"));var v=this._active,g=this._lastEvent;g?this._eventHandler(g,!0):v.length&&this._updateHoverStyles(v,v,!0),this.render()}}},{key:"_updateScales",value:function(){var r=this;j(this.scales,function(e){le_removeBox(r,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var r=this.options,e=new Set(Object.keys(this._listeners)),a=new Set(r.events);(!ya(e,a)||!!this._responsiveListeners!==r.responsive)&&(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var s,r=this._hiddenIndices,e=this._getUniformDataChanges()||[],a=(0,B.Z)(e);try{for(a.s();!(s=a.n()).done;){var o=s.value,h=o.count;ru(r,o.start,"_removeElements"===o.method?-h:h)}}catch(d){a.e(d)}finally{a.f()}}},{key:"_getUniformDataChanges",value:function(){var r=this._dataChanges;if(r&&r.length){this._dataChanges=[];for(var e=this.data.datasets.length,a=function(u){return new Set(r.filter(function(h){return h[0]===u}).map(function(h,f){return f+","+h.splice(1).join(",")}))},s=a(0),o=1;o<e;o++)if(!ya(s,a(o)))return;return Array.from(s).map(function(l){return l.split(",")}).map(function(l){return{method:l[1],start:+l[2],count:+l[3]}})}}},{key:"_updateLayout",value:function(r){var e=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){le_update(this,this.width,this.height,r);var a=this.chartArea,s=a.width<=0||a.height<=0;this._layers=[],j(this.boxes,function(o){var l;s&&"chartArea"===o.position||(o.configure&&o.configure(),(l=e._layers).push.apply(l,(0,W.Z)(o._layers())))},this),this._layers.forEach(function(o,l){o._idx=l}),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(r){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:r,cancelable:!0})){for(var e=0,a=this.data.datasets.length;e<a;++e)this.getDatasetMeta(e).controller.configure();for(var s=0,o=this.data.datasets.length;s<o;++s)this._updateDataset(s,Be(r)?r({datasetIndex:s}):r);this.notifyPlugins("afterDatasetsUpdate",{mode:r})}}},{key:"_updateDataset",value:function(r,e){var a=this.getDatasetMeta(r),s={meta:a,index:r,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(a.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Le.has(this)?this.attached&&!Le.running(this)&&Le.start(this):(this.draw(),Hr({chart:this})))}},{key:"draw",value:function(){var r;if(this._resizeBeforeDraw){var e=this._resizeBeforeDraw;this._resize(e.width,e.height),this._resizeBeforeDraw=null}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var o=this._layers;for(r=0;r<o.length&&o[r].z<=0;++r)o[r].draw(this.chartArea);for(this._drawDatasets();r<o.length;++r)o[r].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(r){var s,o,e=this._sortedMetasets,a=[];for(s=0,o=e.length;s<o;++s){var l=e[s];(!r||l.visible)&&a.push(l)}return a}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var r=this.getSortedVisibleDatasetMetas(),e=r.length-1;e>=0;--e)this._drawDataset(r[e]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(r){var e=this.ctx,a=r._clip,s=!a.disabled,o=function su(i){var t=i.xScale,n=i.yScale;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}(r)||this.chartArea,l={meta:r,index:r.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",l)&&(s&&Xt(e,{left:!1===a.left?0:o.left-a.left,right:!1===a.right?this.width:o.right+a.right,top:!1===a.top?0:o.top-a.top,bottom:!1===a.bottom?this.height:o.bottom+a.bottom}),r.controller.draw(),s&&Gt(e),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}},{key:"isPointInArea",value:function(r){return Ae(r,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(r,e,a,s){var o=il.modes[e];return"function"==typeof o?o(this,r,a,s):[]}},{key:"getDatasetMeta",value:function(r){var e=this.data.datasets[r],a=this._metasets,s=a.filter(function(o){return o&&o._dataset===e}).pop();return s||a.push(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:r,_dataset:e,_parsed:[],_sorted:!1}),s}},{key:"getContext",value:function(){return this.$context||(this.$context=Ve(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(r){var e=this.data.datasets[r];if(!e)return!1;var a=this.getDatasetMeta(r);return"boolean"==typeof a.hidden?!a.hidden:!e.hidden}},{key:"setDatasetVisibility",value:function(r,e){this.getDatasetMeta(r).hidden=!e}},{key:"toggleDataVisibility",value:function(r){this._hiddenIndices[r]=!this._hiddenIndices[r]}},{key:"getDataVisibility",value:function(r){return!this._hiddenIndices[r]}},{key:"_updateVisibility",value:function(r,e,a){var s=a?"show":"hide",o=this.getDatasetMeta(r),l=o.controller._resolveAnimations(void 0,s);gt(e)?(o.data[e].hidden=!a,this.update()):(this.setDatasetVisibility(r,a),l.update(o,{visible:a}),this.update(function(u){return u.datasetIndex===r?s:void 0}))}},{key:"hide",value:function(r,e){this._updateVisibility(r,e,!1)}},{key:"show",value:function(r,e){this._updateVisibility(r,e,!0)}},{key:"_destroyDatasetMeta",value:function(r){var e=this._metasets[r];e&&e.controller&&e.controller._destroy(),delete this._metasets[r]}},{key:"_stop",value:function(){var r,e;for(this.stop(),Le.remove(this),r=0,e=this.data.datasets.length;r<e;++r)this._destroyDatasetMeta(r)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var r=this.canvas,e=this.ctx;this._stop(),this.config.clearCache(),r&&(this.unbindEvents(),Fa(r,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete oi[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var r;return(r=this.canvas).toDataURL.apply(r,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var r=this,e=this._listeners,a=this.platform,o=function(u,h,f){u.offsetX=h,u.offsetY=f,r._eventHandler(u)};j(this.options.events,function(l){return a.addEventListener(r,u=l,h=o),void(e[u]=h);var u,h})}},{key:"bindResponsiveEvents",value:function(){var r=this;this._responsiveListeners||(this._responsiveListeners={});var u,e=this._responsiveListeners,a=this.platform,s=function(d,c){a.addEventListener(r,d,c),e[d]=c},o=function(d,c){e[d]&&(a.removeEventListener(r,d,c),delete e[d])},l=function(d,c){r.canvas&&r.resize(d,c)},h=function f(){o("attach",f),r.attached=!0,r.resize(),s("resize",l),s("detach",u)};u=function(){r.attached=!1,o("resize",l),r._stop(),r._resize(0,0),s("attach",h)},a.isAttached(this.canvas)?h():u()}},{key:"unbindEvents",value:function(){var r=this;j(this._listeners,function(e,a){r.platform.removeEventListener(r,a,e)}),this._listeners={},j(this._responsiveListeners,function(e,a){r.platform.removeEventListener(r,a,e)}),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(r,e,a){var l,u,h,s=a?"set":"remove";for("dataset"===e&&this.getDatasetMeta(r[0].datasetIndex).controller["_"+s+"DatasetHoverStyle"](),u=0,h=r.length;u<h;++u){var f=(l=r[u])&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(r){var e=this,a=this._active||[],s=r.map(function(l){var u=l.datasetIndex,h=l.index,f=e.getDatasetMeta(u);if(!f)throw new Error("No dataset found at index "+u);return{datasetIndex:u,element:f.data[h],index:h}});!Nt(s,a)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,a))}},{key:"notifyPlugins",value:function(r,e,a){return this._plugins.notify(this,r,e,a)}},{key:"isPluginEnabled",value:function(r){return 1===this._plugins._cache.filter(function(e){return e.plugin.id===r}).length}},{key:"_updateHoverStyles",value:function(r,e,a){var s=this.options.hover,o=function(f,d){return f.filter(function(c){return!d.some(function(v){return c.datasetIndex===v.datasetIndex&&c.index===v.index})})},l=o(e,r),u=a?r:o(r,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}},{key:"_eventHandler",value:function(r,e){var a=this,s={event:r,replay:e,cancelable:!0,inChartArea:this.isPointInArea(r)},o=function(h){return(h.options.events||a.options.events).includes(r.native.type)};if(!1!==this.notifyPlugins("beforeEvent",s,o)){var l=this._handleEvent(r,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,o),(l||s.changed)&&this.render(),this}}},{key:"_handleEvent",value:function(r,e,a){var s=this._active,o=void 0===s?[]:s,l=this.options,h=this._getActiveElements(r,o,a,e),f=function ss(i){return"mouseup"===i.type||"click"===i.type||"contextmenu"===i.type}(r),d=function nu(i,t,n,r){return n&&"mouseout"!==i.type?r?t:i:null}(r,this._lastEvent,a,f);a&&(this._lastEvent=null,$(l.onHover,[r,h,this],this),f&&$(l.onClick,[r,h,this],this));var c=!Nt(h,o);return(c||e)&&(this._active=h,this._updateHoverStyles(h,o,e)),this._lastEvent=d,c}},{key:"_getActiveElements",value:function(r,e,a,s){if("mouseout"===r.type)return[];if(!a)return e;var o=this.options.hover;return this.getElementsAtEventForMode(r,o.mode,o,s)}}],[{key:"register",value:function(){ye.add.apply(ye,arguments),Ur()}},{key:"unregister",value:function(){ye.remove.apply(ye,arguments),Ur()}}]),t}();return(0,k.Z)(i,"defaults",J),(0,k.Z)(i,"instances",oi),(0,k.Z)(i,"overrides",Ke),(0,k.Z)(i,"registry",ye),(0,k.Z)(i,"version","4.3.2"),(0,k.Z)(i,"getChart",jr),i}();function Ur(){return j(li.instances,function(i){return i._plugins.invalidate()})}function ht(i,t,n,r){return{x:n+i*Math.cos(t),y:r+i*Math.sin(t)}}function ui(i,t,n,r,e,a){var s=t.x,o=t.y,l=t.startAngle,u=t.pixelMargin,h=t.innerRadius,f=Math.max(t.outerRadius+r+n-u,0),d=h>0?h+r+n+u:0,c=0,v=e-l;if(r){var y=((h>0?h-r:0)+(f>0?f-r:0))/2;c=(v-(0!==y?v*y/(y+r):v))/2}var x=(v-Math.max(.001,v*f-n/X)/f)/2,b=l+x+c,S=e-x-c,M=function uu(i,t,n,r){var e=function lu(i){return Zi(i,["outerStart","outerEnd","innerStart","innerEnd"])}(i.options.borderRadius),a=(n-t)/2,s=Math.min(a,r*t/2),o=function(u){var h=(n-Math.min(a,u))*r/2;return ie(u,0,Math.min(a,h))};return{outerStart:o(e.outerStart),outerEnd:o(e.outerEnd),innerStart:ie(e.innerStart,0,s),innerEnd:ie(e.innerEnd,0,s)}}(t,d,f,S-b),w=M.outerStart,C=M.outerEnd,D=M.innerStart,O=M.innerEnd,A=f-w,Z=f-C,L=b+w/A,I=S-C/Z,N=d+D,te=d+O,ve=b+D/N,ge=S-O/te;if(i.beginPath(),a){var Ee=(L+I)/2;if(i.arc(s,o,f,L,Ee),i.arc(s,o,f,Ee,I),C>0){var we=ht(Z,I,s,o);i.arc(we.x,we.y,C,I,S+Q)}var Ne=ht(te,S,s,o);if(i.lineTo(Ne.x,Ne.y),O>0){var be=ht(te,ge,s,o);i.arc(be.x,be.y,O,S+Q,ge+Math.PI)}var ae=(S-O/d+(b+D/d))/2;if(i.arc(s,o,d,S-O/d,ae,!0),i.arc(s,o,d,ae,b+D/d,!0),D>0){var je=ht(N,ve,s,o);i.arc(je.x,je.y,D,ve+Math.PI,b-Q)}var at=ht(A,b,s,o);if(i.lineTo(at.x,at.y),w>0){var ft=ht(A,L,s,o);i.arc(ft.x,ft.y,w,b-Q,L)}}else{i.moveTo(s,o);var Ft=Math.cos(L)*f+s,Ue=Math.sin(L)*f+o;i.lineTo(Ft,Ue);var dt=Math.cos(I)*f+s,$e=Math.sin(I)*f+o;i.lineTo(dt,$e)}i.closePath()}var Tt=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(r){var e;return(0,T.Z)(this,n),e=t.call(this),(0,k.Z)((0,ne.Z)(e),"circumference",void 0),(0,k.Z)((0,ne.Z)(e),"endAngle",void 0),(0,k.Z)((0,ne.Z)(e),"fullCircles",void 0),(0,k.Z)((0,ne.Z)(e),"innerRadius",void 0),(0,k.Z)((0,ne.Z)(e),"outerRadius",void 0),(0,k.Z)((0,ne.Z)(e),"pixelMargin",void 0),(0,k.Z)((0,ne.Z)(e),"startAngle",void 0),e.options=void 0,e.circumference=void 0,e.startAngle=void 0,e.endAngle=void 0,e.innerRadius=void 0,e.outerRadius=void 0,e.pixelMargin=0,e.fullCircles=0,r&&Object.assign((0,ne.Z)(e),r),e}return(0,E.Z)(n,[{key:"inRange",value:function(e,a,s){var l=Sa(this.getProps(["x","y"],s),{x:e,y:a}),u=l.angle,h=l.distance,f=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=f.startAngle,c=f.endAngle,v=f.innerRadius,g=f.outerRadius,y=(this.options.spacing+this.options.borderWidth)/2,_=F(f.circumference,c-d)>=K||mt(u,d,c),x=Pe(h,v+y,g+y);return _&&x}},{key:"getCenterPoint",value:function(e){var a=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),o=a.y,d=this.options,g=(a.startAngle+a.endAngle)/2,p=(a.innerRadius+a.outerRadius+d.spacing+d.offset)/2;return{x:a.x+Math.cos(g)*p,y:o+Math.sin(g)*p}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(e){var a=this.options,s=this.circumference,o=(a.offset||0)/4,l=(a.spacing||0)/2,u=a.circular;if(this.pixelMargin="inner"===a.borderAlign?.33:0,this.fullCircles=s>K?Math.floor(s/K):0,!(0===s||this.innerRadius<0||this.outerRadius<0)){e.save();var h=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(h)*o,Math.sin(h)*o);var d=o*(1-Math.sin(Math.min(X,s||0)));e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,function hu(i,t,n,r,e){var a=t.fullCircles,s=t.startAngle,o=t.circumference,l=t.endAngle;if(a){ui(i,t,n,r,l,e);for(var u=0;u<a;++u)i.fill();isNaN(o)||(l=s+(o%K||K))}ui(i,t,n,r,l,e),i.fill()}(e,this,d,l,u),function fu(i,t,n,r,e){var a=t.fullCircles,s=t.startAngle,o=t.circumference,l=t.options,u=l.borderWidth,h=l.borderJoinStyle,d=l.borderDashOffset,c="inner"===l.borderAlign;if(u){i.setLineDash(l.borderDash||[]),i.lineDashOffset=d,c?(i.lineWidth=2*u,i.lineJoin=h||"round"):(i.lineWidth=u,i.lineJoin=h||"bevel");var v=t.endAngle;if(a){ui(i,t,n,r,v,e);for(var g=0;g<a;++g)i.stroke();isNaN(o)||(v=s+(o%K||K))}c&&function ou(i,t,n){var r=t.startAngle,e=t.pixelMargin,a=t.x,s=t.y,o=t.outerRadius,l=t.innerRadius,u=e/o;i.beginPath(),i.arc(a,s,o,r-u,n+u),l>e?i.arc(a,s,l,n+(u=e/l),r-u,!0):i.arc(a,s,e,n+Q,r-Q),i.closePath(),i.clip()}(i,t,v),a||(ui(i,t,n,r,v,e),i.stroke())}}(e,this,d,l,u),e.restore()}}}]),n}(ke);function $r(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;i.lineCap=F(n.borderCapStyle,t.borderCapStyle),i.setLineDash(F(n.borderDash,t.borderDash)),i.lineDashOffset=F(n.borderDashOffset,t.borderDashOffset),i.lineJoin=F(n.borderJoinStyle,t.borderJoinStyle),i.lineWidth=F(n.borderWidth,t.borderWidth),i.strokeStyle=F(n.borderColor,t.borderColor)}function du(i,t,n){i.lineTo(n.x,n.y)}function Yr(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.length,e=n.start,a=void 0===e?0:e,s=n.end,o=void 0===s?r-1:s,l=t.start,u=t.end,h=Math.max(a,l),f=Math.min(o,u);return{count:r,start:h,loop:t.loop,ilen:f<h&&!(a<l&&o<l||a>u&&o>u)?r+f-h:f-h}}function vu(i,t,n,r){var p,y,m,e=t.points,a=t.options,s=Yr(e,n,r),o=s.count,l=s.start,u=s.loop,h=s.ilen,f=function cu(i){return i.stepped?Ps:i.tension||"monotone"===i.cubicInterpolationMode?Os:du}(a),d=r||{},c=d.move,v=void 0===c||c,g=d.reverse;for(p=0;p<=h;++p)!(y=e[(l+(g?h-p:p))%o]).skip&&(v?(i.moveTo(y.x,y.y),v=!1):f(i,m,y,g,a.stepped),m=y);return u&&f(i,m,y=e[(l+(g?h:0))%o],g,a.stepped),!!u}function gu(i,t,n,r){var g,p,y,m,_,x,e=t.points,a=Yr(e,n,r),s=a.count,o=a.start,l=a.ilen,u=r||{},h=u.move,d=u.reverse,c=0,v=0,b=function(O){return(o+(d?l-O:O))%s},S=function(){m!==_&&(i.lineTo(c,_),i.lineTo(c,m),i.lineTo(c,x))};for((void 0===h||h)&&(p=e[b(0)],i.moveTo(p.x,p.y)),g=0;g<=l;++g)if(!(p=e[b(g)]).skip){var M=p.x,w=p.y,C=0|M;C===y?(w<m?m=w:w>_&&(_=w),c=(v*c+M)/++v):(S(),i.lineTo(M,w),y=C,v=0,m=_=w),x=w}S()}function Xi(i){var t=i.options;return i._decimated||i._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?vu:gu}(0,k.Z)(Tt,"id","arc"),(0,k.Z)(Tt,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,k.Z)(Tt,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,k.Z)(Tt,"descriptors",{_scriptable:!0,_indexable:function(t){return"borderDash"!==t}});var bu="function"==typeof Path2D;var hi=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(e){var a;return(0,T.Z)(this,r),(a=n.call(this)).animated=!0,a.options=void 0,a._chart=void 0,a._loop=void 0,a._fullLoop=void 0,a._path=void 0,a._points=void 0,a._segments=void 0,a._decimated=!1,a._pointsUpdated=!1,a._datasetIndex=void 0,e&&Object.assign((0,ne.Z)(a),e),a}return(0,E.Z)(r,[{key:"updateControlPoints",value:function(a,s){var o=this.options;!o.tension&&"monotone"!==o.cubicInterpolationMode||o.stepped||this._pointsUpdated||(Js(this._points,o,a,o.spanGaps?this._loop:this._fullLoop,s),this._pointsUpdated=!0)}},{key:"points",get:function(){return this._points},set:function(a){this._points=a,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function go(i,t){var n=i.points,r=i.options.spanGaps,e=n.length;if(!e)return[];var a=!!i._loop,s=function co(i,t,n,r){var e=0,a=t-1;if(n&&!r)for(;e<t&&!i[e].skip;)e++;for(;e<t&&i[e].skip;)e++;for(e%=t,n&&(a+=e);a>e&&i[a%t].skip;)a--;return{start:e,end:a%=t}}(n,e,a,r),o=s.start,l=s.end;return function ir(i,t,n,r){return r&&r.setContext&&n?function po(i,t,n,r){var e=i._chart.getContext(),a=ar(i.options),s=i._datasetIndex,o=i.options.spanGaps,l=n.length,u=[],h=a,f=t[0].start,d=f;function c(x,b,S,M){var w=o?-1:1;if(x!==b){for(x+=l;n[x%l].skip;)x-=w;for(;n[b%l].skip;)b+=w;x%l!=b%l&&(u.push({start:x%l,end:b%l,loop:S,style:M}),h=M,f=b%l)}}var g,v=(0,B.Z)(t);try{for(v.s();!(g=v.n()).done;){var p=g.value,y=n[(f=o?f:p.start)%l],m=void 0;for(d=f+1;d<=p.end;d++){var _=n[d%l];mo(m=ar(r.setContext(Ve(e,{type:"segment",p0:y,p1:_,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),h)&&c(f,d-1,p.loop,h),y=_,h=m}f<d-1&&c(f,d-1,p.loop,h)}}catch(x){v.e(x)}finally{v.f()}return u}(i,t,n,r):t}(i,!0===r?[{start:o,end:l,loop:a}]:function vo(i,t,n,r){var l,e=i.length,a=[],s=t,o=i[t];for(l=t+1;l<=n;++l){var u=i[l%e];u.skip||u.stop?o.skip||(a.push({start:t%e,end:(l-1)%e,loop:r=!1}),t=s=u.stop?l:null):(s=l,o.skip&&(t=l)),o=u}return null!==s&&a.push({start:t%e,end:s%e,loop:r}),a}(n,o,l<o?l+e:l,!!i._fullLoop&&0===o&&l===e-1),n,t)}(this,this.options.segment))}},{key:"first",value:function(){var a=this.segments;return a.length&&this.points[a[0].start]}},{key:"last",value:function(){var a=this.segments,o=a.length;return o&&this.points[a[o-1].end]}},{key:"interpolate",value:function(a,s){var o=this.options,l=a[s],u=this.points,h=tr(this,{property:s,start:l,end:l});if(h.length){var c,v,f=[],d=function pu(i){return i.stepped?oo:i.tension||"monotone"===i.cubicInterpolationMode?lo:et}(o);for(c=0,v=h.length;c<v;++c){var g=h[c],m=u[g.start],_=u[g.end];if(m!==_){var b=d(m,_,Math.abs((l-m[s])/(_[s]-m[s])),o.stepped);b[s]=a[s],f.push(b)}else f.push(m)}return 1===f.length?f[0]:f}}},{key:"pathSegment",value:function(a,s,o){return Xi(this)(a,this,s,o)}},{key:"path",value:function(a,s,o){var l=this.segments,u=Xi(this),h=this._loop;s=s||0,o=o||this.points.length-s;var d,f=(0,B.Z)(l);try{for(f.s();!(d=f.n()).done;)h&=u(a,this,d.value,{start:s,end:s+o-1})}catch(v){f.e(v)}finally{f.f()}return!!h}},{key:"draw",value:function(a,s,o,l){(this.points||[]).length&&(this.options||{}).borderWidth&&(a.save(),function _u(i,t,n,r){bu&&!t.options.segment?function mu(i,t,n,r){var e=t._path;e||(e=t._path=new Path2D,t.path(e,n,r)&&e.closePath()),$r(i,t.options),i.stroke(e)}(i,t,n,r):function yu(i,t,n,r){var l,e=t.segments,a=t.options,s=Xi(t),o=(0,B.Z)(e);try{for(o.s();!(l=o.n()).done;){var u=l.value;$r(i,a,u.style),i.beginPath(),s(i,t,u,{start:n,end:n+r-1})&&i.closePath(),i.stroke()}}catch(h){o.e(h)}finally{o.f()}}(i,t,n,r)}(a,this,o,l),a.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}]),r}(ke);return(0,k.Z)(i,"id","line"),(0,k.Z)(i,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,k.Z)(i,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,k.Z)(i,"descriptors",{_scriptable:!0,_indexable:function(n){return"borderDash"!==n&&"fill"!==n}}),i}();function Kr(i,t,n,r){var e=i.options,a=i.getProps([n],r);return Math.abs(t-a[n])<e.radius+e.hitRadius}var xu=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(e){var a;return(0,T.Z)(this,r),a=n.call(this),(0,k.Z)((0,ne.Z)(a),"parsed",void 0),(0,k.Z)((0,ne.Z)(a),"skip",void 0),(0,k.Z)((0,ne.Z)(a),"stop",void 0),a.options=void 0,a.parsed=void 0,a.skip=void 0,a.stop=void 0,e&&Object.assign((0,ne.Z)(a),e),a}return(0,E.Z)(r,[{key:"inRange",value:function(a,s,o){var l=this.options,u=this.getProps(["x","y"],o),f=u.y;return Math.pow(a-u.x,2)+Math.pow(s-f,2)<Math.pow(l.hitRadius+l.radius,2)}},{key:"inXRange",value:function(a,s){return Kr(this,a,"x",s)}},{key:"inYRange",value:function(a,s){return Kr(this,a,"y",s)}},{key:"getCenterPoint",value:function(a){var s=this.getProps(["x","y"],a);return{x:s.x,y:s.y}}},{key:"size",value:function(a){var s=(a=a||this.options||{}).radius||0;return 2*((s=Math.max(s,s&&a.hoverRadius||0))+(s&&a.borderWidth||0))}},{key:"draw",value:function(a,s){var o=this.options;this.skip||o.radius<.1||!Ae(this,s,this.size(o)/2)||(a.strokeStyle=o.borderColor,a.lineWidth=o.borderWidth,a.fillStyle=o.backgroundColor,Ri(a,o,this.x,this.y))}},{key:"getRange",value:function(){var a=this.options||{};return a.radius+a.hitRadius}}]),r}(ke);return(0,k.Z)(i,"id","point"),(0,k.Z)(i,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,k.Z)(i,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),i}();function Xr(i,t){var l,u,h,f,d,n=i.getProps(["x","y","base","width","height"],t),r=n.x,e=n.y,a=n.base,s=n.width;return i.horizontal?(d=n.height/2,l=Math.min(r,a),u=Math.max(r,a),h=e-d,f=e+d):(l=r-(d=s/2),u=r+d,h=Math.min(e,a),f=Math.max(e,a)),{left:l,top:h,right:u,bottom:f}}function He(i,t,n,r){return i?0:ie(t,n,r)}function Gi(i,t,n,r){var e=null===t,a=null===n,o=i&&!(e&&a)&&Xr(i,r);return o&&(e||Pe(t,o.left,o.right))&&(a||Pe(n,o.top,o.bottom))}function Cu(i,t){i.rect(t.x,t.y,t.w,t.h)}function qi(i,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.x!==n.x?-t:0,e=i.y!==n.y?-t:0;return{x:i.x+r,y:i.y+e,w:i.w+((i.x+i.w!==n.x+n.w?t:0)-r),h:i.h+((i.y+i.h!==n.y+n.h?t:0)-e),radius:i.radius}}var fi=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(r){var e;return(0,T.Z)(this,n),(e=t.call(this)).options=void 0,e.horizontal=void 0,e.base=void 0,e.width=void 0,e.height=void 0,e.inflateAmount=void 0,r&&Object.assign((0,ne.Z)(e),r),e}return(0,E.Z)(n,[{key:"draw",value:function(e){var a=this.inflateAmount,s=this.options,o=s.borderColor,l=s.backgroundColor,u=function Mu(i){var t=Xr(i),n=t.right-t.left,r=t.bottom-t.top,e=function ku(i,t,n){var e=i.borderSkipped,a=Ba(i.options.borderWidth);return{t:He(e.top,a.top,0,n),r:He(e.right,a.right,0,t),b:He(e.bottom,a.bottom,0,n),l:He(e.left,a.left,0,t)}}(i,n/2,r/2),a=function Su(i,t,n){var e=i.getProps(["enableBorderRadius"]).enableBorderRadius,a=i.options.borderRadius,s=qe(a),o=Math.min(t,n),l=i.borderSkipped,u=e||z(a);return{topLeft:He(!u||l.top||l.left,s.topLeft,0,o),topRight:He(!u||l.top||l.right,s.topRight,0,o),bottomLeft:He(!u||l.bottom||l.left,s.bottomLeft,0,o),bottomRight:He(!u||l.bottom||l.right,s.bottomRight,0,o)}}(i,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+e.l,y:t.top+e.t,w:n-e.l-e.r,h:r-e.t-e.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(e.t,e.l)),topRight:Math.max(0,a.topRight-Math.max(e.t,e.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(e.b,e.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(e.b,e.r))}}}}(this),h=u.inner,f=u.outer,d=function wu(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}(f.radius)?xt:Cu;e.save(),(f.w!==h.w||f.h!==h.h)&&(e.beginPath(),d(e,qi(f,a,h)),e.clip(),d(e,qi(h,-a,f)),e.fillStyle=o,e.fill("evenodd")),e.beginPath(),d(e,qi(h,a)),e.fillStyle=l,e.fill(),e.restore()}},{key:"inRange",value:function(e,a,s){return Gi(this,e,a,s)}},{key:"inXRange",value:function(e,a){return Gi(this,e,null,a)}},{key:"inYRange",value:function(e,a){return Gi(this,null,e,a)}},{key:"getCenterPoint",value:function(e){var a=this.getProps(["x","y","base","horizontal"],e),s=a.x,o=a.y,l=a.base,u=a.horizontal;return{x:u?(s+l)/2:s,y:u?o:(o+l)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}]),n}(ke);(0,k.Z)(fi,"id","bar"),(0,k.Z)(fi,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,k.Z)(fi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Du=Object.freeze({__proto__:null,ArcElement:Tt,BarElement:fi,LineElement:hi,PointElement:xu}),Qi=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Gr=Qi.map(function(i){return i.replace("rgb(","rgba(").replace(")",", 0.5)")});function qr(i){return Qi[i%Qi.length]}function Qr(i){return Gr[i%Gr.length]}function Jr(i){var t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}var Eu={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout:function(t,n,r){if(r.enabled){var e=t.config,a=e.data.datasets,s=e.options,o=s.elements;if(r.forceOverride||!(Jr(a)||function Tu(i){return i&&(i.borderColor||i.backgroundColor)}(s)||o&&Jr(o))){var l=function Lu(i){var t=0;return function(n,r){var e=i.getDatasetMeta(r).controller;e instanceof Ni?t=function Ou(i,t){return i.backgroundColor=i.data.map(function(){return qr(t++)}),t}(n,t):e instanceof mr?t=function Au(i,t){return i.backgroundColor=i.data.map(function(){return Qr(t++)}),t}(n,t):e&&(t=function Pu(i,t){return i.borderColor=qr(t),i.backgroundColor=Qr(t),++t}(n,t))}}(t);a.forEach(l)}}}};function en(i){if(i._decimated){var t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function tn(i){i.data.datasets.forEach(function(t){en(t)})}var Iu={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(t,n,r){if(r.enabled){var e=t.width;t.data.datasets.forEach(function(a,s){var o=a._data,l=a.indexAxis,u=t.getDatasetMeta(s),h=o||a.data;if("y"!==kt([l,t.options.indexAxis])&&u.controller.supportsDecimation){var f=t.scales[u.xAxisID];if(("linear"===f.type||"time"===f.type)&&!t.options.parsing){var p,d=function Fu(i,t){var n=t.length,r=0,a=i.iScale,s=a.getUserBounds(),l=s.max,h=s.maxDefined;return s.minDefined&&(r=ie(Oe(t,a.axis,s.min).lo,0,n-1)),{start:r,count:h?ie(Oe(t,a.axis,l).hi+1,r,n)-r:n-r}}(u,h),c=d.start,v=d.count;if(v<=(r.threshold||4*e))return void en(a);switch(V(o)&&(a._data=h,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}})),r.algorithm){case"lttb":p=function Ru(i,t,n,r,e){var a=e.samples||r;if(a>=n)return i.slice(t,t+n);var f,d,c,v,g,s=[],o=(n-2)/(a-2),l=0,u=t+n-1,h=t;for(s[l++]=i[h],f=0;f<a-2;f++){var p=0,y=0,m=void 0,_=Math.floor((f+1)*o)+1+t,x=Math.min(Math.floor((f+2)*o)+1,n)+t,b=x-_;for(m=_;m<x;m++)p+=i[m].x,y+=i[m].y;p/=b,y/=b;var S=Math.floor(f*o)+1+t,M=Math.min(Math.floor((f+1)*o)+1,n)+t,w=i[h],C=w.x,D=w.y;for(c=v=-1,m=S;m<M;m++)(v=.5*Math.abs((C-p)*(i[m].y-D)-(C-i[m].x)*(y-D)))>c&&(c=v,d=i[m],g=m);s[l++]=d,h=g}return s[l++]=i[u],s}(h,c,v,e,r);break;case"min-max":p=function Zu(i,t,n,r){var s,o,u,h,f,d,c,v,g,e=0,a=0,p=[],m=i[t].x,x=i[t+n-1].x-m;for(s=t;s<t+n;++s){u=(o=i[s]).y;var b=0|(o.x-m)/x*r;if(b===h)u<v?(v=u,f=s):u>g&&(g=u,d=s),e=(a*e+o.x)/++a;else{var S=s-1;if(!V(f)&&!V(d)){var M=Math.min(f,d),w=Math.max(f,d);M!==c&&M!==S&&p.push((0,Re.Z)((0,Re.Z)({},i[M]),{},{x:e})),w!==c&&w!==S&&p.push((0,Re.Z)((0,Re.Z)({},i[w]),{},{x:e}))}s>0&&S!==c&&p.push(i[S]),p.push(o),h=b,a=0,v=g=u,f=d=c=s}}return p}(h,c,v,e);break;default:throw new Error("Unsupported decimation algorithm '".concat(r.algorithm,"'"))}a._decimated=p}}})}else tn(t)},destroy:function(t){tn(t)}};function Ji(i,t,n,r){if(!r){var e=t[i],a=n[i];return"angle"===i&&(e=ce(e),a=ce(a)),{property:i,start:e,end:a}}}function ea(i,t,n){for(;t>i;t--){var r=n[t];if(!isNaN(r.x)&&!isNaN(r.y))break}return t}function an(i,t,n,r){return i&&t?r(i[n],t[n]):i?i[n]:t?t[n]:0}function rn(i,t){var n=[],r=!1;return Y(i)?(r=!0,n=i):n=function zu(i,t){var n=i||{},r=n.x,e=void 0===r?null:r,a=n.y,s=void 0===a?null:a,o=t.points,l=[];return t.segments.forEach(function(u){var h=u.start,f=u.end;f=ea(h,f,o);var d=o[h],c=o[f];null!==s?(l.push({x:d.x,y:s}),l.push({x:c.x,y:s})):null!==e&&(l.push({x:e,y:d.y}),l.push({x:e,y:c.y}))}),l}(i,t),n.length?new hi({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function nn(i){return i&&!1!==i.fill}function Vu(i,t,n){var s,e=i[t].fill,a=[t];if(!n)return e;for(;!1!==e&&-1===a.indexOf(e);){if(!q(e))return e;if(!(s=i[e]))return!1;if(s.visible)return e;a.push(e),e=s.fill}return!1}function Wu(i,t,n){var r=function Uu(i){var t=i.options,n=t.fill,r=F(n&&n.target,n);return void 0===r&&(r=!!t.backgroundColor),!1!==r&&null!==r&&(!0===r?"origin":r)}(i);if(z(r))return!isNaN(r.value)&&r;var e=parseFloat(r);return q(e)&&Math.floor(e)===e?function Hu(i,t,n,r){return("-"===i||"+"===i)&&(n=t+n),!(n===t||n<0||n>=r)&&n}(r[0],t,e,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Ku(i,t,n){for(var r=[],e=0;e<n.length;e++){var s=Xu(n[e],t,"x"),o=s.first,l=s.last,u=s.point;if(!(!u||o&&l))if(o)r.unshift(u);else if(i.push(u),!l)break}i.push.apply(i,r)}function Xu(i,t,n){var r=i.interpolate(t,n);if(!r)return{};for(var e=r[n],a=i.segments,s=i.points,o=!1,l=!1,u=0;u<a.length;u++){var h=a[u],f=s[h.start][n],d=s[h.end][n];if(Pe(e,f,d)){o=e===f,l=e===d;break}}return{first:o,last:l,point:r}}var sn=function(){function i(t){(0,T.Z)(this,i),this.x=t.x,this.y=t.y,this.radius=t.radius}return(0,E.Z)(i,[{key:"pathSegment",value:function(n,r,e){return n.arc(this.x,this.y,this.radius,(r=r||{start:0,end:K}).end,r.start,!0),!e.bounds}},{key:"interpolate",value:function(n){var e=this.y,a=this.radius,s=n.angle;return{x:this.x+Math.cos(s)*a,y:e+Math.sin(s)*a,angle:s}}}]),i}();function ta(i,t,n){var r=function Gu(i){var t=i.chart,n=i.fill,r=i.line;if(q(n))return function qu(i,t){var n=i.getDatasetMeta(t);return n&&i.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function $u(i){var t=i.scale,r=i.line,e=[],a=r.segments,s=r.points,o=function Yu(i,t){for(var n=[],r=i.getMatchingVisibleMetas("line"),e=0;e<r.length;e++){var a=r[e];if(a.index===t)break;a.hidden||n.unshift(a.dataset)}return n}(t,i.index);o.push(rn({x:null,y:t.bottom},r));for(var l=0;l<a.length;l++)for(var u=a[l],h=u.start;h<=u.end;h++)Ku(e,s[h],o);return new hi({points:e,options:{}})}(i);if("shape"===n)return!0;var e=function Qu(i){return(i.scale||{}).getPointPositionForValue?function eh(i){var t=i.scale,n=i.fill,r=t.options,e=t.getLabels().length,a=r.reverse?t.max:t.min,s=function ju(i,t,n){return"start"===i?n:"end"===i?t.options.reverse?t.min:t.max:z(i)?i.value:t.getBaseValue()}(n,t,a),o=[];if(r.grid.circular){var l=t.getPointPositionForValue(0,a);return new sn({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(var u=0;u<e;++u)o.push(t.getPointPositionForValue(u,s));return o}(i):function Ju(i){var t=i.scale,n=void 0===t?{}:t,e=function Nu(i,t){var n=null;return"start"===i?n=t.bottom:"end"===i?n=t.top:z(i)?n=t.getPixelForValue(i.value):t.getBasePixel&&(n=t.getBasePixel()),n}(i.fill,n);if(q(e)){var a=n.isHorizontal();return{x:a?e:null,y:a?null:e}}return null}(i)}(i);return e instanceof sn?e:rn(e,r)}(t),e=t.line,a=t.scale,s=t.axis,o=e.options,u=o.backgroundColor,h=o.fill||{},f=h.above,d=void 0===f?u:f,c=h.below,v=void 0===c?u:c;r&&e.points.length&&(Xt(i,n),function th(i,t){var n=t.line,r=t.target,e=t.above,a=t.below,s=t.area,o=t.scale,l=n._loop?"angle":t.axis;i.save(),"x"===l&&a!==e&&(on(i,r,s.top),ln(i,{line:n,target:r,color:e,scale:o,property:l}),i.restore(),i.save(),on(i,r,s.bottom)),ln(i,{line:n,target:r,color:a,scale:o,property:l}),i.restore()}(i,{line:e,target:r,above:d,below:v,area:n,scale:a,axis:s}),Gt(i))}function on(i,t,n){var r=t.segments,e=t.points,a=!0,s=!1;i.beginPath();var l,o=(0,B.Z)(r);try{for(o.s();!(l=o.n()).done;){var u=l.value,h=u.start,d=e[h],c=e[ea(h,u.end,e)];a?(i.moveTo(d.x,d.y),a=!1):(i.lineTo(d.x,n),i.lineTo(d.x,d.y)),(s=!!t.pathSegment(i,u,{move:s}))?i.closePath():i.lineTo(c.x,n)}}catch(v){o.e(v)}finally{o.f()}i.lineTo(t.first().x,n),i.closePath(),i.clip()}function ln(i,t){var u,n=t.line,r=t.target,e=t.property,a=t.color,s=t.scale,o=function Bu(i,t,n){var l,e=i.points,a=t.points,s=[],o=(0,B.Z)(i.segments);try{for(o.s();!(l=o.n()).done;){var u=l.value,h=u.start,f=u.end;f=ea(h,f,e);var d=Ji(n,e[h],e[f],u.loop);if(t.segments){var g,c=tr(t,d),v=(0,B.Z)(c);try{for(v.s();!(g=v.n()).done;){var x,p=g.value,y=Ji(n,a[p.start],a[p.end],p.loop),m=er(u,e,y),_=(0,B.Z)(m);try{for(_.s();!(x=_.n()).done;)s.push({source:x.value,target:p,start:(0,k.Z)({},n,an(d,y,"start",Math.max)),end:(0,k.Z)({},n,an(d,y,"end",Math.min))})}catch(S){_.e(S)}finally{_.f()}}}catch(S){v.e(S)}finally{v.f()}}else s.push({source:u,target:d,start:e[h],end:e[f]})}}catch(S){o.e(S)}finally{o.f()}return s}(n,r,e),l=(0,B.Z)(o);try{for(l.s();!(u=l.n()).done;){var h=u.value,f=h.source,d=h.target,c=h.start,v=h.end,g=f.style,y=(void 0===g?{}:g).backgroundColor,m=void 0===y?a:y,_=!0!==r;i.save(),i.fillStyle=m,ih(i,s,_&&Ji(e,c,v)),i.beginPath();var x=!!n.pathSegment(i,f),b=void 0;if(_){x?i.closePath():un(i,r,v,e);var S=!!r.pathSegment(i,d,{move:x,reverse:!0});(b=x&&S)||un(i,r,c,e)}i.closePath(),i.fill(b?"evenodd":"nonzero"),i.restore()}}catch(M){l.e(M)}finally{l.f()}}function ih(i,t,n){var r=t.chart.chartArea,e=r.top,a=r.bottom,s=n||{},l=s.start,u=s.end;"x"===s.property&&(i.beginPath(),i.rect(l,e,u-l,a-e),i.clip())}function un(i,t,n,r){var e=t.interpolate(n,r);e&&i.lineTo(e.x,e.y)}var ah={id:"filler",afterDatasetsUpdate:function(t,n,r){var s,o,l,u,e=(t.data.datasets||[]).length,a=[];for(o=0;o<e;++o)u=null,(l=(s=t.getDatasetMeta(o)).dataset)&&l.options&&l instanceof hi&&(u={visible:t.isDatasetVisible(o),index:o,fill:Wu(l,o,e),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=u,a.push(u);for(o=0;o<e;++o)(u=a[o])&&!1!==u.fill&&(u.fill=Vu(a,o,r.propagate))},beforeDraw:function(t,n,r){for(var e="beforeDraw"===r.drawTime,a=t.getSortedVisibleDatasetMetas(),s=t.chartArea,o=a.length-1;o>=0;--o){var l=a[o].$filler;l&&(l.line.updateControlPoints(s,l.axis),e&&l.fill&&ta(t.ctx,l,s))}},beforeDatasetsDraw:function(t,n,r){if("beforeDatasetsDraw"===r.drawTime)for(var e=t.getSortedVisibleDatasetMetas(),a=e.length-1;a>=0;--a){var s=e[a].$filler;nn(s)&&ta(t.ctx,s,t.chartArea)}},beforeDatasetDraw:function(t,n,r){var e=n.meta.$filler;!nn(e)||"beforeDatasetDraw"!==r.drawTime||ta(t.ctx,e,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},hn=function(t,n){var r=t.boxHeight,e=void 0===r?n:r,a=t.boxWidth,s=void 0===a?n:a;return t.usePointStyle&&(e=Math.min(e,n),s=t.pointStyleWidth||Math.min(s,n)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(n,e)}},fn=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(r){var e;return(0,T.Z)(this,n),(e=t.call(this))._added=!1,e.legendHitBoxes=[],e._hoveredItem=null,e.doughnutMode=!1,e.chart=r.chart,e.options=r.options,e.ctx=r.ctx,e.legendItems=void 0,e.columnSizes=void 0,e.lineWidths=void 0,e.maxHeight=void 0,e.maxWidth=void 0,e.top=void 0,e.bottom=void 0,e.left=void 0,e.right=void 0,e.height=void 0,e.width=void 0,e._margins=void 0,e.position=void 0,e.weight=void 0,e.fullSize=void 0,e}return(0,E.Z)(n,[{key:"update",value:function(e,a,s){this.maxWidth=e,this.maxHeight=a,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var e=this,a=this.options.labels||{},s=$(a.generateLabels,[this.chart],this)||[];a.filter&&(s=s.filter(function(o){return a.filter(o,e.chart.data)})),a.sort&&(s=s.sort(function(o,l){return a.sort(o,l,e.chart.data)})),this.options.reverse&&s.reverse(),this.legendItems=s}},{key:"fit",value:function(){var e=this.options,a=this.ctx;if(e.display){var c,v,s=e.labels,o=ee(s.font),l=o.size,u=this._computeTitleHeight(),h=hn(s,l),f=h.boxWidth,d=h.itemHeight;a.font=o.string,this.isHorizontal()?(c=this.maxWidth,v=this._fitRows(u,l,f,d)+10):(v=this.maxHeight,c=this._fitCols(u,o,f,d)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(v,e.maxHeight||this.maxHeight)}else this.width=this.height=0}},{key:"_fitRows",value:function(e,a,s,o){var l=this.ctx,u=this.maxWidth,h=this.options.labels.padding,f=this.legendHitBoxes=[],d=this.lineWidths=[0],c=o+h,v=e;l.textAlign="left",l.textBaseline="middle";var g=-1,p=-c;return this.legendItems.forEach(function(y,m){var _=s+a/2+l.measureText(y.text).width;(0===m||d[d.length-1]+_+2*h>u)&&(v+=c,d[d.length-(m>0?0:1)]=0,p+=c,g++),f[m]={left:0,top:p,row:g,width:_,height:o},d[d.length-1]+=_+h}),v}},{key:"_fitCols",value:function(e,a,s,o){var l=this.ctx,u=this.maxHeight,h=this.options.labels.padding,f=this.legendHitBoxes=[],d=this.columnSizes=[],c=u-e,v=h,g=0,p=0,y=0,m=0;return this.legendItems.forEach(function(_,x){var b=function nh(i,t,n,r,e){var a=function sh(i,t,n,r){var e=i.text;return e&&"string"!=typeof e&&(e=e.reduce(function(a,s){return a.length>s.length?a:s})),t+n.size/2+r.measureText(e).width}(r,i,t,n),s=function oh(i,t,n){var r=i;return"string"!=typeof t.text&&(r=dn(t,n)),r}(e,r,t.lineHeight);return{itemWidth:a,itemHeight:s}}(s,a,l,_,o),S=b.itemWidth,M=b.itemHeight;x>0&&p+M+2*h>c&&(v+=g+h,d.push({width:g,height:p}),y+=g+h,m++,g=p=0),f[x]={left:y,top:p,col:m,width:S,height:M},g=Math.max(g,S),p+=M+h}),v+=g,d.push({width:g,height:p}),v}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var e=this._computeTitleHeight(),a=this.legendHitBoxes,s=this.options,o=s.align,l=s.labels.padding,h=ut(s.rtl,this.left,this.width);if(this.isHorizontal()){var v,f=0,d=se(o,this.left+l,this.right-this.lineWidths[f]),c=(0,B.Z)(a);try{for(c.s();!(v=c.n()).done;){var g=v.value;f!==g.row&&(d=se(o,this.left+l,this.right-this.lineWidths[f=g.row])),g.top+=this.top+e+l,g.left=h.leftForLtr(h.x(d),g.width),d+=g.width+l}}catch(b){c.e(b)}finally{c.f()}}else{var _,p=0,y=se(o,this.top+e+l,this.bottom-this.columnSizes[p].height),m=(0,B.Z)(a);try{for(m.s();!(_=m.n()).done;){var x=_.value;x.col!==p&&(y=se(o,this.top+e+l,this.bottom-this.columnSizes[p=x.col].height)),x.top=y,x.left+=this.left+l,x.left=h.leftForLtr(h.x(x.left),x.width),y+=x.height+l}}catch(b){m.e(b)}finally{m.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){if(this.options.display){var e=this.ctx;Xt(e,this),this._draw(),Gt(e)}}},{key:"_draw",value:function(){var y,e=this,a=this.options,s=this.columnSizes,o=this.lineWidths,l=this.ctx,u=a.align,h=a.labels,f=J.color,d=ut(a.rtl,this.left,this.width),c=ee(h.font),v=h.padding,g=c.size,p=g/2;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=c.string;var m=hn(h,g),_=m.boxWidth,x=m.boxHeight,b=m.itemHeight,w=this.isHorizontal(),C=this._computeTitleHeight();y=w?{x:se(u,this.left+v,this.right-o[0]),y:this.top+v+C,line:0}:{x:this.left+v,y:se(u,this.top+C+v,this.bottom-s[0].height),line:0},Ga(this.ctx,a.textDirection);var D=b+v;this.legendItems.forEach(function(O,A){l.strokeStyle=O.fontColor,l.fillStyle=O.fontColor;var Z=l.measureText(O.text).width,L=d.textAlign(O.textAlign||(O.textAlign=h.textAlign)),I=_+p+Z,N=y.x,te=y.y;d.setWidth(e.width),w?A>0&&N+I+v>e.right&&(te=y.y+=D,y.line++,N=y.x=se(u,e.left+v,e.right-o[y.line])):A>0&&te+D>e.bottom&&(N=y.x=N+s[y.line].width+v,y.line++,te=y.y=se(u,e.top+C+v,e.bottom-s[y.line].height)),function(A,Z,L){if(!(isNaN(_)||_<=0||isNaN(x)||x<0)){l.save();var I=F(L.lineWidth,1);if(l.fillStyle=F(L.fillStyle,f),l.lineCap=F(L.lineCap,"butt"),l.lineDashOffset=F(L.lineDashOffset,0),l.lineJoin=F(L.lineJoin,"miter"),l.lineWidth=I,l.strokeStyle=F(L.strokeStyle,f),l.setLineDash(F(L.lineDash,[])),h.usePointStyle){var N={radius:x*Math.SQRT2/2,pointStyle:L.pointStyle,rotation:L.rotation,borderWidth:I},te=d.xPlus(A,_/2);Ia(l,N,te,Z+p,h.pointStyleWidth&&_)}else{var ge=Z+Math.max((g-x)/2,0),Ee=d.leftForLtr(A,_),we=qe(L.borderRadius);l.beginPath(),Object.values(we).some(function(Ne){return 0!==Ne})?xt(l,{x:Ee,y:ge,w:_,h:x,radius:we}):l.rect(Ee,ge,_,x),l.fill(),0!==I&&l.stroke()}l.restore()}}(d.x(N),te,O),N=function(t,n,r,e){return t===(e?"left":"right")?r:"center"===t?(n+r)/2:n}(L,N+_+p,w?N+I:e.right,a.rtl),function(A,Z,L){Ge(l,L.text,A,Z+b/2,c,{strikethrough:L.hidden,textAlign:d.textAlign(L.textAlign)})}(d.x(N),te,O),w?y.x+=I+v:y.y+="string"!=typeof O.text?dn(O,c.lineHeight)+v:D}),qa(this.ctx,a.textDirection)}},{key:"drawTitle",value:function(){var e=this.options,a=e.title,s=ee(a.font),o=oe(a.padding);if(a.display){var c,l=ut(e.rtl,this.left,this.width),u=this.ctx,h=a.position,d=o.top+s.size/2,v=this.left,g=this.width;if(this.isHorizontal())g=Math.max.apply(Math,(0,W.Z)(this.lineWidths)),c=this.top+d,v=se(e.align,v,this.right-g);else{var p=this.columnSizes.reduce(function(m,_){return Math.max(m,_.height)},0);c=d+se(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}var y=se(h,v,v+g);u.textAlign=l.textAlign(Oi(h)),u.textBaseline="middle",u.strokeStyle=a.color,u.fillStyle=a.color,u.font=s.string,Ge(u,a.text,y,c,s)}}},{key:"_computeTitleHeight",value:function(){var e=this.options.title,a=ee(e.font),s=oe(e.padding);return e.display?a.lineHeight+s.height:0}},{key:"_getLegendItemAt",value:function(e,a){var s,o,l;if(Pe(e,this.left,this.right)&&Pe(a,this.top,this.bottom))for(l=this.legendHitBoxes,s=0;s<l.length;++s)if(Pe(e,(o=l[s]).left,o.left+o.width)&&Pe(a,o.top,o.top+o.height))return this.legendItems[s];return null}},{key:"handleEvent",value:function(e){var a=this.options;if(function lh(i,t){return!(("mousemove"!==i&&"mouseout"!==i||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==i&&"mouseup"!==i))}(e.type,a)){var s=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){var o=this._hoveredItem,l=function(t,n){return null!==t&&null!==n&&t.datasetIndex===n.datasetIndex&&t.index===n.index}(o,s);o&&!l&&$(a.onLeave,[e,o,this],this),this._hoveredItem=s,s&&!l&&$(a.onHover,[e,s,this],this)}else s&&$(a.onClick,[e,s,this],this)}}}]),n}(ke);function dn(i,t){return t*(i.text?i.text.length:0)}var uh={id:"legend",_element:fn,start:function(t,n,r){var e=t.legend=new fn({ctx:t.ctx,options:r,chart:t});le_configure(0,e,r),le_addBox(t,e)},stop:function(t){le_removeBox(t,t.legend),delete t.legend},beforeUpdate:function(t,n,r){var e=t.legend;le_configure(0,e,r),e.options=r},afterUpdate:function(t){var n=t.legend;n.buildLabels(),n.adjustHitBoxes()},afterEvent:function(t,n){n.replay||t.legend.handleEvent(n.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(t,n,r){var e=n.datasetIndex,a=r.chart;a.isDatasetVisible(e)?(a.hide(e),n.hidden=!0):(a.show(e),n.hidden=!1)},onHover:null,onLeave:null,labels:{color:function(t){return t.chart.options.color},boxWidth:40,padding:10,generateLabels:function(t){var n=t.data.datasets,r=t.legend.options.labels,e=r.usePointStyle,a=r.pointStyle,s=r.textAlign,o=r.color,l=r.useBorderRadius,u=r.borderRadius;return t._getSortedDatasetMetas().map(function(h){var f=h.controller.getStyle(e?0:void 0),d=oe(f.borderWidth);return{text:n[h.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:f.borderColor,pointStyle:a||f.pointStyle,rotation:f.rotation,textAlign:s||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:function(t){return t.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(t){return!t.startsWith("on")},labels:{_scriptable:function(t){return!["generateLabels","filter","sort"].includes(t)}}}},ia=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(r){var e;return(0,T.Z)(this,n),(e=t.call(this)).chart=r.chart,e.options=r.options,e.ctx=r.ctx,e._padding=void 0,e.top=void 0,e.bottom=void 0,e.left=void 0,e.right=void 0,e.width=void 0,e.height=void 0,e.position=void 0,e.weight=void 0,e.fullSize=void 0,e}return(0,E.Z)(n,[{key:"update",value:function(e,a){var s=this.options;if(this.left=0,this.top=0,s.display){this.width=this.right=e,this.height=this.bottom=a;var o=Y(s.text)?s.text.length:1;this._padding=oe(s.padding);var l=o*ee(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}else this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var e=this.options.position;return"top"===e||"bottom"===e}},{key:"_drawArgs",value:function(e){var d,c,v,a=this.top,s=this.left,o=this.bottom,l=this.right,u=this.options,h=u.align,f=0;return this.isHorizontal()?(c=se(h,s,l),v=a+e,d=l-s):("left"===u.position?(c=s+e,v=se(h,o,a),f=-.5*X):(c=l-e,v=se(h,a,o),f=.5*X),d=o-a),{titleX:c,titleY:v,maxWidth:d,rotation:f}}},{key:"draw",value:function(){var e=this.ctx,a=this.options;if(a.display){var s=ee(a.font),u=this._drawArgs(s.lineHeight/2+this._padding.top),h=u.titleX,f=u.titleY;Ge(e,a.text,0,0,s,{color:a.color,maxWidth:u.maxWidth,rotation:u.rotation,textAlign:Oi(a.align),textBaseline:"middle",translation:[h,f]})}}}]),n}(ke),fh={id:"title",_element:ia,start:function(t,n,r){!function hh(i,t){var n=new ia({ctx:i.ctx,options:t,chart:i});le_configure(0,n,t),le_addBox(i,n),i.titleBlock=n}(t,r)},stop:function(t){le_removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate:function(t,n,r){var e=t.titleBlock;le_configure(0,e,r),e.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},di=new WeakMap,dh={id:"subtitle",start:function(t,n,r){var e=new ia({ctx:t.ctx,options:r,chart:t});le_configure(0,e,r),le_addBox(t,e),di.set(t,e)},stop:function(t){le_removeBox(t,di.get(t)),di.delete(t)},beforeUpdate:function(t,n,r){var e=di.get(t);le_configure(0,e,r),e.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Et={average:function(t){if(!t.length)return!1;var n,r,e=0,a=0,s=0;for(n=0,r=t.length;n<r;++n){var o=t[n].element;if(o&&o.hasValue()){var l=o.tooltipPosition();e+=l.x,a+=l.y,++s}}return{x:e/s,y:a/s}},nearest:function(t,n){if(!t.length)return!1;var s,o,l,r=n.x,e=n.y,a=Number.POSITIVE_INFINITY;for(s=0,o=t.length;s<o;++s){var u=t[s].element;if(u&&u.hasValue()){var f=Di(n,u.getCenterPoint());f<a&&(a=f,l=u)}}if(l){var d=l.tooltipPosition();r=d.x,e=d.y}return{x:r,y:e}}};function Me(i,t){return t&&(Y(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Te(i){return("string"==typeof i||i instanceof String)&&i.indexOf("\n")>-1?i.split("\n"):i}function ch(i,t){var n=t.element,r=t.datasetIndex,e=t.index,a=i.getDatasetMeta(r).controller,s=a.getLabelAndValue(e),l=s.value;return{chart:i,label:s.label,parsed:a.getParsed(e),raw:i.data.datasets[r].data[e],formattedValue:l,dataset:a.getDataset(),dataIndex:e,datasetIndex:r,element:n}}function cn(i,t){var n=i.chart.ctx,r=i.body,e=i.footer,a=i.title,s=t.boxWidth,o=t.boxHeight,l=ee(t.bodyFont),u=ee(t.titleFont),h=ee(t.footerFont),f=a.length,d=e.length,c=r.length,v=oe(t.padding),g=v.height,p=0,y=r.reduce(function(b,S){return b+S.before.length+S.lines.length+S.after.length},0);f&&(g+=f*u.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),(y+=i.beforeBody.length+i.afterBody.length)&&(g+=c*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(y-c)*l.lineHeight+(y-1)*t.bodySpacing),d&&(g+=t.footerMarginTop+d*h.lineHeight+(d-1)*t.footerSpacing);var _=0,x=function(S){p=Math.max(p,n.measureText(S).width+_)};return n.save(),n.font=u.string,j(i.title,x),n.font=l.string,j(i.beforeBody.concat(i.afterBody),x),_=t.displayColors?s+2+t.boxPadding:0,j(r,function(b){j(b.before,x),j(b.lines,x),j(b.after,x)}),_=0,n.font=h.string,j(i.footer,x),n.restore(),{width:p+=v.width,height:g}}function ph(i,t,n,r){var e=n.x,a=n.width,o=i.chartArea,h="center";return"center"===r?h=e<=(o.left+o.right)/2?"left":"right":e<=a/2?h="left":e>=i.width-a/2&&(h="right"),function gh(i,t,n,r){var e=r.x,a=r.width,s=n.caretSize+n.caretPadding;if("left"===i&&e+a+s>t.width||"right"===i&&e-a-s<0)return!0}(h,i,t,n)&&(h="center"),h}function vn(i,t,n){var r=n.yAlign||t.yAlign||function vh(i,t){var n=t.y,r=t.height;return n<r/2?"top":n>i.height-r/2?"bottom":"center"}(i,n);return{xAlign:n.xAlign||t.xAlign||ph(i,t,n,r),yAlign:r}}function gn(i,t,n,r){var e=i.caretSize,o=n.xAlign,l=n.yAlign,u=e+i.caretPadding,h=qe(i.cornerRadius),f=h.topLeft,d=h.topRight,c=h.bottomLeft,v=h.bottomRight,g=function mh(i,t){var n=i.x,r=i.width;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o),p=function yh(i,t,n){var r=i.y,e=i.height;return"top"===t?r+=n:r-="bottom"===t?e+n:e/2,r}(t,l,u);return"center"===l?"left"===o?g+=u:"right"===o&&(g-=u):"left"===o?g-=Math.max(f,c)+e:"right"===o&&(g+=Math.max(d,v)+e),{x:ie(g,0,r.width-t.width),y:ie(p,0,r.height-t.height)}}function ci(i,t,n){var r=oe(n.padding);return"center"===t?i.x+i.width/2:"right"===t?i.x+i.width-r.right:i.x+r.left}function pn(i){return Me([],Te(i))}function mn(i,t){var n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?i.override(n):i}var yn={beforeTitle:De,title:function(t){if(t.length>0){var n=t[0],r=n.chart.data.labels,e=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return n.dataset.label||"";if(n.label)return n.label;if(e>0&&n.dataIndex<e)return r[n.dataIndex]}return""},afterTitle:De,beforeBody:De,beforeLabel:De,label:function(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;var n=t.dataset.label||"";n&&(n+=": ");var r=t.formattedValue;return V(r)||(n+=r),n},labelColor:function(t){var r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(t){var r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:De,afterBody:De,beforeFooter:De,footer:De,afterFooter:De};function ue(i,t,n,r){var e=i[t].call(n,r);return typeof e>"u"?yn[t].call(n,r):e}var bn=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(e){var a;return(0,T.Z)(this,r),(a=n.call(this)).opacity=0,a._active=[],a._eventPosition=void 0,a._size=void 0,a._cachedAnimations=void 0,a._tooltipItems=[],a.$animations=void 0,a.$context=void 0,a.chart=e.chart,a.options=e.options,a.dataPoints=void 0,a.title=void 0,a.beforeBody=void 0,a.body=void 0,a.afterBody=void 0,a.footer=void 0,a.xAlign=void 0,a.yAlign=void 0,a.x=void 0,a.y=void 0,a.height=void 0,a.width=void 0,a.caretX=void 0,a.caretY=void 0,a.labelColors=void 0,a.labelPointStyles=void 0,a.labelTextColors=void 0,a}return(0,E.Z)(r,[{key:"initialize",value:function(a){this.options=a,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var a=this._cachedAnimations;if(a)return a;var s=this.chart,o=this.options.setContext(this.getContext()),l=o.enabled&&s.options.animation&&o.animations,u=new nr(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(u)),u}},{key:"getContext",value:function(){return this.$context||(this.$context=function bh(i,t,n){return Ve(i,{tooltip:t,tooltipItems:n,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}},{key:"getTitle",value:function(a,s){var o=s.callbacks,l=ue(o,"beforeTitle",this,a),u=ue(o,"title",this,a),h=ue(o,"afterTitle",this,a),f=[];return f=Me(f,Te(l)),f=Me(f,Te(u)),Me(f,Te(h))}},{key:"getBeforeBody",value:function(a,s){return pn(ue(s.callbacks,"beforeBody",this,a))}},{key:"getBody",value:function(a,s){var o=this,l=s.callbacks,u=[];return j(a,function(h){var f={before:[],lines:[],after:[]},d=mn(l,h);Me(f.before,Te(ue(d,"beforeLabel",o,h))),Me(f.lines,ue(d,"label",o,h)),Me(f.after,Te(ue(d,"afterLabel",o,h))),u.push(f)}),u}},{key:"getAfterBody",value:function(a,s){return pn(ue(s.callbacks,"afterBody",this,a))}},{key:"getFooter",value:function(a,s){var o=s.callbacks,l=ue(o,"beforeFooter",this,a),u=ue(o,"footer",this,a),h=ue(o,"afterFooter",this,a),f=[];return f=Me(f,Te(l)),f=Me(f,Te(u)),Me(f,Te(h))}},{key:"_createItems",value:function(a){var c,v,s=this,o=this._active,l=this.chart.data,u=[],h=[],f=[],d=[];for(c=0,v=o.length;c<v;++c)d.push(ch(this.chart,o[c]));return a.filter&&(d=d.filter(function(g,p,y){return a.filter(g,p,y,l)})),a.itemSort&&(d=d.sort(function(g,p){return a.itemSort(g,p,l)})),j(d,function(g){var p=mn(a.callbacks,g);u.push(ue(p,"labelColor",s,g)),h.push(ue(p,"labelPointStyle",s,g)),f.push(ue(p,"labelTextColor",s,g))}),this.labelColors=u,this.labelPointStyles=h,this.labelTextColors=f,this.dataPoints=d,d}},{key:"update",value:function(a,s){var u,o=this.options.setContext(this.getContext()),l=this._active,h=[];if(l.length){var f=Et[o.position].call(this,l,this._eventPosition);h=this._createItems(o),this.title=this.getTitle(h,o),this.beforeBody=this.getBeforeBody(h,o),this.body=this.getBody(h,o),this.afterBody=this.getAfterBody(h,o),this.footer=this.getFooter(h,o);var d=this._size=cn(this,o),c=Object.assign({},f,d),v=vn(this.chart,o,c),g=gn(o,c,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,u={opacity:1,x:g.x,y:g.y,width:d.width,height:d.height,caretX:f.x,caretY:f.y}}else 0!==this.opacity&&(u={opacity:0});this._tooltipItems=h,this.$context=void 0,u&&this._resolveAnimations().update(this,u),a&&o.external&&o.external.call(this,{chart:this.chart,tooltip:this,replay:s})}},{key:"drawCaret",value:function(a,s,o,l){var u=this.getCaretPosition(a,o,l);s.lineTo(u.x1,u.y1),s.lineTo(u.x2,u.y2),s.lineTo(u.x3,u.y3)}},{key:"getCaretPosition",value:function(a,s,o){var b,S,M,w,C,D,l=this.xAlign,u=this.yAlign,h=o.caretSize,d=qe(o.cornerRadius),v=d.topRight,p=d.bottomRight,y=a.x,m=a.y,_=s.width,x=s.height;return"center"===u?(C=m+x/2,"left"===l?(S=(b=y)-h,w=C+h,D=C-h):(S=(b=y+_)+h,w=C-h,D=C+h),M=b):(S="left"===l?y+Math.max(d.topLeft,d.bottomLeft)+h:"right"===l?y+_-Math.max(v,p)-h:this.caretX,"top"===u?(C=(w=m)-h,b=S-h,M=S+h):(C=(w=m+x)+h,b=S+h,M=S-h),D=w),{x1:b,x2:S,x3:M,y1:w,y2:C,y3:D}}},{key:"drawTitle",value:function(a,s,o){var h,f,d,l=this.title,u=l.length;if(u){var c=ut(o.rtl,this.x,this.width);for(a.x=ci(this,o.titleAlign,o),s.textAlign=c.textAlign(o.titleAlign),s.textBaseline="middle",h=ee(o.titleFont),f=o.titleSpacing,s.fillStyle=o.titleColor,s.font=h.string,d=0;d<u;++d)s.fillText(l[d],c.x(a.x),a.y+h.lineHeight/2),a.y+=h.lineHeight+f,d+1===u&&(a.y+=o.titleMarginBottom-f)}}},{key:"_drawColorBox",value:function(a,s,o,l,u){var h=this.labelColors[o],f=this.labelPointStyles[o],d=u.boxHeight,c=u.boxWidth,v=ee(u.bodyFont),g=ci(this,"left",u),p=l.x(g),m=s.y+(d<v.lineHeight?(v.lineHeight-d)/2:0);if(u.usePointStyle){var _={radius:Math.min(c,d)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},x=l.leftForLtr(p,c)+c/2,b=m+d/2;a.strokeStyle=u.multiKeyBackground,a.fillStyle=u.multiKeyBackground,Ri(a,_,x,b),a.strokeStyle=h.borderColor,a.fillStyle=h.backgroundColor,Ri(a,_,x,b)}else{a.lineWidth=z(h.borderWidth)?Math.max.apply(Math,(0,W.Z)(Object.values(h.borderWidth))):h.borderWidth||1,a.strokeStyle=h.borderColor,a.setLineDash(h.borderDash||[]),a.lineDashOffset=h.borderDashOffset||0;var S=l.leftForLtr(p,c),M=l.leftForLtr(l.xPlus(p,1),c-2),w=qe(h.borderRadius);Object.values(w).some(function(C){return 0!==C})?(a.beginPath(),a.fillStyle=u.multiKeyBackground,xt(a,{x:S,y:m,w:c,h:d,radius:w}),a.fill(),a.stroke(),a.fillStyle=h.backgroundColor,a.beginPath(),xt(a,{x:M,y:m+1,w:c-2,h:d-2,radius:w}),a.fill()):(a.fillStyle=u.multiKeyBackground,a.fillRect(S,m,c,d),a.strokeRect(S,m,c,d),a.fillStyle=h.backgroundColor,a.fillRect(M,m+1,c-2,d-2))}a.fillStyle=this.labelTextColors[o]}},{key:"drawBody",value:function(a,s,o){var b,M,w,C,D,O,l=this.body,u=o.bodySpacing,h=o.bodyAlign,f=o.displayColors,d=o.boxHeight,c=o.boxWidth,v=o.boxPadding,g=ee(o.bodyFont),p=g.lineHeight,y=0,m=ut(o.rtl,this.x,this.width),_=function(Z){s.fillText(Z,m.x(a.x+y),a.y+p/2),a.y+=p+u},x=m.textAlign(h);for(s.textAlign=h,s.textBaseline="middle",s.font=g.string,a.x=ci(this,x,o),s.fillStyle=o.bodyColor,j(this.beforeBody,_),y=f&&"right"!==x?"center"===h?c/2+v:c+2+v:0,w=0,D=l.length;w<D;++w){for(b=l[w],s.fillStyle=this.labelTextColors[w],j(b.before,_),M=b.lines,f&&M.length&&(this._drawColorBox(s,a,w,m,o),p=Math.max(g.lineHeight,d)),C=0,O=M.length;C<O;++C)_(M[C]),p=g.lineHeight;j(b.after,_)}y=0,p=g.lineHeight,j(this.afterBody,_),a.y-=u}},{key:"drawFooter",value:function(a,s,o){var h,f,l=this.footer,u=l.length;if(u){var d=ut(o.rtl,this.x,this.width);for(a.x=ci(this,o.footerAlign,o),a.y+=o.footerMarginTop,s.textAlign=d.textAlign(o.footerAlign),s.textBaseline="middle",h=ee(o.footerFont),s.fillStyle=o.footerColor,s.font=h.string,f=0;f<u;++f)s.fillText(l[f],d.x(a.x),a.y+h.lineHeight/2),a.y+=h.lineHeight+o.footerSpacing}}},{key:"drawBackground",value:function(a,s,o,l){var u=this.xAlign,h=this.yAlign,f=a.x,d=a.y,c=o.width,v=o.height,g=qe(l.cornerRadius),p=g.topLeft,y=g.topRight,m=g.bottomLeft,_=g.bottomRight;s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=l.borderWidth,s.beginPath(),s.moveTo(f+p,d),"top"===h&&this.drawCaret(a,s,o,l),s.lineTo(f+c-y,d),s.quadraticCurveTo(f+c,d,f+c,d+y),"center"===h&&"right"===u&&this.drawCaret(a,s,o,l),s.lineTo(f+c,d+v-_),s.quadraticCurveTo(f+c,d+v,f+c-_,d+v),"bottom"===h&&this.drawCaret(a,s,o,l),s.lineTo(f+m,d+v),s.quadraticCurveTo(f,d+v,f,d+v-m),"center"===h&&"left"===u&&this.drawCaret(a,s,o,l),s.lineTo(f,d+p),s.quadraticCurveTo(f,d,f+p,d),s.closePath(),s.fill(),l.borderWidth>0&&s.stroke()}},{key:"_updateAnimationTarget",value:function(a){var s=this.chart,o=this.$animations,l=o&&o.x,u=o&&o.y;if(l||u){var h=Et[a.position].call(this,this._active,this._eventPosition);if(!h)return;var f=this._size=cn(this,a),d=Object.assign({},h,this._size),c=vn(s,a,d),v=gn(a,d,c,s);(l._to!==v.x||u._to!==v.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=f.width,this.height=f.height,this.caretX=h.x,this.caretY=h.y,this._resolveAnimations().update(this,v))}}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(a){var s=this.options.setContext(this.getContext()),o=this.opacity;if(o){this._updateAnimationTarget(s);var l={width:this.width,height:this.height},u={x:this.x,y:this.y};o=Math.abs(o)<.001?0:o;var h=oe(s.padding);s.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(a.save(),a.globalAlpha=o,this.drawBackground(u,a,l,s),Ga(a,s.textDirection),u.y+=h.top,this.drawTitle(u,a,s),this.drawBody(u,a,s),this.drawFooter(u,a,s),qa(a,s.textDirection),a.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(a,s){var o=this,l=this._active,u=a.map(function(d){var c=d.datasetIndex,v=d.index,g=o.chart.getDatasetMeta(c);if(!g)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:g.data[v],index:v}}),h=!Nt(l,u),f=this._positionChanged(u,s);(h||f)&&(this._active=u,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(a,s){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var l=this.options,u=this._active||[],h=this._getActiveElements(a,u,s,o),f=this._positionChanged(h,a),d=s||!Nt(h,u)||f;return d&&(this._active=h,(l.enabled||l.external)&&(this._eventPosition={x:a.x,y:a.y},this.update(!0,s))),d}},{key:"_getActiveElements",value:function(a,s,o,l){var u=this.options;if("mouseout"===a.type)return[];if(!l)return s;var h=this.chart.getElementsAtEventForMode(a,u.mode,u,o);return u.reverse&&h.reverse(),h}},{key:"_positionChanged",value:function(a,s){var o=this.caretX,l=this.caretY,h=Et[this.options.position].call(this,a,s);return!1!==h&&(o!==h.x||l!==h.y)}}]),r}(ke);return(0,k.Z)(i,"positioners",Et),i}(),xh=Object.freeze({__proto__:null,Colors:Eu,Decimation:Iu,Filler:ah,Legend:uh,SubTitle:dh,Title:fh,Tooltip:{id:"tooltip",_element:bn,positioners:Et,afterInit:function(t,n,r){r&&(t.tooltip=new bn({chart:t,options:r}))},beforeUpdate:function(t,n,r){t.tooltip&&t.tooltip.initialize(r)},reset:function(t,n,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw:function(t){var n=t.tooltip;if(n&&n._willRender()){var r={tooltip:n};if(!1===t.notifyPlugins("beforeTooltipDraw",(0,Re.Z)((0,Re.Z)({},r),{},{cancelable:!0})))return;n.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent:function(t,n){t.tooltip&&t.tooltip.handleEvent(n.event,n.replay,n.inChartArea)&&(n.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(t,n){return n.bodyFont.size},boxWidth:function(t,n){return n.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yn},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(t){return"filter"!==t&&"itemSort"!==t&&"external"!==t},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function _n(i){var t=this.getLabels();return i>=0&&i<t.length?t[i]:i}var wh=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(e){var a;return(0,T.Z)(this,r),(a=n.call(this,e))._startValue=void 0,a._valueRange=0,a._addedLabels=[],a}return(0,E.Z)(r,[{key:"init",value:function(a){var s=this._addedLabels;if(s.length){var u,o=this.getLabels(),l=(0,B.Z)(s);try{for(l.s();!(u=l.n()).done;){var h=u.value,f=h.index;o[f]===h.label&&o.splice(f,1)}}catch(c){l.e(c)}finally{l.f()}this._addedLabels=[]}(0,H.Z)((0,U.Z)(r.prototype),"init",this).call(this,a)}},{key:"parse",value:function(a,s){if(V(a))return null;var o=this.getLabels();return function(t,n){return null===t?null:ie(Math.round(t),0,n)}(s=isFinite(s)&&o[s]===a?s:function Sh(i,t,n,r){var e=i.indexOf(t);return-1===e?function(t,n,r,e){return"string"==typeof n?(r=t.push(n)-1,e.unshift({index:r,label:n})):isNaN(n)&&(r=null),r}(i,t,n,r):e!==i.lastIndexOf(t)?n:e}(o,a,F(s,a),this._addedLabels),o.length-1)}},{key:"determineDataLimits",value:function(){var a=this.getUserBounds(),s=a.minDefined,o=a.maxDefined,l=this.getMinMax(!0),u=l.min,h=l.max;"ticks"===this.options.bounds&&(s||(u=0),o||(h=this.getLabels().length-1)),this.min=u,this.max=h}},{key:"buildTicks",value:function(){var a=this.min,s=this.max,o=this.options.offset,l=[],u=this.getLabels();u=0===a&&s===u.length-1?u:u.slice(a,s+1),this._valueRange=Math.max(u.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(var h=a;h<=s;h++)l.push({value:h});return l}},{key:"getLabelForValue",value:function(a){return _n.call(this,a)}},{key:"configure",value:function(){(0,H.Z)((0,U.Z)(r.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(a){return"number"!=typeof a&&(a=this.parse(a)),null===a?NaN:this.getPixelForDecimal((a-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(a){var s=this.ticks;return a<0||a>s.length-1?null:this.getPixelForValue(s[a].value)}},{key:"getValueForPixel",value:function(a){return Math.round(this._startValue+this.getDecimalForPixel(a)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),r}(At);return(0,k.Z)(i,"id","category"),(0,k.Z)(i,"defaults",{ticks:{callback:_n}}),i}();function xn(i,t,n){var r=n.horizontal,a=xe(n.minRotation),s=(r?Math.sin(a):Math.cos(a))||.001;return Math.min(t/s,.75*t*(""+i).length)}var vi=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(r){var e;return(0,T.Z)(this,n),(e=t.call(this,r)).start=void 0,e.end=void 0,e._startValue=void 0,e._endValue=void 0,e._valueRange=0,e}return(0,E.Z)(n,[{key:"parse",value:function(e,a){return V(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var e=this.options.beginAtZero,a=this.getUserBounds(),s=a.minDefined,o=a.maxDefined,l=this.min,u=this.max,h=function(p){return l=s?l:p},f=function(p){return u=o?u:p};if(e){var d=Se(l),c=Se(u);d<0&&c<0?f(0):d>0&&c>0&&h(0)}if(l===u){var v=0===u?1:Math.abs(.05*u);f(u+v),e||h(l-v)}this.min=l,this.max=u}},{key:"getTickLimit",value:function(){var o,e=this.options.ticks,a=e.maxTicksLimit,s=e.stepSize;return s?(o=Math.ceil(this.max/s)-Math.floor(this.min/s)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(s," would result generating up to ").concat(o," ticks. Limiting to 1000.")),o=1e3):(o=this.computeTickLimit(),a=a||11),a&&(o=Math.min(a,o)),o}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var e=this.options,a=e.ticks,s=this.getTickLimit(),u=function Ch(i,t){var S,M,w,C,n=[],e=i.bounds,a=i.step,s=i.min,o=i.max,l=i.precision,u=i.count,h=i.maxTicks,f=i.maxDigits,d=i.includeBounds,c=a||1,v=h-1,g=t.min,p=t.max,y=!V(s),m=!V(o),_=!V(u),x=(p-g)/(f+1),b=_a((p-g)/v/c)*c;if(b<1e-14&&!y&&!m)return[{value:g},{value:p}];(C=Math.ceil(p/b)-Math.floor(g/b))>v&&(b=_a(C*b/v/c)*c),V(l)||(S=Math.pow(10,l),b=Math.ceil(b*S)/S),"ticks"===e?(M=Math.floor(g/b)*b,w=Math.ceil(p/b)*b):(M=g,w=p),y&&m&&a&&function hs(i,t){var n=Math.round(i);return n-t<=i&&n+t>=i}((o-s)/a,b/1e3)?(b=(o-s)/(C=Math.round(Math.min((o-s)/b,h))),M=s,w=o):_?b=((w=m?o:w)-(M=y?s:M))/(C=u-1):C=pt(C=(w-M)/b,Math.round(C),b/1e3)?Math.round(C):Math.ceil(C);var D=Math.max(ka(b),ka(M));S=Math.pow(10,V(l)?D:l),M=Math.round(M*S)/S,w=Math.round(w*S)/S;var O=0;for(y&&(d&&M!==s?(n.push({value:s}),M<s&&O++,pt(Math.round((M+O*b)*S)/S,s,xn(s,x,i))&&O++):M<s&&O++);O<C;++O){var A=Math.round((M+O*b)*S)/S;if(m&&A>o)break;n.push({value:A})}return m&&d&&w!==o?n.length&&pt(n[n.length-1].value,o,xn(o,x,i))?n[n.length-1].value=o:n.push({value:o}):(!m||w===o)&&n.push({value:w}),n}({maxTicks:s=Math.max(2,s),bounds:e.bounds,min:e.min,max:e.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:!1!==a.includeBounds},this._range||this);return"ticks"===e.bounds&&xa(u,this,"value"),e.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}},{key:"configure",value:function(){var e=this.ticks,a=this.min,s=this.max;if((0,H.Z)((0,U.Z)(n.prototype),"configure",this).call(this),this.options.offset&&e.length){var o=(s-a)/Math.max(e.length-1,1)/2;a-=o,s+=o}this._startValue=a,this._endValue=s,this._valueRange=s-a}},{key:"getLabelForValue",value:function(e){return bt(e,this.chart.options.locale,this.options.ticks.format)}}]),n}(At),aa=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(){return(0,T.Z)(this,n),t.apply(this,arguments)}return(0,E.Z)(n,[{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),a=e.min,s=e.max;this.min=q(a)?a:0,this.max=q(s)?s:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var e=this.isHorizontal(),a=e?this.width:this.height,s=xe(this.options.ticks.minRotation),o=(e?Math.sin(s):Math.cos(s))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,l.lineHeight/o))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}]),n}(vi);(0,k.Z)(aa,"id","linear"),(0,k.Z)(aa,"defaults",{ticks:{callback:Yt.formatters.numeric}});var Rt=function(t){return Math.floor(ze(t))},it=function(t,n){return Math.pow(10,Rt(t)+n)};function kn(i){return 1==i/Math.pow(10,Rt(i))}function Sn(i,t,n){var r=Math.pow(10,n),e=Math.floor(i/r);return Math.ceil(t/r)-e}var ra=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(r){var e;return(0,T.Z)(this,n),(e=t.call(this,r)).start=void 0,e.end=void 0,e._startValue=void 0,e._valueRange=0,e}return(0,E.Z)(n,[{key:"parse",value:function(e,a){var s=vi.prototype.parse.apply(this,[e,a]);if(0!==s)return q(s)&&s>0?s:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),a=e.min,s=e.max;this.min=q(a)?Math.max(0,a):null,this.max=q(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!q(this._userMin)&&(this.min=a===it(this.min,0)?it(this.min,-1):it(this.min,0)),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var e=this.getUserBounds(),a=e.minDefined,s=e.maxDefined,o=this.min,l=this.max,u=function(d){return o=a?o:d},h=function(d){return l=s?l:d};o===l&&(o<=0?(u(1),h(10)):(u(it(o,-1)),h(it(l,1)))),o<=0&&u(it(l,-1)),l<=0&&h(it(o,1)),this.min=o,this.max=l}},{key:"buildTicks",value:function(){var e=this.options,s=function Ph(i,t){var n=t.min,r=t.max;n=de(i.min,n);for(var e=[],a=Rt(n),s=function Dh(i,t){for(var r=Rt(t-i);Sn(i,t,r)>10;)r++;for(;Sn(i,t,r)<10;)r--;return Math.min(r,Rt(i))}(n,r),o=s<0?Math.pow(10,Math.abs(s)):1,l=Math.pow(10,s),u=a>s?Math.pow(10,a):0,h=Math.round((n-u)*o)/o,f=Math.floor((n-u)/l/10)*l*10,d=Math.floor((h-f)/Math.pow(10,s)),c=de(i.min,Math.round((u+f+d*Math.pow(10,s))*o)/o);c<r;)e.push({value:c,major:kn(c),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(d=2,o=++s>=0?1:o),c=Math.round((u+f+d*Math.pow(10,s))*o)/o;var v=de(i.max,c);return e.push({value:v,major:kn(v),significand:d}),e}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&xa(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":bt(e,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var e=this.min;(0,H.Z)((0,U.Z)(n.prototype),"configure",this).call(this),this._startValue=ze(e),this._valueRange=ze(this.max)-ze(e)}},{key:"getPixelForValue",value:function(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(ze(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){var a=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+a*this._valueRange)}}]),n}(At);function na(i){var t=i.ticks;if(t.display&&i.display){var n=oe(t.backdropPadding);return F(t.font&&t.font.size,J.font.size)+n.height}return 0}function Oh(i,t,n){return n=Y(n)?n:[n],{w:Ds(i,t.string,n),h:n.length*t.lineHeight}}function Mn(i,t,n,r,e){return i===r||i===e?{start:t-n/2,end:t+n/2}:i<r||i>e?{start:t-n,end:t}:{start:t,end:t+n}}function Lh(i,t,n,r,e){var a=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n)),o=0,l=0;r.start<t.l?(o=(t.l-r.start)/a,i.l=Math.min(i.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/a,i.r=Math.max(i.r,t.r+o)),e.start<t.t?(l=(t.t-e.start)/s,i.t=Math.min(i.t,t.t-l)):e.end>t.b&&(l=(e.end-t.b)/s,i.b=Math.max(i.b,t.b+l))}function Th(i,t,n){var o=n.size,l=i.getPointPosition(t,i.drawingArea+n.extra+n.padding,n.additionalAngle),u=Math.round(Ci(ce(l.angle+Q))),h=function Ih(i,t,n){return 90===n||270===n?i-=t/2:(n>270||n<90)&&(i-=t),i}(l.y,o.h,u),f=function Zh(i){return 0===i||180===i?"center":i<180?"left":"right"}(u),d=function Fh(i,t,n){return"right"===n?i-=t:"center"===n&&(i-=t/2),i}(l.x,o.w,f);return{visible:!0,x:l.x,y:h,textAlign:f,left:d,top:h,right:d+o.w,bottom:h+o.h}}function Eh(i,t){if(!t)return!0;var n=i.left,r=i.top,e=i.right,a=i.bottom;return!(Ae({x:n,y:r},t)||Ae({x:n,y:a},t)||Ae({x:e,y:r},t)||Ae({x:e,y:a},t))}function Bh(i,t,n){var r=n.left,e=n.top,a=n.right,s=n.bottom,o=t.backdropColor;if(!V(o)){var l=qe(t.borderRadius),u=oe(t.backdropPadding);i.fillStyle=o;var h=r-u.left,f=e-u.top,d=a-r+u.width,c=s-e+u.height;Object.values(l).some(function(v){return 0!==v})?(i.beginPath(),xt(i,{x:h,y:f,w:d,h:c,radius:l}),i.fill()):i.fillRect(h,f,d,c)}}function wn(i,t,n,r){var e=i.ctx;if(n)e.arc(i.xCenter,i.yCenter,t,0,K);else{var a=i.getPointPosition(0,t);e.moveTo(a.x,a.y);for(var s=1;s<r;s++)a=i.getPointPosition(s,t),e.lineTo(a.x,a.y)}}(0,k.Z)(ra,"id","logarithmic"),(0,k.Z)(ra,"defaults",{ticks:{callback:Yt.formatters.logarithmic,major:{enabled:!0}}});var Zt=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(r){var e;return(0,T.Z)(this,n),(e=t.call(this,r)).xCenter=void 0,e.yCenter=void 0,e.drawingArea=void 0,e._pointLabels=[],e._pointLabelItems=[],e}return(0,E.Z)(n,[{key:"setDimensions",value:function(){var e=this._padding=oe(na(this.options)/2),a=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+a/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(a,s)/2)}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!1),a=e.min,s=e.max;this.min=q(a)&&!isNaN(a)?a:0,this.max=q(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/na(this.options))}},{key:"generateTickLabels",value:function(e){var a=this;vi.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(function(s,o){var l=$(a.options.pointLabels.callback,[s,o],a);return l||0===l?l:""}).filter(function(s,o){return a.chart.getDataVisibility(o)})}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?function Ah(i){for(var t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},n=Object.assign({},t),r=[],e=[],a=i._pointLabels.length,s=i.options.pointLabels,o=s.centerPointLabels?X/a:0,l=0;l<a;l++){var u=s.setContext(i.getPointLabelContext(l));e[l]=u.padding;var h=i.getPointPosition(l,i.drawingArea+e[l],o),f=ee(u.font),d=Oh(i.ctx,f,i._pointLabels[l]);r[l]=d;var c=ce(i.getIndexAngle(l)+o),v=Math.round(Ci(c));Lh(n,t,c,Mn(v,h.x,d.w,0,180),Mn(v,h.y,d.h,90,270))}i.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),i._pointLabelItems=function Rh(i,t,n){for(var h,r=[],e=i._pointLabels.length,a=i.options,s=a.pointLabels,o=s.centerPointLabels,l=s.display,u={extra:na(a)/2,additionalAngle:o?X/e:0},f=0;f<e;f++){u.padding=n[f],u.size=t[f];var d=Th(i,f,u);r.push(d),"auto"===l&&(d.visible=Eh(d,h),d.visible&&(h=d))}return r}(i,r,e)}(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(e,a,s,o){this.xCenter+=Math.floor((e-a)/2),this.yCenter+=Math.floor((s-o)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,a,s,o))}},{key:"getIndexAngle",value:function(e){return ce(e*(K/(this._pointLabels.length||1))+xe(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(e){if(V(e))return NaN;var a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*a:(e-this.min)*a}},{key:"getValueForDistanceFromCenter",value:function(e){if(V(e))return NaN;var a=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}},{key:"getPointLabelContext",value:function(e){var a=this._pointLabels||[];if(e>=0&&e<a.length){var s=a[e];return function Wh(i,t,n){return Ve(i,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,s)}}},{key:"getPointPosition",value:function(e,a){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=this.getIndexAngle(e)-Q+s;return{x:Math.cos(o)*a+this.xCenter,y:Math.sin(o)*a+this.yCenter,angle:o}}},{key:"getPointPositionForValue",value:function(e,a){return this.getPointPosition(e,this.getDistanceFromCenterForValue(a))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(e){var a=this._pointLabelItems[e];return{left:a.left,top:a.top,right:a.right,bottom:a.bottom}}},{key:"drawBackground",value:function(){var e=this.options,a=e.backgroundColor,s=e.grid.circular;if(a){var o=this.ctx;o.save(),o.beginPath(),wn(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),o.closePath(),o.fillStyle=a,o.fill(),o.restore()}}},{key:"drawGrid",value:function(){var f,d,c,e=this,a=this.ctx,s=this.options,o=s.angleLines,l=s.grid,u=s.border,h=this._pointLabels.length;if(s.pointLabels.display&&function zh(i,t){for(var n=i.ctx,r=i.options.pointLabels,e=t-1;e>=0;e--){var a=i._pointLabelItems[e];if(a.visible){var s=r.setContext(i.getPointLabelContext(e));Bh(n,s,a);var o=ee(s.font);Ge(n,i._pointLabels[e],a.x,a.y+o.lineHeight/2,o,{color:s.color,textAlign:a.textAlign,textBaseline:"middle"})}}}(this,h),l.display&&this.ticks.forEach(function(y,m){if(0!==m){d=e.getDistanceFromCenterForValue(y.value);var _=e.getContext(m),x=l.setContext(_),b=u.setContext(_);!function Vh(i,t,n,r,e){var a=i.ctx,s=t.circular,o=t.color,l=t.lineWidth;!s&&!r||!o||!l||n<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(e.dash),a.lineDashOffset=e.dashOffset,a.beginPath(),wn(i,n,s,r),a.closePath(),a.stroke(),a.restore())}(e,x,d,h,b)}}),o.display){for(a.save(),f=h-1;f>=0;f--){var v=o.setContext(this.getPointLabelContext(f)),g=v.color,p=v.lineWidth;!p||!g||(a.lineWidth=p,a.strokeStyle=g,a.setLineDash(v.borderDash),a.lineDashOffset=v.borderDashOffset,d=this.getDistanceFromCenterForValue(s.ticks.reverse?this.min:this.max),c=this.getPointPosition(f,d),a.beginPath(),a.moveTo(this.xCenter,this.yCenter),a.lineTo(c.x,c.y),a.stroke())}a.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var e=this,a=this.ctx,s=this.options,o=s.ticks;if(o.display){var u,h,l=this.getIndexAngle(0);a.save(),a.translate(this.xCenter,this.yCenter),a.rotate(l),a.textAlign="center",a.textBaseline="middle",this.ticks.forEach(function(f,d){if(0!==d||s.reverse){var c=o.setContext(e.getContext(d)),v=ee(c.font);if(u=e.getDistanceFromCenterForValue(e.ticks[d].value),c.showLabelBackdrop){a.font=v.string,h=a.measureText(f.label).width,a.fillStyle=c.backdropColor;var g=oe(c.backdropPadding);a.fillRect(-h/2-g.left,-u-v.size/2-g.top,h+g.width,v.size+g.height)}Ge(a,f.label,0,-u,v,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}}),a.restore()}}},{key:"drawTitle",value:function(){}}]),n}(vi);(0,k.Z)(Zt,"id","radialLinear"),(0,k.Z)(Zt,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Yt.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(t){return t},padding:5,centerPointLabels:!1}}),(0,k.Z)(Zt,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,k.Z)(Zt,"descriptors",{angleLines:{_fallback:"grid"}});var gi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},he=Object.keys(gi);function Cn(i,t){return i-t}function Dn(i,t){if(V(t))return null;var n=i._adapter,r=i._parseOpts,e=r.parser,a=r.round,s=r.isoWeekday,o=t;return"function"==typeof e&&(o=e(o)),q(o)||(o="string"==typeof e?n.parse(o,e):n.parse(o)),null===o?null:(a&&(o="week"!==a||!st(s)&&!0!==s?n.startOf(o,a):n.startOf(o,"isoWeek",s)),+o)}function Pn(i,t,n,r){for(var e=he.length,a=he.indexOf(i);a<e-1;++a){var s=gi[he[a]];if(s.common&&Math.ceil((n-t)/((s.steps?s.steps:Number.MAX_SAFE_INTEGER)*s.size))<=r)return he[a]}return he[e-1]}function On(i,t,n){if(n){if(n.length){var r=Pi(n,t),e=r.lo;i[n[e]>=t?n[e]:n[r.hi]]=!0}}else i[t]=!0}function An(i,t,n){var s,o,r=[],e={},a=t.length;for(s=0;s<a;++s)e[o=t[s]]=s,r.push({value:o,major:!1});return 0!==a&&n?function jh(i,t,n,r){var o,l,e=i._adapter,a=+e.startOf(t[0].value,r),s=t[t.length-1].value;for(o=a;o<=s;o=+e.add(o,1,r))(l=n[o])>=0&&(t[l].major=!0);return t}(i,r,e,n):r}var sa=function(){var i=function(t){(0,R.Z)(r,t);var n=(0,P.Z)(r);function r(e){var a;return(0,T.Z)(this,r),(a=n.call(this,e))._cache={data:[],labels:[],all:[]},a._unit="day",a._majorUnit=void 0,a._offsets={},a._normalized=!1,a._parseOpts=void 0,a}return(0,E.Z)(r,[{key:"init",value:function(a){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.time||(a.time={}),l=this._adapter=new qo._date(a.adapters.date);l.init(s),vt(o.displayFormats,l.formats()),this._parseOpts={parser:o.parser,round:o.round,isoWeekday:o.isoWeekday},(0,H.Z)((0,U.Z)(r.prototype),"init",this).call(this,a),this._normalized=s.normalized}},{key:"parse",value:function(a,s){return void 0===a?null:Dn(this,a)}},{key:"beforeLayout",value:function(){(0,H.Z)((0,U.Z)(r.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var a=this.options,s=this._adapter,o=a.time.unit||"day",l=this.getUserBounds(),u=l.min,h=l.max,f=l.minDefined,d=l.maxDefined;function c(v){!f&&!isNaN(v.min)&&(u=Math.min(u,v.min)),!d&&!isNaN(v.max)&&(h=Math.max(h,v.max))}(!f||!d)&&(c(this._getLabelBounds()),("ticks"!==a.bounds||"labels"!==a.ticks.source)&&c(this.getMinMax(!1))),u=q(u)&&!isNaN(u)?u:+s.startOf(Date.now(),o),h=q(h)&&!isNaN(h)?h:+s.endOf(Date.now(),o)+1,this.min=Math.min(u,h-1),this.max=Math.max(u+1,h)}},{key:"_getLabelBounds",value:function(){var a=this.getLabelTimestamps(),s=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;return a.length&&(s=a[0],o=a[a.length-1]),{min:s,max:o}}},{key:"buildTicks",value:function(){var a=this.options,s=a.time,o=a.ticks,l="labels"===o.source?this.getLabelTimestamps():this._generate();"ticks"===a.bounds&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);var u=this.min,f=function vs(i,t,n){for(var r=0,e=i.length;r<e&&i[r]<t;)r++;for(;e>r&&i[e-1]>n;)e--;return r>0||e<i.length?i.slice(r,e):i}(l,u,this.max);return this._unit=s.unit||(o.autoSkip?Pn(s.minUnit,this.min,this.max,this._getLabelCapacity(u)):function Hh(i,t,n,r,e){for(var a=he.length-1;a>=he.indexOf(n);a--){var s=he[a];if(gi[s].common&&i._adapter.diff(e,r,s)>=t-1)return s}return he[n?he.indexOf(n):0]}(this,f.length,s.minUnit,this.min,this.max)),this._majorUnit=o.major.enabled&&"year"!==this._unit?function Nh(i){for(var t=he.indexOf(i)+1,n=he.length;t<n;++t)if(gi[he[t]].common)return he[t]}(this._unit):void 0,this.initOffsets(l),a.reverse&&f.reverse(),An(this,f,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(function(a){return+a.value}))}},{key:"initOffsets",value:function(){var l,u,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=0,o=0;this.options.offset&&a.length&&(l=this.getDecimalForValue(a[0]),s=1===a.length?1-l:(this.getDecimalForValue(a[1])-l)/2,u=this.getDecimalForValue(a[a.length-1]),o=1===a.length?u:(u-this.getDecimalForValue(a[a.length-2]))/2);var h=a.length<3?.5:.25;s=ie(s,0,h),o=ie(o,0,h),this._offsets={start:s,end:o,factor:1/(s+1+o)}}},{key:"_generate",value:function(){var p,y,a=this._adapter,s=this.min,o=this.max,l=this.options,u=l.time,h=u.unit||Pn(u.minUnit,s,o,this._getLabelCapacity(s)),f=F(l.ticks.stepSize,1),d="week"===h&&u.isoWeekday,c=st(d)||!0===d,v={},g=s;if(c&&(g=+a.startOf(g,"isoWeek",d)),g=+a.startOf(g,c?"day":h),a.diff(o,s,h)>1e5*f)throw new Error(s+" and "+o+" are too far apart with stepSize of "+f+" "+h);var m="data"===l.ticks.source&&this.getDataTimestamps();for(p=g,y=0;p<o;p=+a.add(p,f,h),y++)On(v,p,m);return(p===o||"ticks"===l.bounds||1===y)&&On(v,p,m),Object.keys(v).sort(Cn).map(function(_){return+_})}},{key:"getLabelForValue",value:function(a){var o=this.options.time;return this._adapter.format(a,o.tooltipFormat?o.tooltipFormat:o.displayFormats.datetime)}},{key:"format",value:function(a,s){return this._adapter.format(a,s||this.options.time.displayFormats[this._unit])}},{key:"_tickFormatFunction",value:function(a,s,o,l){var u=this.options,h=u.ticks.callback;if(h)return $(h,[a,s,o],this);var f=u.time.displayFormats,d=this._unit,c=this._majorUnit,g=c&&f[c],p=o[s];return this._adapter.format(a,l||(c&&g&&p&&p.major?g:d&&f[d]))}},{key:"generateTickLabels",value:function(a){var s,o,l;for(s=0,o=a.length;s<o;++s)(l=a[s]).label=this._tickFormatFunction(l.value,s,a)}},{key:"getDecimalForValue",value:function(a){return null===a?NaN:(a-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(a){var s=this._offsets,o=this.getDecimalForValue(a);return this.getPixelForDecimal((s.start+o)*s.factor)}},{key:"getValueForPixel",value:function(a){var s=this._offsets,o=this.getDecimalForPixel(a)/s.factor-s.end;return this.min+o*(this.max-this.min)}},{key:"_getLabelSize",value:function(a){var s=this.options.ticks,o=this.ctx.measureText(a).width,l=xe(this.isHorizontal()?s.maxRotation:s.minRotation),u=Math.cos(l),h=Math.sin(l),f=this._resolveTickFontOptions(0).size;return{w:o*u+f*h,h:o*h+f*u}}},{key:"_getLabelCapacity",value:function(a){var s=this.options.time,o=s.displayFormats,l=o[s.unit]||o.millisecond,u=this._tickFormatFunction(a,0,An(this,[a],this._majorUnit),l),h=this._getLabelSize(u),f=Math.floor(this.isHorizontal()?this.width/h.w:this.height/h.h)-1;return f>0?f:1}},{key:"getDataTimestamps",value:function(){var s,o,a=this._cache.data||[];if(a.length)return a;var l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(s=0,o=l.length;s<o;++s)a=a.concat(l[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(a)}},{key:"getLabelTimestamps",value:function(){var s,o,a=this._cache.labels||[];if(a.length)return a;var l=this.getLabels();for(s=0,o=l.length;s<o;++s)a.push(Dn(this,l[s]));return this._cache.labels=this._normalized?a:this.normalize(a)}},{key:"normalize",value:function(a){return Ca(a.sort(Cn))}}]),r}(At);return(0,k.Z)(i,"id","time"),(0,k.Z)(i,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}}),i}();function pi(i,t,n){var a,s,o,l,r=0,e=i.length-1;if(n){if(t>=i[r].pos&&t<=i[e].pos){var u=Oe(i,"pos",t);r=u.lo,e=u.hi}var h=i[r];a=h.pos,o=h.time;var f=i[e];s=f.pos,l=f.time}else{if(t>=i[r].time&&t<=i[e].time){var d=Oe(i,"time",t);r=d.lo,e=d.hi}var c=i[r];a=c.time,o=c.pos;var v=i[e];s=v.time,l=v.pos}var g=s-a;return g?o+(l-o)*(t-a)/g:o}var oa=function(i){(0,R.Z)(n,i);var t=(0,P.Z)(n);function n(r){var e;return(0,T.Z)(this,n),(e=t.call(this,r))._table=[],e._minPos=void 0,e._tableRange=void 0,e}return(0,E.Z)(n,[{key:"initOffsets",value:function(){var e=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(e);this._minPos=pi(a,this.min),this._tableRange=pi(a,this.max)-this._minPos,(0,H.Z)((0,U.Z)(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(e){var u,h,d,a=this.min,s=this.max,o=[],l=[];for(u=0,h=e.length;u<h;++u)(d=e[u])>=a&&d<=s&&o.push(d);if(o.length<2)return[{time:a,pos:0},{time:s,pos:1}];for(u=0,h=o.length;u<h;++u)d=o[u],Math.round((o[u+1]+o[u-1])/2)!==d&&l.push({time:d,pos:u/(h-1)});return l}},{key:"_generate",value:function(){var e=this.min,a=this.max,s=(0,H.Z)((0,U.Z)(n.prototype),"getDataTimestamps",this).call(this);return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(a)||1===s.length)&&s.push(a),s.sort(function(o,l){return o-l})}},{key:"_getTimestampsForTable",value:function(){var e=this._cache.all||[];if(e.length)return e;var a=this.getDataTimestamps(),s=this.getLabelTimestamps();return e=a.length&&s.length?this.normalize(a.concat(s)):a.length?a:s,this._cache.all=e}},{key:"getDecimalForValue",value:function(e){return(pi(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(e){var a=this._offsets,s=this.getDecimalForPixel(e)/a.factor-a.end;return pi(this._table,s*this._tableRange+this._minPos,!0)}}]),n}(sa);(0,k.Z)(oa,"id","timeseries"),(0,k.Z)(oa,"defaults",sa.defaults),li.register.apply(li,(0,W.Z)([Xo,Du,xh,Object.freeze({__proto__:null,CategoryScale:wh,LinearScale:aa,LogarithmicScale:ra,RadialLinearScale:Zt,TimeScale:sa,TimeSeriesScale:oa})]));const Yh=li;var Kh=function(){var i=function(){function t(n,r){(0,T.Z)(this,t),(0,k.Z)(this,"platformId",void 0),(0,k.Z)(this,"el",void 0),(0,k.Z)(this,"type",void 0),(0,k.Z)(this,"plugins",[]),(0,k.Z)(this,"width",void 0),(0,k.Z)(this,"height",void 0),(0,k.Z)(this,"responsive",!0),(0,k.Z)(this,"onDataSelect",new re.vpe),(0,k.Z)(this,"isBrowser",!1),(0,k.Z)(this,"initialized",void 0),(0,k.Z)(this,"_data",void 0),(0,k.Z)(this,"_options",{}),(0,k.Z)(this,"chart",void 0),this.platformId=n,this.el=r}return(0,E.Z)(t,[{key:"data",get:function(){return this._data},set:function(r){this._data=r,this.reinit()}},{key:"options",get:function(){return this._options},set:function(r){this._options=r,this.reinit()}},{key:"ngAfterViewInit",value:function(){this.initChart(),this.initialized=!0}},{key:"onCanvasClick",value:function(r){if(this.chart){var e=this.chart.getElementsAtEventForMode(r,"nearest",{intersect:!0},!1),a=this.chart.getElementsAtEventForMode(r,"dataset",{intersect:!0},!1);e&&e[0]&&a&&this.onDataSelect.emit({originalEvent:r,element:e[0],dataset:a})}}},{key:"initChart",value:function(){if((0,fe.NF)(this.platformId)){var r=this.options||{};r.responsive=this.responsive,r.responsive&&(this.height||this.width)&&(r.maintainAspectRatio=!1),this.chart=new Yh(this.el.nativeElement.children[0].children[0],{type:this.type,data:this.data,options:this.options,plugins:this.plugins})}}},{key:"getCanvas",value:function(){return this.el.nativeElement.children[0].children[0]}},{key:"getBase64Image",value:function(){return this.chart.toBase64Image()}},{key:"generateLegend",value:function(){if(this.chart)return this.chart.generateLegend()}},{key:"refresh",value:function(){this.chart&&this.chart.update()}},{key:"reinit",value:function(){this.chart&&(this.chart.destroy(),this.initChart())}},{key:"ngOnDestroy",value:function(){this.chart&&(this.chart.destroy(),this.initialized=!1,this.chart=null)}}]),t}();return(0,k.Z)(i,"\u0275fac",function(n){return new(n||i)(re.Y36(re.Lbi),re.Y36(re.SBq))}),(0,k.Z)(i,"\u0275cmp",re.Xpm({type:i,selectors:[["p-chart"]],hostAttrs:[1,"p-element"],inputs:{type:"type",plugins:"plugins",width:"width",height:"height",responsive:"responsive",data:"data",options:"options"},outputs:{onDataSelect:"onDataSelect"},decls:2,vars:6,consts:[[2,"position","relative"],[3,"click"]],template:function(n,r){1&n&&(re.TgZ(0,"div",0)(1,"canvas",1),re.NdJ("click",function(a){return r.onCanvasClick(a)}),re.qZA()()),2&n&&(re.Udp("width",r.responsive&&!r.width?null:r.width)("height",r.responsive&&!r.height?null:r.height),re.xp6(1),re.uIk("width",r.responsive&&!r.width?null:r.width)("height",r.responsive&&!r.height?null:r.height))},encapsulation:2,changeDetection:0})),i}(),Xh=function(){var i=(0,E.Z)(function t(){(0,T.Z)(this,t)});return(0,k.Z)(i,"\u0275fac",function(n){return new(n||i)}),(0,k.Z)(i,"\u0275mod",re.oAB({type:i})),(0,k.Z)(i,"\u0275inj",re.cJS({imports:[fe.ez]})),i}()},1913:(Ln,yi,G)=>{G.d(yi,{h:()=>Re,l:()=>ne});var T=G(5671),E=G(3144),k=G(4942),re=G(6814),fe=G(9329),W=G(2076),Re=function(){var H=function(){function U(R,P,pe){(0,T.Z)(this,U),(0,k.Z)(this,"el",void 0),(0,k.Z)(this,"renderer",void 0),(0,k.Z)(this,"zone",void 0),(0,k.Z)(this,"selector",void 0),(0,k.Z)(this,"enterClass",void 0),(0,k.Z)(this,"enterActiveClass",void 0),(0,k.Z)(this,"enterToClass",void 0),(0,k.Z)(this,"leaveClass",void 0),(0,k.Z)(this,"leaveActiveClass",void 0),(0,k.Z)(this,"leaveToClass",void 0),(0,k.Z)(this,"hideOnOutsideClick",void 0),(0,k.Z)(this,"toggleClass",void 0),(0,k.Z)(this,"hideOnEscape",void 0),(0,k.Z)(this,"eventListener",void 0),(0,k.Z)(this,"documentClickListener",void 0),(0,k.Z)(this,"documentKeydownListener",void 0),(0,k.Z)(this,"target",void 0),(0,k.Z)(this,"enterListener",void 0),(0,k.Z)(this,"leaveListener",void 0),(0,k.Z)(this,"animating",void 0),this.el=R,this.renderer=P,this.zone=pe}return(0,E.Z)(U,[{key:"clickListener",value:function(){this.target=this.resolveTarget(),this.toggleClass?this.toggle():null===this.target.offsetParent?this.enter():this.leave()}},{key:"toggle",value:function(){W.p.hasClass(this.target,this.toggleClass)?W.p.removeClass(this.target,this.toggleClass):W.p.addClass(this.target,this.toggleClass)}},{key:"enter",value:function(){var P=this;this.enterActiveClass?this.animating||(this.animating=!0,"slidedown"===this.enterActiveClass&&(this.target.style.height="0px",W.p.removeClass(this.target,"hidden"),this.target.style.maxHeight=this.target.scrollHeight+"px",W.p.addClass(this.target,"hidden"),this.target.style.height=""),W.p.addClass(this.target,this.enterActiveClass),this.enterClass&&W.p.removeClass(this.target,this.enterClass),this.enterListener=this.renderer.listen(this.target,"animationend",function(){W.p.removeClass(P.target,P.enterActiveClass),P.enterToClass&&W.p.addClass(P.target,P.enterToClass),P.enterListener&&P.enterListener(),"slidedown"===P.enterActiveClass&&(P.target.style.maxHeight=""),P.animating=!1})):(this.enterClass&&W.p.removeClass(this.target,this.enterClass),this.enterToClass&&W.p.addClass(this.target,this.enterToClass)),this.hideOnOutsideClick&&this.bindDocumentClickListener(),this.hideOnEscape&&this.bindDocumentKeydownListener()}},{key:"leave",value:function(){var P=this;this.leaveActiveClass?this.animating||(this.animating=!0,W.p.addClass(this.target,this.leaveActiveClass),this.leaveClass&&W.p.removeClass(this.target,this.leaveClass),this.leaveListener=this.renderer.listen(this.target,"animationend",function(){W.p.removeClass(P.target,P.leaveActiveClass),P.leaveToClass&&W.p.addClass(P.target,P.leaveToClass),P.leaveListener&&P.leaveListener(),P.animating=!1})):(this.leaveClass&&W.p.removeClass(this.target,this.leaveClass),this.leaveToClass&&W.p.addClass(this.target,this.leaveToClass)),this.hideOnOutsideClick&&this.unbindDocumentClickListener(),this.hideOnEscape&&this.unbindDocumentKeydownListener()}},{key:"resolveTarget",value:function(){if(this.target)return this.target;switch(this.selector){case"@next":return this.el.nativeElement.nextElementSibling;case"@prev":return this.el.nativeElement.previousElementSibling;case"@parent":return this.el.nativeElement.parentElement;case"@grandparent":return this.el.nativeElement.parentElement.parentElement;default:return document.querySelector(this.selector)}}},{key:"bindDocumentClickListener",value:function(){var P=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el.nativeElement.ownerDocument,"click",function(pe){P.isVisible()&&"static"!==getComputedStyle(P.target).getPropertyValue("position")?P.isOutsideClick(pe)&&P.leave():P.unbindDocumentClickListener()}))}},{key:"bindDocumentKeydownListener",value:function(){var P=this;this.documentKeydownListener||this.zone.runOutsideAngular(function(){P.documentKeydownListener=P.renderer.listen(P.el.nativeElement.ownerDocument,"keydown",function(pe){var B=pe.key,Ze=pe.keyCode,_e=pe.which;(!P.isVisible()||"static"===getComputedStyle(P.target).getPropertyValue("position"))&&P.unbindDocumentKeydownListener(),P.isVisible()&&"Escape"===B&&27===Ze&&27===_e&&P.leave()})})}},{key:"isVisible",value:function(){return null!==this.target.offsetParent}},{key:"isOutsideClick",value:function(P){return!this.el.nativeElement.isSameNode(P.target)&&!this.el.nativeElement.contains(P.target)&&!this.target.contains(P.target)}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"unbindDocumentKeydownListener",value:function(){this.documentKeydownListener&&(this.documentKeydownListener(),this.documentKeydownListener=null)}},{key:"ngOnDestroy",value:function(){this.target=null,this.eventListener&&this.eventListener(),this.unbindDocumentClickListener(),this.unbindDocumentKeydownListener()}}]),U}();return(0,k.Z)(H,"\u0275fac",function(R){return new(R||H)(fe.Y36(fe.SBq),fe.Y36(fe.Qsj),fe.Y36(fe.R0b))}),(0,k.Z)(H,"\u0275dir",fe.lG2({type:H,selectors:[["","pStyleClass",""]],hostAttrs:[1,"p-element"],hostBindings:function(R,P){1&R&&fe.NdJ("click",function(B){return P.clickListener(B)})},inputs:{selector:["pStyleClass","selector"],enterClass:"enterClass",enterActiveClass:"enterActiveClass",enterToClass:"enterToClass",leaveClass:"leaveClass",leaveActiveClass:"leaveActiveClass",leaveToClass:"leaveToClass",hideOnOutsideClick:"hideOnOutsideClick",toggleClass:"toggleClass",hideOnEscape:"hideOnEscape"}})),H}(),ne=function(){var H=(0,E.Z)(function U(){(0,T.Z)(this,U)});return(0,k.Z)(H,"\u0275fac",function(R){return new(R||H)}),(0,k.Z)(H,"\u0275mod",fe.oAB({type:H})),(0,k.Z)(H,"\u0275inj",fe.cJS({imports:[re.ez]})),H}()}}]);