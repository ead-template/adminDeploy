"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[453],{1453:(Q,P,s)=>{s.r(P),s.d(P,{MaintenanceModule:()=>Xe});var h=s(3144),_=s(5671),p=s(6814),Z=s(5828),k=s(7685),e=s(6954),g=s(553),O=s(9862),E=function(){var n=function(){function o(t){(0,_.Z)(this,o),this.http=t,this.apiContext=g.N.apiUrl,this.actuatorUrl="".concat(this.apiContext,"/actuator")}return(0,h.Z)(o,[{key:"getHealth",value:function(){return this.http.get("".concat(this.actuatorUrl,"/health"))}},{key:"getActuator",value:function(){return this.http.get("".concat(this.actuatorUrl))}},{key:"getInfo",value:function(){return this.http.get("".concat(this.actuatorUrl,"/info"))}},{key:"getMetrics",value:function(){return this.http.get("".concat(this.actuatorUrl,"/metrics"))}},{key:"getEndpointData",value:function(i){return this.http.get(i)}},{key:"getSwaggerUrl",value:function(){return"".concat(g.N.apiContext,"/swagger-ui/index.html")}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),D=s(6593),y=s(6896),b=s(5431),C=s(5219),u=s(4844),T=s(7213),A=s(707);function w(n,o){1&n&&e._UZ(0,"div",9)}function I(n,o){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){var t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.description)}}function B(n,o){if(1&n&&(e.TgZ(0,"section",11),e._UZ(1,"ngx-json-viewer",12),e.qZA()),2&n){var t=e.oxw().$implicit,i=e.oxw();e.xp6(1),e.Q6J("json",t.value)("expanded",i.expanded)("depth",i.depth)("_currentDepth",i._currentDepth+1)}}var K=function(o){return["segment",o]},Y=function(o,t){return{"segment-main":!0,expandable:o,expanded:t}};function L(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"section",2)(1,"section",3),e.NdJ("click",function(){var l=e.CHM(t).$implicit,f=e.oxw();return e.KtG(f.toggle(l))}),e.YNc(2,w,1,0,"div",4),e.TgZ(3,"span",5),e._uU(4),e.qZA(),e.TgZ(5,"span",6),e._uU(6,": "),e.qZA(),e.YNc(7,I,2,1,"span",7),e.qZA(),e.YNc(8,B,2,4,"section",8),e.qZA()}if(2&n){var i=o.$implicit,a=e.oxw();e.Q6J("ngClass",e.VKq(6,K,"segment-type-"+i.type)),e.xp6(1),e.Q6J("ngClass",e.WLB(8,Y,a.isExpandable(i),i.expanded)),e.xp6(1),e.Q6J("ngIf",a.isExpandable(i)),e.xp6(2),e.Oqu(i.key),e.xp6(3),e.Q6J("ngIf",!i.expanded||!a.isExpandable(i)),e.xp6(1),e.Q6J("ngIf",i.expanded&&a.isExpandable(i))}}var q=function(){var n=function(){function o(){(0,_.Z)(this,o),this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]}return(0,h.Z)(o,[{key:"ngOnChanges",value:function(){var i=this;this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(function(a){i.segments.push(i.parseKeyValue(a,i.json[a]))}):this.segments.push(this.parseKeyValue("(".concat(typeof this.json,")"),this.json))}},{key:"isExpandable",value:function(i){return"object"===i.type||"array"===i.type}},{key:"toggle",value:function(i){this.isExpandable(i)&&(i.expanded=!i.expanded)}},{key:"parseKeyValue",value:function(i,a){var r={key:i,value:a,type:void 0,description:""+a,expanded:this.isExpanded()};switch(typeof r.value){case"number":r.type="number";break;case"boolean":r.type="boolean";break;case"function":r.type="function";break;case"string":r.type="string",r.description='"'+r.value+'"';break;case"undefined":r.type="undefined",r.description="undefined";break;case"object":null===r.value?(r.type="null",r.description="null"):Array.isArray(r.value)?(r.type="array",r.description="Array["+r.value.length+"] "+JSON.stringify(r.value)):r.value instanceof Date?r.type="date":(r.type="object",r.description="Object "+JSON.stringify(r.value))}return r}},{key:"isExpanded",value:function(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}},{key:"decycle",value:function(i){var a=new WeakMap;return function r(c,l){var f,m;return"object"!=typeof c||null===c||c instanceof Boolean||c instanceof Date||c instanceof Number||c instanceof RegExp||c instanceof String?c:void 0!==(f=a.get(c))?{$ref:f}:(a.set(c,l),Array.isArray(c)?(m=[],c.forEach(function(M,U){m[U]=r(M,l+"["+U+"]")})):(m={},Object.keys(c).forEach(function(M){m[M]=r(c[M],l+"["+JSON.stringify(M)+"]")})),m)}(i,"$")}}]),o}();return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},features:[e.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(t,i){1&t&&(e.TgZ(0,"section",0),e.YNc(1,L,9,11,"section",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.segments))},dependencies:[p.mk,p.sg,p.O5,n],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),n}(),V=function(){var n=(0,h.Z)(function o(){(0,_.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez]}),n}();function R(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Endpoint"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Link"),e.qZA()())}function $(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"tr",12)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",13),e.NdJ("click",function(){var c=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.fetchEndpointData(c.value.href))}),e._uU(5),e.qZA()()()}if(2&n){var i=o.$implicit;e.xp6(2),e.Oqu(i.key),e.xp6(3),e.Oqu(i.value.href)}}function G(n,o){1&n&&(e.TgZ(0,"tr",12)(1,"th"),e._uU(2,"Component"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Status"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Details"),e.qZA()())}function z(n,o){if(1&n){var t=e.EpF();e.ynx(0),e.TgZ(1,"button",17),e.NdJ("click",function(){e.CHM(t);var a=e.oxw().$implicit,r=e.oxw();return e.KtG(r.showComponentDetails(a.value.details))}),e.qZA(),e.BQk()}}function W(n,o){1&n&&e._UZ(0,"i",18)}var X=function(o,t){return{"status-qualified":o,"status-unqualified":t}};function ee(n,o){if(1&n&&(e.TgZ(0,"tr",12)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"span",14),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e.YNc(7,z,2,0,"ng-container",15),e.YNc(8,W,1,0,"ng-template",null,16,e.W1O),e.qZA()()),2&n){var t=o.$implicit,i=e.MAs(9);e.xp6(2),e.Oqu(t.key),e.xp6(2),e.Q6J("ngClass",e.WLB(5,X,"UP"==(null==t||null==t.value?null:t.value.status),"DOWN"==(null==t||null==t.value?null:t.value.status))),e.xp6(1),e.Oqu(null==t||null==t.value?null:t.value.status),e.xp6(2),e.Q6J("ngIf",null==t||null==t.value?null:t.value.details)("ngIfElse",i)}}function ne(n,o){if(1&n&&e._UZ(0,"ngx-json-viewer",19),2&n){var t=e.oxw();e.Q6J("json",t.detailsData)}}function te(n,o){if(1&n&&e._UZ(0,"ngx-json-viewer",19),2&n){var t=e.oxw();e.Q6J("json",t.endpointData)}}var ie=function(o,t){return{"customer-badge status-qualified":o,"customer-badge status-unqualified":t}},oe=function(){return{width:"50vw"}},ae=function(){var n=function(){function o(t,i,a){(0,_.Z)(this,o),this.maintenanceService=t,this.sanitizer=i,this.notificacaoService=a,this.actuatorData=[],this.showDialog=!1,this.endpointDataArray=null,this.swaggerUrl=null}return(0,h.Z)(o,[{key:"ngOnInit",value:function(){var i=this.maintenanceService.getSwaggerUrl();this.swaggerUrl=this.sanitizer.bypassSecurityTrustResourceUrl(i),this.getActuatorData()}},{key:"getActuatorData",value:function(){var i=this;this.maintenanceService.getActuator().subscribe(function(a){i.actuatorData=Object.entries(a._links).map(function(r){var c=(0,k.Z)(r,2);return{key:c[0],value:c[1]}})})}},{key:"getHealthData",value:function(){var i=this;this.maintenanceService.getHealth().subscribe(function(a){i.healthData=a})}},{key:"fetchEndpointData",value:function(i){var a=this;this.maintenanceService.getEndpointData(i).subscribe(function(r){a.endpointData=r,a.endpointDataArray=Object.entries(r).map(function(c){var l=(0,k.Z)(c,2),f=l[0],m=l[1];return"object"==typeof m&&null!==m&&(m=JSON.stringify(m,null,2)),{key:f,value:m}}),a.endpointDataArray&&a.endpointDataArray.length>0?a.showDialog=!0:a.notificacaoService.showInfo("Info","Nenhum dado encontrado")})}},{key:"showComponentDetails",value:function(i){this.detailsData=i,this.showDialog=!0}},{key:"isJson",value:function(i){try{JSON.parse(i)}catch{return!1}return!0}},{key:"handleTabChange",value:function(i){1===i.index&&this.getHealthData()}},{key:"parseJson",value:function(i){return JSON.parse(i)}},{key:"closeModal",value:function(){this.detailsData={},this.endpointData={},this.showDialog=!1}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(E),e.Y36(D.H7),e.Y36(y.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-maintenance"]],decls:23,vars:17,consts:[[3,"onChange"],["header","Actuator Data"],[1,"p-datatable-striped","animate-fade-in",3,"value"],["pTemplate","header"],["pTemplate","body"],["header","Health Data"],[3,"ngClass"],["header","Swagger UI"],[2,"width","100%","height","600px",3,"src"],["header","Endpoint Data",3,"visible","modal","visibleChange"],[3,"json",4,"ngIf"],["type","button","pButton","","icon","pi pi-check","label","OK",3,"click"],[1,"zebrado"],[3,"click"],[1,"customer-badge",3,"ngClass"],[4,"ngIf","ngIfElse"],["noDetails",""],["pButton","","pRipple","","type","button","icon","pi pi-info",1,"p-button-rounded","p-button-success","p-button-outlined",3,"click"],[1,"pi","pi-exclamation-circle",2,"color","#888"],[3,"json"]],template:function(t,i){1&t&&(e.TgZ(0,"p-tabView",0),e.NdJ("onChange",function(r){return i.handleTabChange(r)}),e.TgZ(1,"p-tabPanel",1)(2,"p-table",2),e.YNc(3,R,5,0,"ng-template",3),e.YNc(4,$,6,2,"ng-template",4),e.qZA()(),e.TgZ(5,"p-tabPanel",5)(6,"p"),e._uU(7,"Overall Status: "),e.TgZ(8,"span",6),e._uU(9),e.qZA()(),e.TgZ(10,"h3"),e._uU(11,"Component Status"),e.qZA(),e.TgZ(12,"p-table",2),e.ALo(13,"keyvalue"),e.YNc(14,G,7,0,"ng-template",3),e.YNc(15,ee,10,8,"ng-template",4),e.qZA()(),e.TgZ(16,"p-tabPanel",7),e._UZ(17,"iframe",8),e.qZA()(),e.TgZ(18,"p-dialog",9),e.NdJ("visibleChange",function(r){return i.showDialog=r}),e.YNc(19,ne,1,1,"ngx-json-viewer",10),e.YNc(20,te,1,1,"ngx-json-viewer",10),e.TgZ(21,"p-footer")(22,"button",11),e.NdJ("click",function(){return i.closeModal()}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("value",i.actuatorData),e.xp6(6),e.Q6J("ngClass",e.WLB(13,ie,"UP"==(null==i.healthData?null:i.healthData.status),"DOWN"==(null==i.healthData?null:i.healthData.status))),e.xp6(1),e.Oqu(null==i.healthData?null:i.healthData.status),e.xp6(3),e.Q6J("value",e.lcZ(13,11,null==i.healthData?null:i.healthData.components)),e.xp6(5),e.Q6J("src",i.swaggerUrl,e.uOi),e.xp6(1),e.Akn(e.DdM(16,oe)),e.Q6J("visible",i.showDialog)("modal",!0),e.xp6(1),e.Q6J("ngIf",i.detailsData),e.xp6(1),e.Q6J("ngIf",!i.detailsData&&i.endpointData))},dependencies:[p.mk,p.O5,b.iA,C.$_,C.jx,u.xf,u.x4,T.V,A.Hq,q,p.Nd]}),n}(),re=(0,h.Z)(function n(){(0,_.Z)(this,n)}),ce=function(){function n(o,t,i){(0,_.Z)(this,n),this.configuracoes=[],this.nome=o,this.codigo=t,this.configuracoes=i||this.configuracoes}return(0,h.Z)(n,[{key:"addConfiguracao",value:function(t){this.configuracoes.push(t)}}]),n}(),S=(0,h.Z)(function n(o){(0,_.Z)(this,n),this.codigo=o.codigo,this.valor=o.valor,this.descricao=o.descricao,this.nome=o.nome,this.grupo=o.grupo,this.codigoGrupo=o.codigoGrupo}),v=s(6223),se=function(){var n=function(){function o(t){(0,_.Z)(this,o),this.httpClient=t,this.baseUrl="".concat(g.N.apiContext,"/configuracao")}return(0,h.Z)(o,[{key:"listar",value:function(i){var a=new O.LE;return i&&Object.keys(i).forEach(function(r){var c=i[r];null!=c&&(a=a.append(r,c.toString()))}),this.httpClient.get(this.baseUrl,{params:a})}},{key:"create",value:function(i){return this.httpClient.post(this.baseUrl,i)}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n}(),j=s(4532),F=s(7161),d=s(4942),x=s(6825),N=s(1604),J=s(3983),H=s(4480),le=s(2332);function de(n,o){1&n&&e._UZ(0,"PlusIcon",11),2&n&&(e.Q6J("styleClass","p-fieldset-toggler"),e.uIk("data-pc-section","togglericon"))}function ge(n,o){1&n&&e.GkF(0)}function pe(n,o){if(1&n&&(e.TgZ(0,"span",12),e.YNc(1,ge,1,0,"ng-container",6),e.qZA()),2&n){var t=e.oxw(3);e.uIk("data-pc-section","togglericon"),e.xp6(1),e.Q6J("ngTemplateOutlet",t.expandIconTemplate)}}function ue(n,o){if(1&n&&(e.ynx(0),e.YNc(1,de,1,2,"PlusIcon",9),e.YNc(2,pe,2,2,"span",10),e.BQk()),2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.expandIconTemplate),e.xp6(1),e.Q6J("ngIf",t.expandIconTemplate)}}function fe(n,o){1&n&&e._UZ(0,"MinusIcon",11),2&n&&(e.Q6J("styleClass","p-fieldset-toggler"),e.uIk("aria-hidden",!0)("data-pc-section","togglericon"))}function me(n,o){1&n&&e.GkF(0)}function he(n,o){if(1&n&&(e.TgZ(0,"span",12),e.YNc(1,me,1,0,"ng-container",6),e.qZA()),2&n){var t=e.oxw(3);e.uIk("data-pc-section","togglericon"),e.xp6(1),e.Q6J("ngTemplateOutlet",t.collapseIconTemplate)}}function _e(n,o){if(1&n&&(e.ynx(0),e.YNc(1,fe,1,3,"MinusIcon",9),e.YNc(2,he,2,2,"span",10),e.BQk()),2&n){var t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.collapseIconTemplate),e.xp6(1),e.Q6J("ngIf",t.collapseIconTemplate)}}function ve(n,o){1&n&&e.GkF(0)}function Ce(n,o){if(1&n){var t=e.EpF();e.ynx(0),e.TgZ(1,"a",7),e.NdJ("click",function(c){e.CHM(t);var l=e.oxw();return e.KtG(l.toggle(c))})("keydown",function(c){e.CHM(t);var l=e.oxw();return e.KtG(l.onKeyDown(c))}),e.YNc(2,ue,3,2,"ng-container",8),e.YNc(3,_e,3,2,"ng-container",8),e.YNc(4,ve,1,0,"ng-container",6),e.qZA(),e.BQk()}if(2&n){var i=e.oxw(),a=e.MAs(4);e.xp6(1),e.uIk("id",i.id+"_header")("aria-controls",i.id+"_content")("aria-expanded",!i.collapsed)("aria-label",i.buttonAriaLabel),e.xp6(1),e.Q6J("ngIf",i.collapsed),e.xp6(1),e.Q6J("ngIf",!i.collapsed),e.xp6(1),e.Q6J("ngTemplateOutlet",a)}}function ye(n,o){1&n&&e.GkF(0)}function xe(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA(),e.Hsn(2,1),e.YNc(3,ye,1,0,"ng-container",6)),2&n){var t=e.oxw();e.uIk("data-pc-section","legendtitle"),e.xp6(1),e.Oqu(t.legend),e.xp6(2),e.Q6J("ngTemplateOutlet",t.headerTemplate)}}function be(n,o){1&n&&e.GkF(0)}var Te=["*",[["p-header"]]],Ae=function(o,t){return{"p-fieldset p-component":!0,"p-fieldset-toggleable":o,"p-fieldset-expanded":t}},Me=function(o){return{transitionParams:o,height:"0"}},Ie=function(o){return{value:"hidden",params:o}},Oe=function(o){return{transitionParams:o,height:"*"}},Pe=function(o){return{value:"visible",params:o}},Ze=["*","p-header"],ke=function(){var n=function(){function o(t){(0,_.Z)(this,o),(0,d.Z)(this,"el",void 0),(0,d.Z)(this,"legend",void 0),(0,d.Z)(this,"toggleable",void 0),(0,d.Z)(this,"collapsed",!1),(0,d.Z)(this,"style",void 0),(0,d.Z)(this,"styleClass",void 0),(0,d.Z)(this,"transitionOptions","400ms cubic-bezier(0.86, 0, 0.07, 1)"),(0,d.Z)(this,"collapsedChange",new e.vpe),(0,d.Z)(this,"onBeforeToggle",new e.vpe),(0,d.Z)(this,"onAfterToggle",new e.vpe),(0,d.Z)(this,"templates",void 0),(0,d.Z)(this,"animating",void 0),(0,d.Z)(this,"headerTemplate",void 0),(0,d.Z)(this,"contentTemplate",void 0),(0,d.Z)(this,"collapseIconTemplate",void 0),(0,d.Z)(this,"expandIconTemplate",void 0),this.el=t}return(0,h.Z)(o,[{key:"id",get:function(){return(0,le.Th)()}},{key:"buttonAriaLabel",get:function(){return this.legend}},{key:"ngAfterContentInit",value:function(){var i=this;this.templates.forEach(function(a){switch(a.getType()){case"header":i.headerTemplate=a.template;break;case"expandicon":i.expandIconTemplate=a.template;break;case"collapseicon":i.collapseIconTemplate=a.template;break;case"content":i.contentTemplate=a.template}})}},{key:"toggle",value:function(i){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:i,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),this.onAfterToggle.emit({originalEvent:i,collapsed:this.collapsed}),i.preventDefault()}},{key:"onKeyDown",value:function(i){("Enter"===i.code||"Space"===i.code)&&(this.toggle(i),i.preventDefault())}},{key:"expand",value:function(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}},{key:"collapse",value:function(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"onToggleDone",value:function(){this.animating=!1}}]),o}();return(0,d.Z)(n,"\u0275fac",function(t){return new(t||n)(e.Y36(e.SBq))}),(0,d.Z)(n,"\u0275cmp",e.Xpm({type:n,selectors:[["p-fieldset"]],contentQueries:function(t,i,a){var r;1&t&&e.Suo(a,C.jx,4),2&t&&e.iGM(r=e.CRH())&&(i.templates=r)},hostAttrs:[1,"p-element"],inputs:{legend:"legend",toggleable:"toggleable",collapsed:"collapsed",style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Ze,decls:9,vars:28,consts:[[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["legendContent",""],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["pRipple","","tabindex","0","role","button",3,"click","keydown"],[4,"ngIf"],[3,"styleClass",4,"ngIf"],["class","p-fieldset-toggler",4,"ngIf"],[3,"styleClass"],[1,"p-fieldset-toggler"],[1,"p-fieldset-legend-text"]],template:function(t,i){if(1&t&&(e.F$t(Te),e.TgZ(0,"fieldset",0)(1,"legend",1),e.YNc(2,Ce,5,7,"ng-container",2),e.YNc(3,xe,4,3,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"div",4),e.NdJ("@fieldsetContent.done",function(){return i.onToggleDone()}),e.TgZ(6,"div",5),e.Hsn(7),e.YNc(8,be,1,0,"ng-container",6),e.qZA()()()),2&t){var a=e.MAs(4);e.Tol(i.styleClass),e.Q6J("ngClass",e.WLB(17,Ae,i.toggleable,!i.collapsed&&i.toggleable))("ngStyle",i.style),e.uIk("id",i.id)("data-pc-name","fieldset")("data-pc-section","root"),e.xp6(1),e.uIk("data-pc-section","legend"),e.xp6(1),e.Q6J("ngIf",i.toggleable)("ngIfElse",a),e.xp6(3),e.Q6J("@fieldsetContent",i.collapsed?e.VKq(22,Ie,e.VKq(20,Me,i.transitionOptions)):e.VKq(26,Pe,e.VKq(24,Oe,i.animating?i.transitionOptions:"0ms"))),e.uIk("id",i.id+"_content")("aria-labelledby",i.id+"_header")("aria-hidden",i.collapsed)("data-pc-section","toggleablecontent"),e.xp6(1),e.uIk("data-pc-section","content"),e.xp6(2),e.Q6J("ngTemplateOutlet",i.contentTemplate)}},dependencies:function(){return[p.mk,p.O5,p.tP,p.PC,H.H,N.V,J.p]},styles:[".p-fieldset-legend>a,.p-fieldset-legend>span{display:flex;align-items:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}.p-fieldset-toggleable.p-fieldset-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-fieldset-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,x.X$)("fieldsetContent",[(0,x.SB)("hidden",(0,x.oB)({height:"0"})),(0,x.SB)("visible",(0,x.oB)({height:"*"})),(0,x.eR)("visible <=> hidden",[(0,x.jt)("{{transitionParams}}")]),(0,x.eR)("void => *",(0,x.jt)(0))])]},changeDetection:0})),n}(),we=function(){var n=(0,h.Z)(function o(){(0,_.Z)(this,o)});return(0,d.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,d.Z)(n,"\u0275mod",e.oAB({type:n})),(0,d.Z)(n,"\u0275inj",e.cJS({imports:[p.ez,H.T,N.V,J.p,C.m8]})),n}();function Ee(n,o){if(1&n&&e._UZ(0,"p-message",22),2&n){var t=e.oxw().$implicit;e.s9C("text",t.mensagemErro)}}function De(n,o){if(1&n&&e._UZ(0,"p-message",23),2&n){var t=e.oxw().$implicit;e.s9C("text",t.mensagemSucesso)}}function Se(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"div",16)(1,"p-fieldset",17)(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"div",18)(5,"span",19),e._uU(6),e.qZA(),e.TgZ(7,"input",20),e.NdJ("ngModelChange",function(c){var l=e.CHM(t);return e.KtG(l.$implicit.valor=c)}),e.qZA(),e.TgZ(8,"button",21),e.NdJ("click",function(){var c=e.CHM(t),l=c.$implicit,f=c.index,m=e.oxw().index,M=e.oxw();return e.KtG(M.submitConfig(l,m,f))}),e.qZA()(),e.YNc(9,Ee,1,1,"p-message",14),e.YNc(10,De,1,1,"p-message",15),e.qZA()()}if(2&n){var i=o.$implicit,a=o.index;e.xp6(1),e.s9C("legend",i.nome),e.xp6(2),e.Oqu(i.descricao),e.xp6(3),e.Oqu(i.codigo),e.xp6(1),e.MGl("name","name",a,""),e.Q6J("ngModel",i.valor),e.xp6(2),e.Q6J("ngIf",i.mensagemErro),e.xp6(1),e.Q6J("ngIf",i.mensagemSucesso)}}function je(n,o){if(1&n&&e._UZ(0,"p-message",22),2&n){var t=e.oxw().$implicit;e.s9C("text",t.mensagemErro)}}function Fe(n,o){if(1&n&&e._UZ(0,"p-message",23),2&n){var t=e.oxw().$implicit;e.s9C("text",t.mensagemSucesso)}}function Ne(n,o){if(1&n){var t=e.EpF();e.TgZ(0,"form",10),e.NdJ("submit",function(){var r=e.CHM(t),c=r.$implicit,l=r.index,f=e.oxw();return e.KtG(f.submitConfigAll(c,l))}),e.TgZ(1,"p-card")(2,"h4")(3,"strong"),e._uU(4),e.ALo(5,"titlecase"),e.qZA()(),e.YNc(6,Se,11,7,"div",11),e.TgZ(7,"div",12),e._UZ(8,"button",13),e.qZA(),e.YNc(9,je,1,1,"p-message",14),e.YNc(10,Fe,1,1,"p-message",15),e.qZA()()}if(2&n){var i=o.$implicit;e.xp6(4),e.Oqu(e.lcZ(5,4,i.codigo)),e.xp6(2),e.Q6J("ngForOf",i.configuracoes),e.xp6(3),e.Q6J("ngIf",i.mensagemErro),e.xp6(1),e.Q6J("ngIf",i.mensagemSucesso)}}var He=[{path:"",component:ae},{path:"config",component:function(){var n=function(){function o(t,i){(0,_.Z)(this,o),this.notificacaoService=t,this.configuracaoService=i,this.grupos=[],this.parametrosGet=new re,this.parametrosPost=[],this.mensagemErro=null,this.mensagemSucesso=null,this.columns=[{field:"codigo",header:"C\xf3digo"},{field:"valor",header:"Valor"},{field:"descricao",header:"Descri\xe7\xe3o"},{field:"nome",header:"Nome"},{field:"grupo",header:"Grupo"}],this.searchForm=new v.cw({codigo:new v.NI(null),grupo:new v.NI(null)}),this.isLoading=!1}return(0,h.Z)(o,[{key:"ngOnInit",value:function(){this.loadConfig()}},{key:"loadConfig",value:function(){var i=this;this.configuracaoService.listar(this.parametrosGet).subscribe({next:function(r){i.notificacaoService.showSuccess("Success","Configura\xe7\xf5es carregadas com sucesso"),i.grupos=i.splitConfiguracoesInGrupos(r)},error:function(r){i.notificacaoService.showError("Error",r&&r.message?r.message:"N\xe3o foi poss\xedvel buscar as configura\xe7\xf5es ! Tente novamente mais tarde")}})}},{key:"onSearch",value:function(i){this.parametrosGet.codigo=i.codigo,this.parametrosGet.grupo=i.grupo,this.loadConfig()}},{key:"splitConfiguracoesInGrupos",value:function(i){var a=new Array;return i.forEach(function(r){var c=a.findIndex(function(l){return l.codigo===r.codigoGrupo});-1==c?a.push(new ce(r.nome,r.codigoGrupo,[new S(r)])):a[c].configuracoes.push(new S(r))}),console.log(a),a}},{key:"submitConfig",value:function(i,a,r){var c=this,l=new S(i);this.configuracaoService.create([l]).subscribe({next:function(){c.notificacaoService.showSuccess("Sucesso","Configura\xe7\xe3o atualizada com sucesso"),c.loadConfig(),c.grupos[a].configuracoes[r].mensagemErro=null,c.grupos[a].configuracoes[r].mensagemSucesso="Configura\xe7\xe3o alterada com sucesso.",setTimeout(function(){c.grupos[a].configuracoes[r].mensagemSucesso=null},3e3)},error:function(m){c.notificacaoService.showError("Error",m&&m.message?m.message:"N\xe3o foi poss\xedvel alterar a configura\xe7\xe3o ! Tente novamente mais tarde"),c.grupos[a].configuracoes[r].mensagemErro="N\xe3o foi poss\xedvel alterar a configura\xe7\xe3o",c.grupos[a].configuracoes[r].mensagemSucesso=null,setTimeout(function(){c.grupos[a].configuracoes[r].mensagemErro=null},3e3)}})}},{key:"submitConfigAll",value:function(i,a){var r=this;this.configuracaoService.create(i.configuracoes).subscribe({next:function(){r.notificacaoService.showSuccess("Sucesso","Configura\xe7\xf5es atualizadas com sucesso"),r.loadConfig(),r.grupos[a].mensagemErro=null,r.grupos[a].mensagemSucesso="Configura\xe7\xf5es alterada com sucesso.",setTimeout(function(){r.grupos[a].mensagemSucesso=null},3e3)},error:function(l){r.notificacaoService.showError("Error",l&&l.message?l.message:"N\xe3o foi poss\xedvel alterar as configura\xe7\xf5es ! Tente novamente mais tarde"),r.grupos[a].mensagemErro="N\xe3o foi poss\xedvel alterar a configura\xe7\xe3o",r.grupos[a].mensagemSucesso=null,setTimeout(function(){r.mensagemErro=null},3e3)}})}}]),o}();return n.\u0275fac=function(t){return new(t||n)(e.Y36(y.g),e.Y36(se))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-config"]],decls:15,vars:4,consts:[[1,"card"],[1,"formgroup-inline",3,"formGroup","ngSubmit"],[1,"field"],["for","codigo",1,"p-sr-only"],["id","codigo","formControlName","codigo","pInputText","","placeholder","Codigo da Configura\xe7\xe3o",1,"p-2"],["for","grupo",1,"p-sr-only"],["id","grupo","formControlName","grupo","pInputText","","placeholder","Gruopo da Configura\xe7\xe3o",1,"p-2"],["type","submit","label","Buscar",3,"disabled","loading"],[1,"p-grid"],["class","p-col-12 p-md-6",3,"submit",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6",3,"submit"],["class","p-mb-3",4,"ngFor","ngForOf"],[1,"p-text-center"],["pButton","","type","submit","label","Atualizar todos",1,"p-button-primary"],["severity","warn",3,"text",4,"ngIf"],["severity","success",3,"text",4,"ngIf"],[1,"p-mb-3"],[3,"legend"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],["type","text","pInputText","","placeholder","Valor",3,"ngModel","name","ngModelChange"],["pButton","","type","button","label","Atualizar",1,"p-button-link",3,"click"],["severity","warn",3,"text"],["severity","success",3,"text"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"Configura\xe7\xf5es"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return i.onSearch(i.searchForm.value)}),e.TgZ(4,"div",2)(5,"label",3),e._uU(6,"Codigo"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"div",2)(9,"label",5),e._uU(10,"Grupo"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e._UZ(12,"p-button",7),e.qZA()(),e.TgZ(13,"div",8),e.YNc(14,Ne,11,6,"form",9),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",i.searchForm),e.xp6(9),e.Q6J("disabled",!i.searchForm.valid||i.isLoading)("loading",i.isLoading),e.xp6(2),e.Q6J("ngForOf",i.grupos))},dependencies:[p.sg,p.O5,A.Hq,A.zx,v._Y,v.Fj,v.JJ,v.JL,v.sg,v.u,j.Z,v.On,v.F,F.q,ke,p.rS]}),n}()},{path:"**",redirectTo:"/notfound"}],Ue=function(){var n=(0,h.Z)(function o(){(0,_.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Z.Bz.forChild(He),Z.Bz]}),n}(),Qe=s(3965),Be=s(6005),Ke=s(4562),We=function(){var n=(0,h.Z)(function o(){(0,_.Z)(this,o)});return(0,d.Z)(n,"\u0275fac",function(t){return new(t||n)}),(0,d.Z)(n,"\u0275mod",e.oAB({type:n})),(0,d.Z)(n,"\u0275inj",e.cJS({imports:[p.ez,Ke.X,Be.v,C.m8]})),n}(),Xe=function(){var n=(0,h.Z)(function o(){(0,_.Z)(this,o)});return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,Ue,b.U$,u.LU,T.S,A.hJ,V,Qe.kW,v.UX,We,j.d,v.u5,F.O,we]}),n}()},3983:(Q,P,s)=>{s.d(P,{p:()=>D});var h=s(5671),_=s(3144),p=s(7326),Z=s(136),k=s(8486),e=s(4942),g=s(6954),O=s(4713),E=s(2332),D=function(){var y=function(b){(0,Z.Z)(u,b);var C=(0,k.Z)(u);function u(){var T;(0,h.Z)(this,u);for(var A=arguments.length,w=new Array(A),I=0;I<A;I++)w[I]=arguments[I];return T=C.call.apply(C,[this].concat(w)),(0,e.Z)((0,p.Z)(T),"pathId",void 0),T}return(0,_.Z)(u,[{key:"ngOnInit",value:function(){this.pathId="url(#"+(0,E.Th)()+")"}}]),u}(O.s);return(0,e.Z)(y,"\u0275fac",function(){var b;return function(u){return(b||(b=g.n5z(y)))(u||y)}}()),(0,e.Z)(y,"\u0275cmp",g.Xpm({type:y,selectors:[["PlusIcon"]],standalone:!0,features:[g.qOj,g.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(C,u){1&C&&(g.O4$(),g.TgZ(0,"svg",0)(1,"g"),g._UZ(2,"path",1),g.qZA(),g.TgZ(3,"defs")(4,"clipPath",2),g._UZ(5,"rect",3),g.qZA()()()),2&C&&(g.Tol(u.getClassNames()),g.uIk("aria-label",u.ariaLabel)("aria-hidden",u.ariaHidden)("role",u.role),g.xp6(1),g.uIk("clip-path",u.pathId),g.xp6(3),g.Q6J("id",u.pathId))},encapsulation:2})),y}()}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="39aa45d8-43b0-5fdc-8c72-a29f0cccfd8a")}catch(e){}}();
//# debugId=39aa45d8-43b0-5fdc-8c72-a29f0cccfd8a
