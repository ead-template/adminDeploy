"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[453],{1453:(B,A,l)=>{l.r(A),l.d(A,{MaintenanceModule:()=>Xe});var m=l(3144),h=l(5671),u=l(6814),Z=l(7795),k=l(7685),e=l(6954),p=l(553),P=l(9862),D=function(){var n,o=function(){function i(t){(0,h.Z)(this,i),this.http=t,this.apiContext=p.N.apiUrl,this.actuatorUrl="".concat(this.apiContext,"/actuator")}return(0,m.Z)(i,[{key:"getHealth",value:function(){return this.http.get("".concat(this.actuatorUrl,"/health"))}},{key:"getActuator",value:function(){return this.http.get("".concat(this.actuatorUrl))}},{key:"getInfo",value:function(){return this.http.get("".concat(this.actuatorUrl,"/info"))}},{key:"getMetrics",value:function(){return this.http.get("".concat(this.actuatorUrl,"/metrics"))}},{key:"getEndpointData",value:function(a){return this.http.get(a)}},{key:"getSwaggerUrl",value:function(){return"".concat(p.N.apiContext,"/swagger-ui/index.html")}}]),i}();return(n=o).\u0275fac=function(t){return new(t||n)(e.LFG(P.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),o}(),S=l(6593),M=l(6896),I=l(5431),y=l(5219),x=l(4844),f=l(7213),b=l(707);function w(n,o){1&n&&e._UZ(0,"div",9)}function E(n,o){if(1&n&&(e.TgZ(0,"span",10),e._uU(1),e.qZA()),2&n){var i=e.oxw().$implicit;e.xp6(1),e.Oqu(i.description)}}function O(n,o){if(1&n&&(e.TgZ(0,"section",11),e._UZ(1,"ngx-json-viewer",12),e.qZA()),2&n){var i=e.oxw().$implicit,t=e.oxw();e.xp6(1),e.Q6J("json",i.value)("expanded",t.expanded)("depth",t.depth)("_currentDepth",t._currentDepth+1)}}var K=function(o){return["segment",o]},Y=function(o,i){return{"segment-main":!0,expandable:o,expanded:i}};function L(n,o){if(1&n){var i=e.EpF();e.TgZ(0,"section",2)(1,"section",3),e.NdJ("click",function(){var r=e.CHM(i).$implicit,d=e.oxw();return e.KtG(d.toggle(r))}),e.YNc(2,w,1,0,"div",4),e.TgZ(3,"span",5),e._uU(4),e.qZA(),e.TgZ(5,"span",6),e._uU(6,": "),e.qZA(),e.YNc(7,E,2,1,"span",7),e.qZA(),e.YNc(8,O,2,4,"section",8),e.qZA()}if(2&n){var t=o.$implicit,a=e.oxw();e.Q6J("ngClass",e.VKq(6,K,"segment-type-"+t.type)),e.xp6(1),e.Q6J("ngClass",e.WLB(8,Y,a.isExpandable(t),t.expanded)),e.xp6(1),e.Q6J("ngIf",a.isExpandable(t)),e.xp6(2),e.Oqu(t.key),e.xp6(3),e.Q6J("ngIf",!t.expanded||!a.isExpandable(t)),e.xp6(1),e.Q6J("ngIf",t.expanded&&a.isExpandable(t))}}var q=function(){var n=function(){function o(){(0,h.Z)(this,o),this.expanded=!0,this.depth=-1,this._currentDepth=0,this.segments=[]}return(0,m.Z)(o,[{key:"ngOnChanges",value:function(){var t=this;this.segments=[],this.json=this.decycle(this.json),"object"==typeof this.json?Object.keys(this.json).forEach(function(a){t.segments.push(t.parseKeyValue(a,t.json[a]))}):this.segments.push(this.parseKeyValue("(".concat(typeof this.json,")"),this.json))}},{key:"isExpandable",value:function(t){return"object"===t.type||"array"===t.type}},{key:"toggle",value:function(t){this.isExpandable(t)&&(t.expanded=!t.expanded)}},{key:"parseKeyValue",value:function(t,a){var s={key:t,value:a,type:void 0,description:""+a,expanded:this.isExpanded()};switch(typeof s.value){case"number":s.type="number";break;case"boolean":s.type="boolean";break;case"function":s.type="function";break;case"string":s.type="string",s.description='"'+s.value+'"';break;case"undefined":s.type="undefined",s.description="undefined";break;case"object":null===s.value?(s.type="null",s.description="null"):Array.isArray(s.value)?(s.type="array",s.description="Array["+s.value.length+"] "+JSON.stringify(s.value)):s.value instanceof Date?s.type="date":(s.type="object",s.description="Object "+JSON.stringify(s.value))}return s}},{key:"isExpanded",value:function(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)}},{key:"decycle",value:function(t){var a=new WeakMap;return function s(c,r){var d,v;return"object"!=typeof c||null===c||c instanceof Boolean||c instanceof Date||c instanceof Number||c instanceof RegExp||c instanceof String?c:void 0!==(d=a.get(c))?{$ref:d}:(a.set(c,r),Array.isArray(c)?(v=[],c.forEach(function(_,Q){v[Q]=s(_,r+"["+Q+"]")})):(v={},Object.keys(c).forEach(function(_){v[_]=s(c[_],r+"["+JSON.stringify(_)+"]")})),v)}(t,"$")}}]),o}();return n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-json-viewer"]],inputs:{json:"json",expanded:"expanded",depth:"depth",_currentDepth:"_currentDepth"},features:[e.TTD],decls:2,vars:1,consts:[[1,"ngx-json-viewer"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"ngClass","click"],["class","toggler",4,"ngIf"],[1,"segment-key"],[1,"segment-separator"],["class","segment-value",4,"ngIf"],["class","children",4,"ngIf"],[1,"toggler"],[1,"segment-value"],[1,"children"],[3,"json","expanded","depth","_currentDepth"]],template:function(i,t){1&i&&(e.TgZ(0,"section",0),e.YNc(1,L,9,11,"section",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngForOf",t.segments))},dependencies:[u.mk,u.sg,u.O5,n],styles:['@charset "UTF-8";.ngx-json-viewer[_ngcontent-%COMP%]{font-family:var(--ngx-json-font-family, monospace);font-size:var(--ngx-json-font-size, 1em);width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]{padding:2px;margin:1px 1px 1px 12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]{word-wrap:break-word}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:var(--ngx-json-toggler, #787878)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]:after{display:inline-block;content:"\\25ba";transition:transform .1s ease-in}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-key, #4E187C)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-separator[_ngcontent-%COMP%]{color:var(--ngx-json-separator, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .segment-main[_ngcontent-%COMP%]   .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-value, #000)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment[_ngcontent-%COMP%]   .children[_ngcontent-%COMP%]{margin-left:12px}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-string[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-string, #FF6B6B)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-number[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-number, #009688)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-boolean[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-boolean, #B938A4)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-date[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-date, #05668D)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-array, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-object, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-function[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-function, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-null, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{color:var(--ngx-json-undefined, #fff)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-null[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-null-bg, red)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-key[_ngcontent-%COMP%]{color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-undefined[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%] > .segment-value[_ngcontent-%COMP%]{background-color:var(--ngx-json-undefined-key, #999)}.ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-object[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .segment-type-array[_ngcontent-%COMP%] > .segment-main[_ngcontent-%COMP%]{white-space:nowrap}.ngx-json-viewer[_ngcontent-%COMP%]   .expanded[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%], .ngx-json-viewer[_ngcontent-%COMP%]   .expandable[_ngcontent-%COMP%] > .toggler[_ngcontent-%COMP%]{cursor:pointer}']}),n}(),V=function(){var n=(0,m.Z)(function o(){(0,h.Z)(this,o)});return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez]}),n}();function R(n,o){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Endpoint"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Link"),e.qZA()())}function $(n,o){if(1&n){var i=e.EpF();e.TgZ(0,"tr",12)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",13),e.NdJ("click",function(){var c=e.CHM(i).$implicit,r=e.oxw();return e.KtG(r.fetchEndpointData(c.value.href))}),e._uU(5),e.qZA()()()}if(2&n){var t=o.$implicit;e.xp6(2),e.Oqu(t.key),e.xp6(3),e.Oqu(t.value.href)}}function G(n,o){1&n&&(e.TgZ(0,"tr",12)(1,"th"),e._uU(2,"Component"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Status"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Details"),e.qZA()())}function z(n,o){if(1&n){var i=e.EpF();e.ynx(0),e.TgZ(1,"button",17),e.NdJ("click",function(){e.CHM(i);var a=e.oxw().$implicit,s=e.oxw();return e.KtG(s.showComponentDetails(a.value.details))}),e.qZA(),e.BQk()}}function W(n,o){1&n&&e._UZ(0,"i",18)}var X=function(o,i){return{"status-qualified":o,"status-unqualified":i}};function ee(n,o){if(1&n&&(e.TgZ(0,"tr",12)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"span",14),e._uU(5),e.qZA()(),e.TgZ(6,"td"),e.YNc(7,z,2,0,"ng-container",15),e.YNc(8,W,1,0,"ng-template",null,16,e.W1O),e.qZA()()),2&n){var i=o.$implicit,t=e.MAs(9);e.xp6(2),e.Oqu(i.key),e.xp6(2),e.Q6J("ngClass",e.WLB(5,X,"UP"==(null==i||null==i.value?null:i.value.status),"DOWN"==(null==i||null==i.value?null:i.value.status))),e.xp6(1),e.Oqu(null==i||null==i.value?null:i.value.status),e.xp6(2),e.Q6J("ngIf",null==i||null==i.value?null:i.value.details)("ngIfElse",t)}}function ne(n,o){if(1&n&&e._UZ(0,"ngx-json-viewer",19),2&n){var i=e.oxw();e.Q6J("json",i.detailsData)}}function te(n,o){if(1&n&&e._UZ(0,"ngx-json-viewer",19),2&n){var i=e.oxw();e.Q6J("json",i.endpointData)}}var ie=function(o,i){return{"customer-badge status-qualified":o,"customer-badge status-unqualified":i}},ae=function(){return{width:"50vw"}},oe=function(){var n,o=function(){function i(t,a,s){(0,h.Z)(this,i),this.maintenanceService=t,this.sanitizer=a,this.notificacaoService=s,this.actuatorData=[],this.showDialog=!1,this.endpointDataArray=null,this.swaggerUrl=null}return(0,m.Z)(i,[{key:"ngOnInit",value:function(){var a=this.maintenanceService.getSwaggerUrl();this.swaggerUrl=this.sanitizer.bypassSecurityTrustResourceUrl(a),this.getActuatorData()}},{key:"getActuatorData",value:function(){var a=this;this.maintenanceService.getActuator().subscribe(function(s){a.actuatorData=Object.entries(s._links).map(function(c){var r=(0,k.Z)(c,2);return{key:r[0],value:r[1]}})})}},{key:"getHealthData",value:function(){var a=this;this.maintenanceService.getHealth().subscribe(function(s){a.healthData=s})}},{key:"fetchEndpointData",value:function(a){var s=this;this.maintenanceService.getEndpointData(a).subscribe(function(c){s.endpointData=c,s.endpointDataArray=Object.entries(c).map(function(r){var d=(0,k.Z)(r,2),v=d[0],_=d[1];return"object"==typeof _&&null!==_&&(_=JSON.stringify(_,null,2)),{key:v,value:_}}),s.endpointDataArray&&s.endpointDataArray.length>0?s.showDialog=!0:s.notificacaoService.showInfo("Info","Nenhum dado encontrado")})}},{key:"showComponentDetails",value:function(a){this.detailsData=a,this.showDialog=!0}},{key:"isJson",value:function(a){try{JSON.parse(a)}catch{return!1}return!0}},{key:"handleTabChange",value:function(a){1===a.index&&this.getHealthData()}},{key:"parseJson",value:function(a){return JSON.parse(a)}},{key:"closeModal",value:function(){this.detailsData={},this.endpointData={},this.showDialog=!1}}]),i}();return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(S.H7),e.Y36(M.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-maintenance"]],decls:23,vars:17,consts:[[3,"onChange"],["header","Actuator Data"],[1,"p-datatable-striped","animate-fade-in",3,"value"],["pTemplate","header"],["pTemplate","body"],["header","Health Data"],[3,"ngClass"],["header","Swagger UI"],[2,"width","100%","height","600px",3,"src"],["header","Endpoint Data",3,"visible","modal","visibleChange"],[3,"json",4,"ngIf"],["type","button","pButton","","icon","pi pi-check","label","OK",3,"click"],[1,"zebrado"],[3,"click"],[1,"customer-badge",3,"ngClass"],[4,"ngIf","ngIfElse"],["noDetails",""],["pButton","","pRipple","","type","button","icon","pi pi-info",1,"p-button-rounded","p-button-success","p-button-outlined",3,"click"],[1,"pi","pi-exclamation-circle",2,"color","#888"],[3,"json"]],template:function(t,a){1&t&&(e.TgZ(0,"p-tabView",0),e.NdJ("onChange",function(c){return a.handleTabChange(c)}),e.TgZ(1,"p-tabPanel",1)(2,"p-table",2),e.YNc(3,R,5,0,"ng-template",3),e.YNc(4,$,6,2,"ng-template",4),e.qZA()(),e.TgZ(5,"p-tabPanel",5)(6,"p"),e._uU(7,"Overall Status: "),e.TgZ(8,"span",6),e._uU(9),e.qZA()(),e.TgZ(10,"h3"),e._uU(11,"Component Status"),e.qZA(),e.TgZ(12,"p-table",2),e.ALo(13,"keyvalue"),e.YNc(14,G,7,0,"ng-template",3),e.YNc(15,ee,10,8,"ng-template",4),e.qZA()(),e.TgZ(16,"p-tabPanel",7),e._UZ(17,"iframe",8),e.qZA()(),e.TgZ(18,"p-dialog",9),e.NdJ("visibleChange",function(c){return a.showDialog=c}),e.YNc(19,ne,1,1,"ngx-json-viewer",10),e.YNc(20,te,1,1,"ngx-json-viewer",10),e.TgZ(21,"p-footer")(22,"button",11),e.NdJ("click",function(){return a.closeModal()}),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("value",a.actuatorData),e.xp6(6),e.Q6J("ngClass",e.WLB(13,ie,"UP"==(null==a.healthData?null:a.healthData.status),"DOWN"==(null==a.healthData?null:a.healthData.status))),e.xp6(1),e.Oqu(null==a.healthData?null:a.healthData.status),e.xp6(3),e.Q6J("value",e.lcZ(13,11,null==a.healthData?null:a.healthData.components)),e.xp6(5),e.Q6J("src",a.swaggerUrl,e.uOi),e.xp6(1),e.Akn(e.DdM(16,ae)),e.Q6J("visible",a.showDialog)("modal",!0),e.xp6(1),e.Q6J("ngIf",a.detailsData),e.xp6(1),e.Q6J("ngIf",!a.detailsData&&a.endpointData))},dependencies:[u.mk,u.O5,I.iA,y.$_,y.jx,x.xf,x.x4,f.V,b.Hq,q,u.Nd]}),o}(),se=(0,m.Z)(function n(){(0,h.Z)(this,n)}),ce=function(){function n(o,i,t){(0,h.Z)(this,n),this.configuracoes=[],this.nome=o,this.codigo=i,this.configuracoes=t||this.configuracoes}return(0,m.Z)(n,[{key:"addConfiguracao",value:function(i){this.configuracoes.push(i)}}]),n}(),j=(0,m.Z)(function n(o){(0,h.Z)(this,n),this.codigo=o.codigo,this.valor=o.valor,this.descricao=o.descricao,this.nome=o.nome,this.grupo=o.grupo,this.codigoGrupo=o.codigoGrupo}),C=l(6223),re=function(){var n,o=function(){function i(t){(0,h.Z)(this,i),this.httpClient=t,this.baseUrl="".concat(p.N.apiContext,"/configuracao")}return(0,m.Z)(i,[{key:"listar",value:function(a){var s=new P.LE;return a&&Object.keys(a).forEach(function(c){var r=a[c];null!=r&&(s=s.append(c,r.toString()))}),this.httpClient.get(this.baseUrl,{params:s})}},{key:"create",value:function(a){return this.httpClient.post(this.baseUrl,a)}}]),i}();return(n=o).\u0275fac=function(t){return new(t||n)(e.LFG(P.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),o}(),N=l(4532),J=l(7161),g=l(4942),T=l(6825),F=l(1604),H=l(3983),U=l(4480),le=l(2332);function de(n,o){1&n&&e._UZ(0,"PlusIcon",11),2&n&&(e.Q6J("styleClass","p-fieldset-toggler"),e.uIk("data-pc-section","togglericon"))}function ge(n,o){1&n&&e.GkF(0)}function pe(n,o){if(1&n&&(e.TgZ(0,"span",12),e.YNc(1,ge,1,0,"ng-container",6),e.qZA()),2&n){var i=e.oxw(3);e.uIk("data-pc-section","togglericon"),e.xp6(1),e.Q6J("ngTemplateOutlet",i.expandIconTemplate)}}function ue(n,o){if(1&n&&(e.ynx(0),e.YNc(1,de,1,2,"PlusIcon",9),e.YNc(2,pe,2,2,"span",10),e.BQk()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!i.expandIconTemplate),e.xp6(1),e.Q6J("ngIf",i.expandIconTemplate)}}function fe(n,o){1&n&&e._UZ(0,"MinusIcon",11),2&n&&(e.Q6J("styleClass","p-fieldset-toggler"),e.uIk("aria-hidden",!0)("data-pc-section","togglericon"))}function _e(n,o){1&n&&e.GkF(0)}function me(n,o){if(1&n&&(e.TgZ(0,"span",12),e.YNc(1,_e,1,0,"ng-container",6),e.qZA()),2&n){var i=e.oxw(3);e.uIk("data-pc-section","togglericon"),e.xp6(1),e.Q6J("ngTemplateOutlet",i.collapseIconTemplate)}}function he(n,o){if(1&n&&(e.ynx(0),e.YNc(1,fe,1,3,"MinusIcon",9),e.YNc(2,me,2,2,"span",10),e.BQk()),2&n){var i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!i.collapseIconTemplate),e.xp6(1),e.Q6J("ngIf",i.collapseIconTemplate)}}function ve(n,o){1&n&&e.GkF(0)}function Ce(n,o){if(1&n){var i=e.EpF();e.ynx(0),e.TgZ(1,"a",7),e.NdJ("click",function(c){e.CHM(i);var r=e.oxw();return e.KtG(r.toggle(c))})("keydown",function(c){e.CHM(i);var r=e.oxw();return e.KtG(r.onKeyDown(c))}),e.YNc(2,ue,3,2,"ng-container",8),e.YNc(3,he,3,2,"ng-container",8),e.YNc(4,ve,1,0,"ng-container",6),e.qZA(),e.BQk()}if(2&n){var t=e.oxw(),a=e.MAs(4);e.xp6(1),e.uIk("id",t.id+"_header")("aria-controls",t.id+"_content")("aria-expanded",!t.collapsed)("aria-label",t.buttonAriaLabel),e.xp6(1),e.Q6J("ngIf",t.collapsed),e.xp6(1),e.Q6J("ngIf",!t.collapsed),e.xp6(1),e.Q6J("ngTemplateOutlet",a)}}function ye(n,o){1&n&&e.GkF(0)}function xe(n,o){if(1&n&&(e.TgZ(0,"span",13),e._uU(1),e.qZA(),e.Hsn(2,1),e.YNc(3,ye,1,0,"ng-container",6)),2&n){var i=e.oxw();e.uIk("data-pc-section","legendtitle"),e.xp6(1),e.Oqu(i.legend),e.xp6(2),e.Q6J("ngTemplateOutlet",i.headerTemplate)}}function be(n,o){1&n&&e.GkF(0)}var Te=["*",[["p-header"]]],Me=function(o,i){return{"p-fieldset p-component":!0,"p-fieldset-toggleable":o,"p-fieldset-expanded":i}},Ie=function(o){return{transitionParams:o,height:"0"}},Oe=function(o){return{value:"hidden",params:o}},Pe=function(o){return{transitionParams:o,height:"*"}},Ae=function(o){return{value:"visible",params:o}},Ze=["*","p-header"],ke=function(){var n,o=function(){function i(t){(0,h.Z)(this,i),(0,g.Z)(this,"el",void 0),(0,g.Z)(this,"legend",void 0),(0,g.Z)(this,"toggleable",void 0),(0,g.Z)(this,"collapsed",!1),(0,g.Z)(this,"style",void 0),(0,g.Z)(this,"styleClass",void 0),(0,g.Z)(this,"transitionOptions","400ms cubic-bezier(0.86, 0, 0.07, 1)"),(0,g.Z)(this,"collapsedChange",new e.vpe),(0,g.Z)(this,"onBeforeToggle",new e.vpe),(0,g.Z)(this,"onAfterToggle",new e.vpe),(0,g.Z)(this,"templates",void 0),(0,g.Z)(this,"animating",void 0),(0,g.Z)(this,"headerTemplate",void 0),(0,g.Z)(this,"contentTemplate",void 0),(0,g.Z)(this,"collapseIconTemplate",void 0),(0,g.Z)(this,"expandIconTemplate",void 0),this.el=t}return(0,m.Z)(i,[{key:"id",get:function(){return(0,le.Th)()}},{key:"buttonAriaLabel",get:function(){return this.legend}},{key:"ngAfterContentInit",value:function(){var a=this;this.templates.forEach(function(s){switch(s.getType()){case"header":a.headerTemplate=s.template;break;case"expandicon":a.expandIconTemplate=s.template;break;case"collapseicon":a.collapseIconTemplate=s.template;break;case"content":a.contentTemplate=s.template}})}},{key:"toggle",value:function(a){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:a,collapsed:this.collapsed}),this.collapsed?this.expand():this.collapse(),this.onAfterToggle.emit({originalEvent:a,collapsed:this.collapsed}),a.preventDefault()}},{key:"onKeyDown",value:function(a){("Enter"===a.code||"Space"===a.code)&&(this.toggle(a),a.preventDefault())}},{key:"expand",value:function(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}},{key:"collapse",value:function(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}},{key:"getBlockableElement",value:function(){return this.el.nativeElement.children[0]}},{key:"onToggleDone",value:function(){this.animating=!1}}]),i}();return n=o,(0,g.Z)(o,"\u0275fac",function(t){return new(t||n)(e.Y36(e.SBq))}),(0,g.Z)(o,"\u0275cmp",e.Xpm({type:n,selectors:[["p-fieldset"]],contentQueries:function(t,a,s){var c;1&t&&e.Suo(s,y.jx,4),2&t&&e.iGM(c=e.CRH())&&(a.templates=c)},hostAttrs:[1,"p-element"],inputs:{legend:"legend",toggleable:"toggleable",collapsed:"collapsed",style:"style",styleClass:"styleClass",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},ngContentSelectors:Ze,decls:9,vars:28,consts:[[3,"ngClass","ngStyle"],[1,"p-fieldset-legend"],[4,"ngIf","ngIfElse"],["legendContent",""],["role","region",1,"p-toggleable-content"],[1,"p-fieldset-content"],[4,"ngTemplateOutlet"],["pRipple","","tabindex","0","role","button",3,"click","keydown"],[4,"ngIf"],[3,"styleClass",4,"ngIf"],["class","p-fieldset-toggler",4,"ngIf"],[3,"styleClass"],[1,"p-fieldset-toggler"],[1,"p-fieldset-legend-text"]],template:function(t,a){if(1&t&&(e.F$t(Te),e.TgZ(0,"fieldset",0)(1,"legend",1),e.YNc(2,Ce,5,7,"ng-container",2),e.YNc(3,xe,4,3,"ng-template",null,3,e.W1O),e.qZA(),e.TgZ(5,"div",4),e.NdJ("@fieldsetContent.done",function(){return a.onToggleDone()}),e.TgZ(6,"div",5),e.Hsn(7),e.YNc(8,be,1,0,"ng-container",6),e.qZA()()()),2&t){var s=e.MAs(4);e.Tol(a.styleClass),e.Q6J("ngClass",e.WLB(17,Me,a.toggleable,!a.collapsed&&a.toggleable))("ngStyle",a.style),e.uIk("id",a.id)("data-pc-name","fieldset")("data-pc-section","root"),e.xp6(1),e.uIk("data-pc-section","legend"),e.xp6(1),e.Q6J("ngIf",a.toggleable)("ngIfElse",s),e.xp6(3),e.Q6J("@fieldsetContent",a.collapsed?e.VKq(22,Oe,e.VKq(20,Ie,a.transitionOptions)):e.VKq(26,Ae,e.VKq(24,Pe,a.animating?a.transitionOptions:"0ms"))),e.uIk("id",a.id+"_content")("aria-labelledby",a.id+"_header")("aria-hidden",a.collapsed)("data-pc-section","toggleablecontent"),e.xp6(1),e.uIk("data-pc-section","content"),e.xp6(2),e.Q6J("ngTemplateOutlet",a.contentTemplate)}},dependencies:function(){return[u.mk,u.O5,u.tP,u.PC,U.H,F.V,H.p]},styles:[".p-fieldset-legend>a,.p-fieldset-legend>span{display:flex;align-items:center;justify-content:center}.p-fieldset-toggleable .p-fieldset-legend a{cursor:pointer;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-fieldset-legend-text{line-height:1}.p-fieldset-toggleable.p-fieldset-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-fieldset-toggleable .p-toggleable-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[(0,T.X$)("fieldsetContent",[(0,T.SB)("hidden",(0,T.oB)({height:"0"})),(0,T.SB)("visible",(0,T.oB)({height:"*"})),(0,T.eR)("visible <=> hidden",[(0,T.jt)("{{transitionParams}}")]),(0,T.eR)("void => *",(0,T.jt)(0))])]},changeDetection:0})),o}(),we=function(){var n,o=(0,m.Z)(function i(){(0,h.Z)(this,i)});return n=o,(0,g.Z)(o,"\u0275fac",function(t){return new(t||n)}),(0,g.Z)(o,"\u0275mod",e.oAB({type:n})),(0,g.Z)(o,"\u0275inj",e.cJS({imports:[u.ez,U.T,F.V,H.p,y.m8]})),o}();function Ee(n,o){if(1&n&&e._UZ(0,"p-message",22),2&n){var i=e.oxw().$implicit;e.s9C("text",i.mensagemErro)}}function De(n,o){if(1&n&&e._UZ(0,"p-message",23),2&n){var i=e.oxw().$implicit;e.s9C("text",i.mensagemSucesso)}}function Se(n,o){if(1&n){var i=e.EpF();e.TgZ(0,"div",16)(1,"p-fieldset",17)(2,"p"),e._uU(3),e.qZA(),e.TgZ(4,"div",18)(5,"span",19),e._uU(6),e.qZA(),e.TgZ(7,"input",20),e.NdJ("ngModelChange",function(c){var r=e.CHM(i);return e.KtG(r.$implicit.valor=c)}),e.qZA(),e.TgZ(8,"button",21),e.NdJ("click",function(){var c=e.CHM(i),r=c.$implicit,d=c.index,v=e.oxw().index,_=e.oxw();return e.KtG(_.submitConfig(r,v,d))}),e.qZA()(),e.YNc(9,Ee,1,1,"p-message",14),e.YNc(10,De,1,1,"p-message",15),e.qZA()()}if(2&n){var t=o.$implicit,a=o.index;e.xp6(1),e.s9C("legend",t.nome),e.xp6(2),e.Oqu(t.descricao),e.xp6(3),e.Oqu(t.codigo),e.xp6(1),e.MGl("name","name",a,""),e.Q6J("ngModel",t.valor),e.xp6(2),e.Q6J("ngIf",t.mensagemErro),e.xp6(1),e.Q6J("ngIf",t.mensagemSucesso)}}function je(n,o){if(1&n&&e._UZ(0,"p-message",22),2&n){var i=e.oxw().$implicit;e.s9C("text",i.mensagemErro)}}function Ne(n,o){if(1&n&&e._UZ(0,"p-message",23),2&n){var i=e.oxw().$implicit;e.s9C("text",i.mensagemSucesso)}}function Je(n,o){if(1&n){var i=e.EpF();e.TgZ(0,"form",10),e.NdJ("submit",function(){var s=e.CHM(i),c=s.$implicit,r=s.index,d=e.oxw();return e.KtG(d.submitConfigAll(c,r))}),e.TgZ(1,"p-card")(2,"h4")(3,"strong"),e._uU(4),e.ALo(5,"titlecase"),e.qZA()(),e.YNc(6,Se,11,7,"div",11),e.TgZ(7,"div",12),e._UZ(8,"button",13),e.qZA(),e.YNc(9,je,1,1,"p-message",14),e.YNc(10,Ne,1,1,"p-message",15),e.qZA()()}if(2&n){var t=o.$implicit;e.xp6(4),e.Oqu(e.lcZ(5,4,t.codigo)),e.xp6(2),e.Q6J("ngForOf",t.configuracoes),e.xp6(3),e.Q6J("ngIf",t.mensagemErro),e.xp6(1),e.Q6J("ngIf",t.mensagemSucesso)}}var He=[{path:"",component:oe},{path:"config",component:function(){var n,o=function(){function i(t,a){(0,h.Z)(this,i),this.notificacaoService=t,this.configuracaoService=a,this.grupos=[],this.parametrosGet=new se,this.parametrosPost=[],this.mensagemErro=null,this.mensagemSucesso=null,this.columns=[{field:"codigo",header:"C\xf3digo"},{field:"valor",header:"Valor"},{field:"descricao",header:"Descri\xe7\xe3o"},{field:"nome",header:"Nome"},{field:"grupo",header:"Grupo"}],this.searchForm=new C.cw({codigo:new C.NI(null),grupo:new C.NI(null)}),this.isLoading=!1}return(0,m.Z)(i,[{key:"ngOnInit",value:function(){this.loadConfig()}},{key:"loadConfig",value:function(){var a=this;this.configuracaoService.listar(this.parametrosGet).subscribe({next:function(c){a.notificacaoService.showSuccess("Success","Configura\xe7\xf5es carregadas com sucesso"),a.grupos=a.splitConfiguracoesInGrupos(c)},error:function(c){a.notificacaoService.showError("Error",c&&c.message?c.message:"N\xe3o foi poss\xedvel buscar as configura\xe7\xf5es ! Tente novamente mais tarde")}})}},{key:"onSearch",value:function(a){this.parametrosGet.codigo=a.codigo,this.parametrosGet.grupo=a.grupo,this.loadConfig()}},{key:"splitConfiguracoesInGrupos",value:function(a){var s=new Array;return a.forEach(function(c){var r=s.findIndex(function(d){return d.codigo===c.codigoGrupo});-1==r?s.push(new ce(c.nome,c.codigoGrupo,[new j(c)])):s[r].configuracoes.push(new j(c))}),console.log(s),s}},{key:"submitConfig",value:function(a,s,c){var r=this,d=new j(a);this.configuracaoService.create([d]).subscribe({next:function(){r.notificacaoService.showSuccess("Sucesso","Configura\xe7\xe3o atualizada com sucesso"),r.loadConfig(),r.grupos[s].configuracoes[c].mensagemErro=null,r.grupos[s].configuracoes[c].mensagemSucesso="Configura\xe7\xe3o alterada com sucesso.",setTimeout(function(){r.grupos[s].configuracoes[c].mensagemSucesso=null},3e3)},error:function(_){r.notificacaoService.showError("Error",_&&_.message?_.message:"N\xe3o foi poss\xedvel alterar a configura\xe7\xe3o ! Tente novamente mais tarde"),r.grupos[s].configuracoes[c].mensagemErro="N\xe3o foi poss\xedvel alterar a configura\xe7\xe3o",r.grupos[s].configuracoes[c].mensagemSucesso=null,setTimeout(function(){r.grupos[s].configuracoes[c].mensagemErro=null},3e3)}})}},{key:"submitConfigAll",value:function(a,s){var c=this;this.configuracaoService.create(a.configuracoes).subscribe({next:function(){c.notificacaoService.showSuccess("Sucesso","Configura\xe7\xf5es atualizadas com sucesso"),c.loadConfig(),c.grupos[s].mensagemErro=null,c.grupos[s].mensagemSucesso="Configura\xe7\xf5es alterada com sucesso.",setTimeout(function(){c.grupos[s].mensagemSucesso=null},3e3)},error:function(d){c.notificacaoService.showError("Error",d&&d.message?d.message:"N\xe3o foi poss\xedvel alterar as configura\xe7\xf5es ! Tente novamente mais tarde"),c.grupos[s].mensagemErro="N\xe3o foi poss\xedvel alterar a configura\xe7\xe3o",c.grupos[s].mensagemSucesso=null,setTimeout(function(){c.mensagemErro=null},3e3)}})}}]),i}();return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(M.g),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-config"]],decls:15,vars:4,consts:[[1,"card"],[1,"formgroup-inline",3,"formGroup","ngSubmit"],[1,"field"],["for","codigo",1,"p-sr-only"],["id","codigo","formControlName","codigo","pInputText","","placeholder","Codigo da Configura\xe7\xe3o",1,"p-2"],["for","grupo",1,"p-sr-only"],["id","grupo","formControlName","grupo","pInputText","","placeholder","Gruopo da Configura\xe7\xe3o",1,"p-2"],["type","submit","label","Buscar",3,"disabled","loading"],[1,"p-grid"],["class","p-col-12 p-md-6",3,"submit",4,"ngFor","ngForOf"],[1,"p-col-12","p-md-6",3,"submit"],["class","p-mb-3",4,"ngFor","ngForOf"],[1,"p-text-center"],["pButton","","type","submit","label","Atualizar todos",1,"p-button-primary"],["severity","warn",3,"text",4,"ngIf"],["severity","success",3,"text",4,"ngIf"],[1,"p-mb-3"],[3,"legend"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],["type","text","pInputText","","placeholder","Valor",3,"ngModel","name","ngModelChange"],["pButton","","type","button","label","Atualizar",1,"p-button-link",3,"click"],["severity","warn",3,"text"],["severity","success",3,"text"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"Configura\xe7\xf5es"),e.qZA(),e.TgZ(3,"form",1),e.NdJ("ngSubmit",function(){return a.onSearch(a.searchForm.value)}),e.TgZ(4,"div",2)(5,"label",3),e._uU(6,"Codigo"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"div",2)(9,"label",5),e._uU(10,"Grupo"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e._UZ(12,"p-button",7),e.qZA()(),e.TgZ(13,"div",8),e.YNc(14,Je,11,6,"form",9),e.qZA()),2&t&&(e.xp6(3),e.Q6J("formGroup",a.searchForm),e.xp6(9),e.Q6J("disabled",!a.searchForm.valid||a.isLoading)("loading",a.isLoading),e.xp6(2),e.Q6J("ngForOf",a.grupos))},dependencies:[u.sg,u.O5,b.Hq,b.zx,C._Y,C.Fj,C.JJ,C.JL,C.sg,C.u,N.Z,C.On,C.F,J.q,ke,u.rS]}),o}()},{path:"**",redirectTo:"/notfound"}],Ue=function(){var n,o=(0,m.Z)(function i(){(0,h.Z)(this,i)});return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Z.Bz.forChild(He),Z.Bz]}),o}(),Qe=l(3965),Be=l(6005),Ke=l(4562),We=function(){var n,o=(0,m.Z)(function i(){(0,h.Z)(this,i)});return n=o,(0,g.Z)(o,"\u0275fac",function(t){return new(t||n)}),(0,g.Z)(o,"\u0275mod",e.oAB({type:n})),(0,g.Z)(o,"\u0275inj",e.cJS({imports:[u.ez,Ke.X,Be.v,y.m8]})),o}(),Xe=function(){var n,o=(0,m.Z)(function i(){(0,h.Z)(this,i)});return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,Ue,I.U$,x.LU,f.S,b.hJ,V,Qe.kW,C.UX,We,N.d,C.u5,J.O,we]}),o}()},3983:(B,A,l)=>{l.d(A,{p:()=>S});var m=l(5671),h=l(3144),u=l(7326),Z=l(136),k=l(8486),e=l(4942),p=l(6954),P=l(4713),D=l(2332),S=function(){var M,I=function(y){(0,Z.Z)(f,y);var x=(0,k.Z)(f);function f(){var b;(0,m.Z)(this,f);for(var w=arguments.length,E=new Array(w),O=0;O<w;O++)E[O]=arguments[O];return b=x.call.apply(x,[this].concat(E)),(0,e.Z)((0,u.Z)(b),"pathId",void 0),b}return(0,h.Z)(f,[{key:"ngOnInit",value:function(){this.pathId="url(#"+(0,D.Th)()+")"}}]),f}(P.s);return M=I,(0,e.Z)(I,"\u0275fac",function(){var y;return function(f){return(y||(y=p.n5z(M)))(f||M)}}()),(0,e.Z)(I,"\u0275cmp",p.Xpm({type:M,selectors:[["PlusIcon"]],standalone:!0,features:[p.qOj,p.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(x,f){1&x&&(p.O4$(),p.TgZ(0,"svg",0)(1,"g"),p._UZ(2,"path",1),p.qZA(),p.TgZ(3,"defs")(4,"clipPath",2),p._UZ(5,"rect",3),p.qZA()()()),2&x&&(p.Tol(f.getClassNames()),p.uIk("aria-label",f.ariaLabel)("aria-hidden",f.ariaHidden)("role",f.role),p.xp6(1),p.uIk("clip-path",f.pathId),p.xp6(3),p.Q6J("id",f.pathId))},encapsulation:2})),I}()}}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="ff11ab03-0823-5ebb-853d-9ac32538a235")}catch(e){}}();
//# debugId=ff11ab03-0823-5ebb-853d-9ac32538a235
